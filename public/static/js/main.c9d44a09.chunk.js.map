{"version":3,"sources":["redux/actions/auth.js","redux/actions/blogs.js","components/Header/Header.js","components/Home/Home.js","components/FinalHome/FinalHome.js","redux/actions/filters.js","components/BlogsFilters/BlogsFilters.js","components/MessageSnackBar/MessageSnackBar.js","redux/actions/message.js","controllers/removeBlog.js","controllers/shared.js","components/BlogListItem/BlogListItem.js","redux/selectors/getBlogs.js","components/Blogs/Blogs.js","secret.js","components/Dashboard/Dashboard.js","controllers/getBlogs.js","components/FinalDashboard/FinalDashboard.js","controllers/updateBlogs.js","controllers/editBlogs.js","components/Create/Create.js","components/FinalCreate/FinalCreate.js","controllers/loginController.js","controllers/googleAuthController.js","components/Login/Login.js","components/FinalLogin/FinalLogin.js","controllers/signupController.js","components/Register/Register.js","components/FinalRegister/FinalRegister.js","components/Shared/Shared.js","components/Error404/Error404.js","App.js","redux/reducers/blogs.js","redux/reducers/filters.js","redux/reducers/auth.js","redux/reducers/message.js","index.js","redux/store/configureStore.js"],"names":["userLogOut","type","userLogin","addBlog","_ref","arguments","length","undefined","title","description","_ref$createdAt","createdAt","_ref$lastModified","lastModified","blog","id","uuid","removeBlog","editBlog","updates","addBlogArr","blogArr","blogs","sharedBlog","addAddress","address","Header","handleLogout","_this","props","dispatch","localStorage","removeItem","react_default","a","createElement","index_es","position","variant","color","Link","to","className","this","auth","loggedIn","window","location","pathname","href","onClick","React","Component","connect","state","Home","src","alt","FinalHome","react","components_Header_Header","components_Home_Home","setTextFilter","text","setStartDate","startDate","setEndDate","endDate","BlogsFilter","handleStartDateChange","e","target","value","startDateTimeStamp","moment","valueOf","handleEndDateChange","endDateTimeStamp","handleTextChange","textField","console","log","label","margin","filters","onChange","format","InputLabelProps","shrink","onEmptied","MessageSnackBar","anchorOrigin","vertical","horizontal","open","show","ContentProps","aria-describedby","message","errorMessage","err","error","successMessage","clearMessages","removeBlogFromDb","blogId","fetch","concat","getItem","method","headers","Content-Type","body","JSON","stringify","then","res","json","result","response","postSharedBlog","BlogListItem","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","setState","handleOpen","handleClose","handleLinkClick","select","document","execCommand","setTimeout","handleSharedChange","shareBlog","shared","alert","tokenStatus","handleRemoveBlog","copied","Redirect","push","search","size","aria-labelledby","onClose","checked","origin","Delete_default","components_MessageSnackBar_MessageSnackBar","getBlogs","sortBy","filter","startDateMatch","endDateMatch","textMatch","toLowerCase","includes","sort","b","Blogs","map","components_BlogListItem_BlogListItem","key","secret","Dashboard","loadAddress","_loop","i","_this$props$blogs$i$p","latitude","longitude","google","maps","Geocoder","geocode","lat","lng","results","status","formatted_address","isMapReady","that","url","callback","index","getElementsByTagName","script","async","defer","addEventListener","onload","parentNode","insertBefore","loadMap","secrets","BlogsFilters_BlogsFilters","components_Blogs_Blogs","scrollTo","mini","aria-label","Add_default","getBlogsFromDb","FinalDashboard","verifying","_this2","components_Dashboard_Dashboard","updateBlogs","editBlogs","Create","temp","modified","handleClick","preventDefault","elements","newBlog","Date","getTime","objectSpread","updated","clicked","correctBlog","split","history","replaceState","onSubmit","fullWidth","name","placeholder","multiline","rows","rowsMax","disabled","FinalCreate","components_Create_Create","postLoginData","formData","catch","googleAuth","data","Login","handleEmailChange","email","errorEmail","handlePasswordChange","password","errorPassword","handleSubmit","validator","isEmail","errorPasswordText","errorEmailText","setItem","token","responseGoogle","user","username","profileObj","accessToken","refreshToken","profileImage","imageUrl","googleId","errorUserType","errorPosition","redirectSignup","jwtToken","helperText","google_login_default","clientId","buttonText","render","renderProps","onSuccess","onFailure","FinalLogin","components_Login_Login","postSignupData","regEx","Register","handleNameChange","errorName","handleTypeChange","typePerson","handleConfirmPasswordChange","confirmPassword","errorConfirmPassword","handleGeolocationClick","assertThisInitialized","navigator","geolocation","getCurrentPosition","coords","pass0","pass1","personType","matches","userType","errorNameText","errorConfirmPasswordText","success","redirect","errorPositionText","gutterBottom","FinalRegister","components_Register_Register","Shared","fetching","finalResult","getSharedBlog","Error404","back","Button_default","App","BrowserRouter","Switch","Route","path","component","exact","blogsReducerDefaultState","action","toConsumableArray","filtersReducerDefaultState","endOf","date","authReducerDefaultState","loggedOut","signUpMessage","messageReducerDefaultState","store","createStore","combineReducers","blogsReducer","filtersReducer","authReducer","messageReducer","serviceWorker","register","jsx","es","src_App_0","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.c9d44a09.chunk.js","sourcesContent":["export const userLogOut = () => ({\r\n    type: 'LOGGED_OUT'\r\n});\r\n\r\nexport const userLogin = () => ({\r\n    type: 'LOGGED_IN'\r\n});\r\n\r\nexport const signUp = () => ({\r\n    type: 'SINGUP_SUCCESS'\r\n});\r\n\r\nexport const removeSignUp = () => ({\r\n    type: 'REMOVE_SIGNUP'\r\n});","import uuid from 'uuid';\r\n\r\nexport const addBlog = ({ title, description, createdAt = 0, lastModified = 0 } = {}) => ({\r\n    type: 'ADD_BLOG',\r\n    blog: {\r\n        id: uuid(),\r\n        description,\r\n        title,\r\n        createdAt,\r\n        lastModified\r\n    }\r\n});\r\n\r\nexport const removeBlog = ({ id } = {}) => ({\r\n    type: 'REMOVE_BLOG',\r\n    id\r\n});\r\n\r\nexport const editBlog = (id, updates) => ({\r\n    type: 'EDIT_BLOG',\r\n    id,\r\n    updates\r\n});\r\n\r\nexport const addBlogArr = (blogArr) => ({\r\n    type: 'ADD_BLOG_ARR',\r\n    blogs: blogArr\r\n});\r\n\r\nexport const sharedBlog = (id) => ({\r\n    type: 'SHARED_BLOG',\r\n    id\r\n});\r\n\r\nexport const addAddress = (address, id) => ({\r\n    type: 'ADD_ADDRESS',\r\n    address,\r\n    id\r\n});","import React from 'react';\r\nimport './Header.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppBar, Toolbar, Typography, Button } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { userLogOut } from '../../redux/actions/auth';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\n\r\nclass Header extends React.Component {\r\n\r\n  handleLogout = () => {\r\n    // if logout button click remove, login token from local storage\r\n    this.props.dispatch(addBlogArr([]));\r\n    this.props.dispatch(userLogOut());\r\n    localStorage.removeItem('loginToken');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <AppBar position='static'>\r\n            <Toolbar>\r\n              <Typography variant='title' color='inherit'>\r\n                <Link to=\"/\" className='my-blog-title'>\r\n                  Agro Mart\r\n                </Link>\r\n              </Typography>\r\n              {this.props.auth.loggedIn ?\r\n                (\r\n                  window.location.pathname === '/' ?\r\n                    (\r\n                      <Link to=\"/user/login\" className='login-button'>\r\n                        <Button color='inherit'>Login</Button>\r\n                      </Link>\r\n                    ) :\r\n                    (\r\n                      <a href=\"#\" className='logout-button'>\r\n                        <Button onClick={this.handleLogout} color='inherit'>logout</Button>\r\n                      </a>\r\n                    )\r\n                )\r\n                :\r\n                (\r\n                  <Link to=\"/user/login\" className='login-button'>\r\n                    <Button color='inherit'>Login</Button>\r\n                  </Link>\r\n                )\r\n              }\r\n            </Toolbar>\r\n          </AppBar>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import React from 'react';\r\nimport './Home.css';\r\n\r\nconst Home = () => (\r\n  <div>\r\n    <div>\r\n      <img className=\"header-image\" src=\"img/header-image.png\" alt=\"\" />\r\n    </div>\r\n    <div className=\"details\">\r\n      <div className=\"col span-1-of-4 box\">\r\n        <h3><i className=\"fal fa-clock\"></i>&nbsp;&nbsp;Up to 365 days/year</h3>\r\n        <p>Neverever you think about your holidays we are always here to guide you and we will make best trip for you anytime, anywhere.</p>\r\n      </div>\r\n      <div className=\"col span-2-of-4 box\">\r\n        <h3><i className=\"fal fa-lemon\"></i>&nbsp;&nbsp;100% hygenic food</h3>\r\n        <p>We always keep care about our customer's health so we will definitely give hygenic & best dishes to our customers. </p>\r\n      </div>\r\n      <div className=\"col span-3-of-4 box\">\r\n        <h3><i className=\"fal fa-handshake\"></i>&nbsp;&nbsp;Best Deal</h3>\r\n        <p>Get a best deal from pleasure trip which will always for famliy & friends.</p>\r\n      </div>\r\n      <div className=\"col span-4-of-4 box\">\r\n        <h3><i className=\"fal fa-credit-card\"></i>&nbsp;&nbsp;Secure Payments</h3>\r\n        <p>We are using a best security for payments purpose through which our user willn't get any problem.</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"footer\">\r\n      <i className=\"fab fa-facebook-f\"></i>\r\n      <i className=\"fab fa-instagram\"></i>\r\n      <i className=\"fab fa-youtube\"></i>\r\n      <i className=\"fab fa-twitter\"></i>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Home;","import React, { Fragment } from 'react';\r\nimport Header from '../Header/Header';\r\nimport Home from '../Home/Home';\r\n\r\nclass FinalHome extends React.Component {\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <Header />\r\n        <Home />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FinalHome;","export const setTextFilter = (text = '') => ({\r\n    type: 'SET_TEXT_FILTER',\r\n    text\r\n});\r\n\r\nexport const sortByDate = (date) => ({\r\n    type: 'SET_DATE_FILTER',\r\n    date\r\n});\r\n\r\nexport const setStartDate = (startDate = undefined) => ({\r\n    type: 'SET_START_DATE',\r\n    startDate\r\n});\r\n\r\nexport const setEndDate = (endDate = undefined) => ({\r\n    type: 'SET_END_DATE',\r\n    endDate\r\n});","import React from 'react';\r\nimport './BlogsFilters.css';\r\nimport moment from 'moment';\r\nimport { TextField } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { setTextFilter, setStartDate, setEndDate } from '../../redux/actions/filters';\r\n\r\nclass BlogsFilter extends React.Component {\r\n\r\n  handleStartDateChange = (e) => {\r\n    const startDate = e.target.value;\r\n      // converting date string to timestamp\r\n      const startDateTimeStamp = moment(startDate ? startDate : 0).valueOf();\r\n      // dispatching setStartDate to filter blogs\r\n      this.props.dispatch(setStartDate(startDateTimeStamp ? startDateTimeStamp : 0));\r\n  }\r\n\r\n  handleEndDateChange = (e) => {\r\n    const endDate = e.target.value;\r\n      // converting date string to timestamp\r\n      const endDateTimeStamp = moment(endDate ? endDate : 0).valueOf();\r\n      // dispatching setEndDate to filter blogs\r\n      this.props.dispatch(setEndDate(endDateTimeStamp ? endDateTimeStamp : 0))\r\n  }\r\n\r\n  handleTextChange = (e) => {\r\n    const textField = e.target.value;\r\n    // get value from text field and set it as text filter in filters state\r\n    this.props.dispatch(setTextFilter(textField));\r\n  }\r\n\r\n  componentWillMount() {\r\n    console.log();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='form-filter-container'>\r\n        <TextField\r\n          id=\"search\"\r\n          label=\"Search\"\r\n          type=\"search\"\r\n          margin=\"normal\"\r\n          value={this.props.filters.text}\r\n          onChange={this.handleTextChange}\r\n          className='search-field form-filter-child'\r\n        />\r\n\r\n        <div className='date-form form-filter-child'>\r\n          <div className='start-date'>\r\n            <TextField\r\n              id=\"date\"\r\n              label=\"Start Date\"\r\n              type=\"date\"\r\n              value={this.props.filters.startDate ? moment(this.props.filters.startDate).format('YYYY-MM-DD') : ''}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onEmptied={this.handleStartDateChange}\r\n              onChange={this.handleStartDateChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className='date-form form-filter-child'>\r\n          <div className='end-date'>\r\n            <TextField\r\n              id=\"date\"\r\n              label=\"End Date\"\r\n              type=\"date\"\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              value={moment(this.props.filters.endDate).format('YYYY-MM-DD')}\r\n              onEmptied={this.handleEndDateChange}\r\n              onChange={this.handleEndDateChange}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    filters: state.filters\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BlogsFilter);","import React from 'react';\r\nimport './MessageSnackBar.css';\r\nimport { Snackbar } from '@material-ui/core';\r\n\r\nclass MessageSnackBar extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className='error-message'>\r\n          <Snackbar\r\n            anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\r\n            open={this.props.show}\r\n            ContentProps={{\r\n              'aria-describedby': 'message-id',\r\n            }}\r\n            message={<span id=\"message-id\">{this.props.message}</span>}\r\n            className='snackbar-error-message'\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MessageSnackBar;","export const errorMessage = (errorMessage, err) => ({\r\n    type: 'ERROR_MESSAGE',\r\n    errorMessage,\r\n    error: err\r\n});\r\n\r\nexport const successMessage = (successMessage) => ({\r\n    type: 'SUCCESS_MESSAGE',\r\n    successMessage\r\n});\r\n\r\nexport const clearMessages = () => ({\r\n    type: 'CLEAR_ALL'\r\n})","export const removeBlogFromDb = (blogId) => {\r\n    return fetch(`https://agro-mart.herokuapp.com/user/blogs${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'delete',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ blogId: blogId })\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","export const postSharedBlog = (sharedBlog) => {\r\n    return fetch(`https://agro-mart.herokuapp.com/public/shared${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'post',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(sharedBlog)\r\n    }).then(response => {\r\n        return response.json().then(result => {\r\n            return result;\r\n        }).then(res => {\r\n            return res;\r\n        });\r\n    });\r\n}\r\n\r\nexport const getSharedBlog = (id) => {\r\n    return fetch(`/public/shared/blog?id=${id}`).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(finalResult => {\r\n            return finalResult;\r\n        });\r\n    });\r\n}","import React, { Fragment } from 'react';\r\nimport './BlogListItem.css';\r\nimport { Card, Typography, Button, Modal, Paper, Switch, TextField } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport moment from 'moment';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport MessageSnackBar from '../MessageSnackBar/MessageSnackBar';\r\nimport { sharedBlog, removeBlog } from '../../redux/actions/blogs';\r\nimport { successMessage, clearMessages } from '../../redux/actions/message';\r\nimport { userLogOut } from '../../redux/actions/auth';\r\nimport { removeBlogFromDb } from '../../controllers/removeBlog';\r\nimport { postSharedBlog } from '../../controllers/shared';\r\n\r\n// TODO: redirect to login and bring user back to where he was\r\n// Remove the bug of fontawesome icons not being loaded\r\nclass BlogListItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: false,\r\n      shared: false,\r\n      copied: false,\r\n      open: false\r\n    }\r\n  }\r\n\r\n  handleChange = () => {\r\n    this.setState(() => ({ value: true }));\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState(() => ({ open: true }));\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState(() => ({ open: false }));\r\n  }\r\n\r\n  handleLinkClick = (e) => {\r\n    e.target.select();\r\n    document.execCommand('copy');\r\n    this.props.dispatch(successMessage('Link copied to clipboard.', 'link copied to clipboard.'))\r\n    setTimeout(() => {\r\n      this.props.dispatch(clearMessages());\r\n    }, 8000);\r\n  }\r\n\r\n  handleSharedChange = () => {\r\n    let shareBlog = {\r\n      blogId: this.props.blog.id,\r\n      title: this.props.blog.title,\r\n      description: this.props.blog.description,\r\n      createdAt: this.props.blog.createdAt,\r\n      lastModified: this.props.blog.lastModified,\r\n      shared: !(this.props.blog.shared)\r\n    }\r\n\r\n    postSharedBlog(shareBlog).then(res => {\r\n      if (res.error) {\r\n        alert('Something went wrong please try again after sometime.');\r\n      } else if (res.tokenStatus) {\r\n        this.props.dispatch(userLogOut());\r\n      } else {\r\n        this.props.dispatch(sharedBlog(this.props.blog.id));\r\n      }\r\n    });\r\n  }\r\n\r\n  handleRemoveBlog = () => {\r\n    removeBlogFromDb(this.props.blog.id).then(res => {\r\n      if (res.tokenStatus) {\r\n        this.props.dispatch(userLogOut());\r\n      } else if (res.error) {\r\n        alert('Something went wrong. Please try again later');\r\n      } else if (res.message === 'successful') {\r\n        this.props.dispatch(removeBlog({ id: this.props.blog.id }));\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {/* To redirect user when click event occurs on specific blog item in list */}\r\n        {this.state.value ?\r\n          (\r\n            <Redirect push to={{ pathname: '/create', search: `?id=${this.props.blog.id}` }} />\r\n          ) :\r\n          (\r\n            <Card className='items-grid-item'>\r\n              <div className='blog-wrapper'>\r\n                <p onClick={this.handleChange} className='blog-title'>\r\n                  {this.props.blog.shared ? <i className=\"fal fa-users\"></i> : <i className=\"fal fa-user\"></i>}\r\n                  <span>{this.props.blog.title}</span>\r\n                </p>\r\n                <p className='blog-description' title={this.props.blog.description}><b>Description</b>: {this.props.blog.description}</p>\r\n                {\r\n                  this.props.blog.address &&\r\n                  <p className='blog-address' title={this.props.blog.address}><b>Address</b>: {this.props.blog.address}</p>\r\n                }\r\n                <p className='blog-datetime'>\r\n                  Created At: <span>{moment(this.props.blog.createdAt).format('Do MMM YYYY, hh:mm a')}</span>\r\n                </p>\r\n                <p className='blog-datetime'>\r\n                  Modified On: <span>{moment(this.props.blog.lastModified).format('Do MMM YYYY, hh:mm a')}</span>\r\n                </p>\r\n                <div className='blog-buttons'>\r\n                  <div className='modal-open-button'>\r\n                    <Button onClick={this.handleOpen} size='small'>Share</Button>\r\n                    <Modal\r\n                      aria-labelledby=\"simple-modal-title\"\r\n                      aria-describedby=\"simple-modal-description\"\r\n                      open={this.state.open}\r\n                      onClose={this.handleClose}\r\n                      className='modal'\r\n                    >\r\n                      <Paper className='modal-content'>\r\n                        <Typography variant=\"title\" id=\"modal-title\">\r\n                          Share?\r\n                        </Typography>\r\n                        <Switch\r\n                          checked={this.props.blog.shared}\r\n                          onChange={this.handleSharedChange}\r\n                          color=\"primary\"\r\n                        />\r\n                        {this.props.blog.shared ?\r\n                          (\r\n                            <TextField\r\n                              id=\"name\"\r\n                              value={`${window.location.origin}/public/shared?id=${this.props.blog.id}`}\r\n                              onClick={this.handleLinkClick}\r\n                            />\r\n                          ) :\r\n                          null\r\n                        }\r\n                        <Typography variant=\"subheading\" id=\"simple-modal-description\">\r\n                          By making it public you understand that it will be available to everyone.\r\n                        </Typography>\r\n                      </Paper>\r\n                    </Modal>\r\n                  </div>\r\n                  <div className='blog-delete-button'>\r\n                    <Button onClick={this.handleRemoveBlog} size='small'>\r\n                      Delete <DeleteIcon className='delete-blog-icon' />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          )\r\n        }\r\n        <div >\r\n          {this.props.message.successMessage &&\r\n            <MessageSnackBar\r\n              show={this.props.message.successMessage === '' ? false : true}\r\n              message={this.props.message.successMessage}\r\n            />\r\n          }\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    message: state.message\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(BlogListItem);","export default (blogs, { text, sortBy, startDate, endDate }) => {\r\n  return blogs.filter(blog => {\r\n      const startDateMatch = typeof(startDate) !== 'number' || blog.createdAt >= startDate;\r\n      const endDateMatch = typeof(endDate) !== 'number' || blog.createdAt <= endDate;\r\n      const textMatch = (text === '' ? true :  blog.title.toLowerCase().includes(text.toLowerCase()));\r\n      return startDateMatch && endDateMatch && textMatch;\r\n  }).sort((a, b) => {\r\n      if (sortBy === 'dateCreatedAtDown') {\r\n          return a.createdAt < b.createdAt ? 1 : -1;\r\n      } else if (sortBy === 'dateCreatedAtUp') {\r\n          return a.createdAt < b.createdAt ? -1 : 1;\r\n      } else if (sortBy === 'dateLastModifiedDown') {\r\n          return a.lastModified < b.lastModified ? 1 : -1;\r\n      } else if (sortBy === 'dateLastModifiedUp') {\r\n        return a.lastModified < b.lastModified ? -1 : 1;\r\n    }\r\n      return null;\r\n  });\r\n}","import React, { Fragment } from 'react';\r\nimport './Blogs.css';\r\nimport { connect } from 'react-redux';\r\n\r\nimport BlogListItem from '../BlogListItem/BlogListItem';\r\nimport getBlogs from '../../redux/selectors/getBlogs';\r\n\r\nclass Blogs extends React.Component {\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {/* Only to show table if there is atleast one blog in list */}\r\n        {this.props.blogs.length > 0 ?\r\n          (\r\n            <div className='items-grid'>\r\n              {\r\n                this.props.blogs.map(blog => blog.blogId ?\r\n                  (\r\n                    <BlogListItem key={blog.blogId} blog={blog} />\r\n                  ) : (\r\n                    <BlogListItem key={blog.id} blog={blog} />\r\n                  ))\r\n              }\r\n            </div>\r\n          )\r\n          : null}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: getBlogs(state.blogs, state.filters)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Blogs);","export default {\r\n    \"GOOGLE_CLIENT_ID\": \"787154855555-u9ni1h94lt2u312v3rb2pdfuuc04801j.apps.googleusercontent.com\",\r\n    \"GOOGLE_MAPS_API\": \"AIzaSyCyzrGZk2XCYhmGbAEqNWqnAvzQfP5bn9U&v\"\r\n}","import React from 'react';\r\nimport './Dashboard.css'\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/Add';\r\n\r\nimport Filters from '../BlogsFilters/BlogsFilters'\r\nimport Blogs from '../Blogs/Blogs';\r\nimport getBlogs from '../../redux/selectors/getBlogs';\r\nimport { addAddress } from '../../redux/actions/blogs';\r\nimport secrets from '../../secret';\r\n\r\nclass Dashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isMapReady: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const that = this;\r\n    loadMap(`https://maps.googleapis.com/maps/api/js?libraries=places&key=${secrets.GOOGLE_MAPS_API}`, function (err) {\r\n      if (!err) {\r\n        that.setState({ isMapReady: true });\r\n        that.loadAddress();\r\n      }\r\n    });\r\n  }\r\n\r\n  loadAddress = () => {\r\n    for (let i = 0; i < this.props.blogs.length; i++) {\r\n      if (this.props.blogs[i].position) {\r\n        const { latitude, longitude } = this.props.blogs[i].position;\r\n        const geocoder = new window.google.maps.Geocoder;\r\n        geocoder.geocode({ location: { lat: latitude, lng: longitude } }, (results, status) => {\r\n          if (status === 'OK') {\r\n            if (results[0]) {\r\n              this.props.dispatch(addAddress(results[0].formatted_address, this.props.blogs[i].id));\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div></div>\r\n        <div className='container'>\r\n          <Filters />\r\n        </div>\r\n        <Blogs />\r\n        <div className='top-button'>\r\n          <Button onClick={() => (window.scrollTo(0, 0))} variant=\"fab\" mini color=\"primary\" aria-label=\"Add Item\">\r\n            <Link to='/create'><ExpandMoreIcon /></Link>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: getBlogs(state.blogs, state.filters),\r\n    message: state.message\r\n  }\r\n}\r\n\r\nfunction loadMap(url, callback) {\r\n  const index = window.document.getElementsByTagName(\"script\")[0];\r\n  const script = document.createElement(\"script\");\r\n  script.src = url;\r\n  script.async = true;\r\n  script.defer = true;\r\n  script.addEventListener('error', function () {\r\n    callback(true);\r\n  });\r\n  script.onload = function () {\r\n    callback(false);\r\n  }\r\n  index.parentNode.insertBefore(script, index);\r\n}\r\n\r\nexport default connect(mapStateToProps)(Dashboard);","export const getBlogsFromDb = () => {\r\n    return fetch(`https://agro-mart.herokuapp.com/user/blogs${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'get',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","import React, { Fragment } from 'react';\r\nimport './FinalDashboard.css';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nimport Header from '../Header/Header';\r\nimport Dashboard from '../Dashboard/Dashboard';\r\nimport { getBlogsFromDb } from '../../controllers/getBlogs';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\nimport { userLogin, userLogOut } from '../../redux/actions/auth';\r\n\r\nclass FinalDashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (!this.props.auth.loggedIn) {\r\n      // get blogs from server\r\n      getBlogsFromDb().then(res => {\r\n        if (res.error || res.tokenStatus === 'invalid') { // if token invalid dispatch userlogout action\r\n          this.props.dispatch(userLogOut());\r\n          this.setState(() => ({ verifying: false }));\r\n        } else { // else token was valid and dispatch userlogin action\r\n          this.props.dispatch(userLogin());\r\n          this.setState(() => ({ verifying: false }));\r\n          this.props.dispatch(addBlogArr(res.blogs));\r\n        }\r\n      });\r\n    } else {\r\n      this.setState(() => ({ verifying: false }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.verifying ?\r\n        (\r\n          <Fragment>\r\n            <Header />\r\n            <LinearProgress />\r\n          </Fragment>\r\n        ) :\r\n        (this.props.auth.loggedIn ?\r\n          (\r\n            <Fragment>\r\n              <Header />\r\n              <Dashboard />\r\n            </Fragment>\r\n          ) :\r\n          (\r\n            <Redirect to='/user/login' />\r\n          )\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    blogs: state.blogs\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FinalDashboard);","export const updateBlogs = (blogs) => {\r\n    return fetch(`https://agro-mart.herokuapp.com/user/blogs${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'post',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ blogs: blogs })\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","export const editBlogs = (blogs) => {\r\n    return fetch(`https://agro-mart.herokuapp.com/user/blogs${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'put',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ blogs: blogs })\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","import React, { Fragment } from 'react';\r\nimport './Create.css';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { TextField, Button } from '@material-ui/core';\r\n\r\nimport MessageSnackBar from '../MessageSnackBar/MessageSnackBar';\r\nimport { errorMessage, clearMessages } from '../../redux/actions/message';\r\nimport { addBlog, editBlog } from '../../redux/actions/blogs';\r\nimport { userLogOut } from '../../redux/actions/auth';\r\nimport { updateBlogs } from '../../controllers/updateBlogs';\r\nimport { editBlogs } from '../../controllers/editBlogs';\r\n\r\nclass Create extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: null,\r\n      title: '',\r\n      description: '',\r\n      createdAt: null,\r\n      lastModified: null,\r\n      clicked: false,\r\n      modified: false\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    // sets title and description value in local state depending upon what is changed - title/desciption\r\n    // sets modified to true to use it when blog is in edit mode i.e blog is being modified.\r\n    const temp = e.target.value;\r\n    if (e.target.id === 'title') this.setState(() => ({ title: temp, modified: true }));\r\n    else if (e.target.id === 'description') this.setState(() => ({ description: temp, modified: true }));\r\n  }\r\n\r\n  handleClick = (e) => {\r\n    e.preventDefault();\r\n    const title = e.target.elements.title.value;\r\n    const description = e.target.elements.description.value;\r\n\r\n    //check if title and description fields are empty. if so keep submit button disabled.\r\n    if (title !== '' && description !== '') { // blog is being modified then send api call to server and then dispatch editBlog action only if server responds with status okay\r\n      if (this.state.id) { // blog is being modified\r\n        let newBlog = editBlog(this.state.id, { title, description, lastModified: new Date().getTime() });\r\n        // send call to server with necessary values\r\n        editBlogs({ id: newBlog.id, ...newBlog.updates }).then(res => {\r\n          // if tokenStatus status in response was invalid dispatch logout action\r\n          if (res.tokenStatus === 'invalid') {\r\n            this.props.dispatch(userLogOut());\r\n          } else if (res.updated) { // if response was true i.e request was successfully satisfied\r\n            this.props.dispatch(newBlog);\r\n            this.setState(() => ({ clicked: true }));\r\n          } else if (res.error) { // if error was found in response then send alert to user\r\n            this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.error));\r\n            setTimeout(() => {\r\n              this.props.dispatch(clearMessages());\r\n            }, 8000);\r\n          }\r\n        });\r\n      } else { // new blog is being created, under new state\r\n        let newBlog = addBlog({ title, description, createdAt: new Date().getTime(), lastModified: new Date().getTime() });\r\n        // send call to server with necessary values\r\n        updateBlogs(newBlog.blog).then(res => {\r\n          // if response was true i.e request was successfully satisfied\r\n          if (res.updated) {\r\n            this.props.dispatch(newBlog);\r\n            // set click value to true if form is correctly updated so as to redirect user to home page\r\n            this.setState(() => ({ clicked: true }));\r\n          } else if (res.tokenStatus === 'invalid') { // if tokenStatus status in response was invalid dispatch logout action\r\n            this.props.dispatch(userLogOut());\r\n          } else if (res.error) { // if error was found in response then send alert to user\r\n            this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.error));\r\n            setTimeout(() => {\r\n              this.props.dispatch(clearMessages());\r\n            }, 8000);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    // find `id` if it exist in url\r\n    const id = window.location.search.split('=')[1];\r\n    this.setState(() => ({ id: (id ? id : '') }));\r\n    if (id) {\r\n      let correctBlog;\r\n      // fetching correctBlog that matches in blogs array\r\n      this.props.blogs.map((blog) => {\r\n        if (blog.id === id && blog) {\r\n          correctBlog = blog;\r\n        }\r\n        return null;\r\n      });\r\n      if (correctBlog) { // if correct blog exist set its values in state along with id \r\n        this.setState(() => ({ ...correctBlog, id }));\r\n      } else {\r\n        this.props.dispatch(errorMessage('Blog does not exists!', 'Invalid blog id found in url.'));\r\n        window.history.replaceState('new url', null, `${window.location.origin}/create`);\r\n        setTimeout(() => {\r\n          this.props.dispatch(clearMessages());\r\n        }, 8000);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n\r\n        {/* if form submitted then click will be true, so `redirect` to home page*/}\r\n        {this.state.clicked ?\r\n          (\r\n            <Redirect push to='/dashboard' />\r\n          ) :\r\n          (\r\n            <div className='container'>\r\n              <form onSubmit={this.handleClick} onChange={this.handleChange}>\r\n                <div className='title'>\r\n                  <TextField\r\n                    id=\"title\"\r\n                    label=\"Title\"\r\n                    type=\"title\"\r\n                    value={this.state.title}\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    name='title'\r\n                  />\r\n                </div>\r\n                <div className='description'>\r\n                  <TextField\r\n                    id='description'\r\n                    label=\"Description\"\r\n                    placeholder='Description of your blog goes here.'\r\n                    multiline={true}\r\n                    fullWidth={true}\r\n                    value={this.state.description}\r\n                    rows={1}\r\n                    rowsMax={15}\r\n                    name='description'\r\n                  />\r\n                </div>\r\n                <div className='update-blog'>\r\n                  {/* disable the button depending upon the values of title, description and modified */}\r\n                  <Button variant=\"contained\" type='submit' size=\"small\" disabled={!(this.state.title !== '' && this.state.description !== '' && this.state.modified)}>\r\n                    {this.state.id ? 'Update Item' : 'Add Item'}\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n              {this.props.message.errorMessage &&\r\n                <MessageSnackBar\r\n                  show={this.props.message.errorMessage === '' ? false : true}\r\n                  message={this.props.message.errorMessage}\r\n                />\r\n              }\r\n            </div>\r\n          )}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: state.blogs,\r\n    message: state.message\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Create);","import React, { Fragment } from 'react';\r\nimport './FinalCreate.css';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nimport Header from '../Header/Header';\r\nimport Create from '../Create/Create';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\nimport { getBlogsFromDb } from '../../controllers/getBlogs';\r\nimport { userLogOut, userLogin } from '../../redux/actions/auth';\r\n\r\nclass FinalCreate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true,\r\n      id: ''\r\n    }\r\n  }\r\n\r\n  getBlogs = () => {\r\n    getBlogsFromDb().then(res => {\r\n      if (res.error || res.tokenStatus === 'invalid') { // if token invalid dispatch userlogout action\r\n        this.props.dispatch(userLogOut());\r\n        this.setState(() => ({ verifying: false }));\r\n      } else { // else dispatch userlogin action\r\n        this.props.dispatch(userLogin());\r\n        this.props.dispatch(addBlogArr(res.blogs));\r\n        this.setState(() => ({ verifying: false }));\r\n      }\r\n    });\r\n  }\r\n\r\n  componentWillMount() {\r\n    // if id field exist in url, if so set id in local state\r\n    const id = window.location.search.split('=')[1];\r\n    if (id) this.setState(() => ({ id }));\r\n    // if id exists and blogs length is not zero get all user blogs from server\r\n    if (id && !this.props.auth.loggedIn) { // page was refreshed\r\n      this.getBlogs();\r\n    } else { // user was redirected to create route to create new blog\r\n      this.setState(() => ({ verifying: false }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <Header />\r\n        {this.state.verifying ? (<LinearProgress />) : (this.props.auth.loggedIn ? (<Create />) : (<Redirect to={{ pathname: '/user/login', search: this.state.id !== '' ? `?id=${this.state.id}` : '' }} />))}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    blogs: state.blogs\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FinalCreate);","export const postLoginData = (formData) => {\r\n    return fetch('https://agro-mart.herokuapp.com/user/login', {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(formData)\r\n    }).then(response => {\r\n        return response.json().then(res => {\r\n            return res;\r\n        });\r\n    }).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        console.error(err);\r\n        return err;\r\n    });\r\n}","export const googleAuth = (data) => {\r\n    return fetch(`https://agro-mart.herokuapp.com/user/auth/google`, {\r\n        method: 'post',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(data)\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","import React from 'react';\r\nimport './Login.css';\r\nimport validator from 'validator';\r\nimport { TextField, Button } from '@material-ui/core';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport GoogleLogin from 'react-google-login';\r\n\r\nimport MessageSnackBar from '../MessageSnackBar/MessageSnackBar';\r\nimport { postLoginData } from '../../controllers/loginController';\r\nimport { googleAuth } from '../../controllers/googleAuthController';\r\nimport { userLogin } from '../../redux/actions/auth';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\nimport { clearMessages, errorMessage } from '../../redux/actions/message';\r\nimport secrets from '../../secret';\r\n\r\n// TODO: redirect to login and bring user back to where he was\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      errorEmail: false,\r\n      errorPassword: false,\r\n      errorEmailText: null,\r\n      errorPasswordText: null,\r\n      id: null,\r\n      redirectSignup: false\r\n    }\r\n  }\r\n\r\n  handleEmailChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ email: temp, errorEmail: false }));\r\n  }\r\n\r\n  handlePasswordChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ password: temp, errorPassword: false }));\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    // will show errors depending on values of text fields and if everything is perfect dispatch user login\r\n    e.preventDefault();\r\n    const email = e.target.elements.email.value;\r\n    const password = e.target.elements.password.value;\r\n    if (!validator.isEmail(email)) {\r\n      this.setState(() => ({ errorEmail: true, errorEmailText: 'Please input valid email.' }));\r\n    } else if (password === '') {\r\n      this.setState(() => ({ errorPassword: true, errorPasswordText: 'Password is required' }));\r\n    } else {\r\n      // send login data to server\r\n      postLoginData({ email, password }).then(res => {\r\n        if (res.errorPassword) {\r\n          this.setState(() => ({ errorPassword: true, errorPasswordText: res.errorMessage }));\r\n        } else if (res.errorEmail) {\r\n          this.setState(() => ({ errorEmail: true, errorEmailText: res.errorMessage }));\r\n        } else if (res.error) {\r\n          this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.errorMessage))\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        } else { // successful login\r\n          localStorage.setItem('loginToken', res.token);\r\n          this.props.dispatch(addBlogArr(res.blogs))\r\n          this.props.dispatch(userLogin());\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  responseGoogle = (response) => {\r\n    if (!response.error) {\r\n      let user = {\r\n        username: response.profileObj.name,\r\n        email: response.profileObj.email,\r\n        accessToken: response.accessToken,\r\n        refreshToken: response.refreshToken,\r\n        profileImage: response.profileObj.imageUrl,\r\n        googleId: response.googleId\r\n      }\r\n      googleAuth(user).then(res => {\r\n        if (res.errorUserType || res.errorPosition) {\r\n          this.props.dispatch(errorMessage('User does not exists. We need few information to create a new user.', res.errorMessage))\r\n          this.setState({ redirectSignup: true });\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        } else if (!res.error) {\r\n          localStorage.setItem('loginToken', res.jwtToken);\r\n          this.props.dispatch(addBlogArr(res.blogs));\r\n          this.props.dispatch(userLogin());\r\n        } else {\r\n          this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.errorMessage))\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n      })\r\n    }\r\n  }\r\n\r\n  // check if user was redirected from register page by creating new account\r\n  // if so then check successMessage\r\n  componentWillMount() {\r\n    if (this.props.message.successMessage) {\r\n      setTimeout(() => {\r\n        this.props.dispatch(clearMessages());\r\n      }, 8000);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.redirectSignup ?\r\n        (<Redirect to='/user/register' />\r\n        ) :\r\n        (\r\n          <div className='login-form'>\r\n            <form method='POST' onSubmit={this.handleSubmit}>\r\n\r\n              <div className='email-field'>\r\n                <TextField\r\n                  id=\"email\"\r\n                  label=\"Email\"\r\n                  margin=\"normal\"\r\n                  name='email'\r\n                  fullWidth\r\n                  helperText={this.state.errorEmail ? this.state.errorEmailText : null}\r\n                  error={this.state.errorEmail ? true : false}\r\n                  onChange={this.handleEmailChange}\r\n                  value={this.state.email}\r\n                />\r\n              </div>\r\n\r\n              <div className='password-field'>\r\n                <TextField\r\n                  id=\"password-input\"\r\n                  label=\"Password\"\r\n                  error={this.state.errorPassword ? true : false}\r\n                  type=\"password\"\r\n                  margin=\"normal\"\r\n                  name='password'\r\n                  onChange={this.handlePasswordChange}\r\n                  helperText={this.state.errorPassword ? this.state.errorPasswordText : null}\r\n                  fullWidth\r\n                  value={this.state.password}\r\n                />\r\n              </div>\r\n\r\n              <div className='form-login-button'>\r\n                <Button size=\"small\" variant='outlined' fullWidth type='submit'>\r\n                  Login\r\n            </Button>\r\n              </div>\r\n\r\n              <div className='new-user'>\r\n                <Link to='/user/register'>\r\n                  <Button size=\"small\" variant='outlined' fullWidth>\r\n                    Sign up\r\n              </Button>\r\n                </Link>\r\n              </div>\r\n\r\n              <div className='third-party-login'>\r\n                <GoogleLogin\r\n                  clientId={secrets.GOOGLE_CLIENT_ID}\r\n                  buttonText=\"Login\"\r\n                  render={renderProps => (\r\n                    <Button onClick={renderProps.onClick} size=\"small\" variant='outlined' fullWidth>\r\n                      <img alt='google logo' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IgogICAgIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIKICAgICB2aWV3Qm94PSIwIDAgNDggNDgiCiAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDsiPjxnIGlkPSJzdXJmYWNlMSI+PHBhdGggc3R5bGU9IiBmaWxsOiNGRkMxMDc7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzMy42NTIzNDQgMzIuNjU2MjUgMjkuMjIyNjU2IDM2IDI0IDM2IEMgMTcuMzcxMDk0IDM2IDEyIDMwLjYyODkwNiAxMiAyNCBDIDEyIDE3LjM3MTA5NCAxNy4zNzEwOTQgMTIgMjQgMTIgQyAyNy4wNTg1OTQgMTIgMjkuODQzNzUgMTMuMTUyMzQ0IDMxLjk2MDkzOCAxNS4wMzkwNjMgTCAzNy42MTcxODggOS4zODI4MTMgQyAzNC4wNDY4NzUgNi4wNTQ2ODggMjkuMjY5NTMxIDQgMjQgNCBDIDEyLjk1MzEyNSA0IDQgMTIuOTUzMTI1IDQgMjQgQyA0IDM1LjA0Njg3NSAxMi45NTMxMjUgNDQgMjQgNDQgQyAzNS4wNDY4NzUgNDQgNDQgMzUuMDQ2ODc1IDQ0IDI0IEMgNDQgMjIuNjYwMTU2IDQzLjg2MzI4MSAyMS4zNTE1NjMgNDMuNjA5Mzc1IDIwLjA4MjAzMSBaICI+PC9wYXRoPjxwYXRoIHN0eWxlPSIgZmlsbDojRkYzRDAwOyIgZD0iTSA2LjMwNDY4OCAxNC42OTE0MDYgTCAxMi44Nzg5MDYgMTkuNTExNzE5IEMgMTQuNjU2MjUgMTUuMTA5Mzc1IDE4Ljk2MDkzOCAxMiAyNCAxMiBDIDI3LjA1ODU5NCAxMiAyOS44NDM3NSAxMy4xNTIzNDQgMzEuOTYwOTM4IDE1LjAzOTA2MyBMIDM3LjYxNzE4OCA5LjM4MjgxMyBDIDM0LjA0Njg3NSA2LjA1NDY4OCAyOS4yNjk1MzEgNCAyNCA0IEMgMTYuMzE2NDA2IDQgOS42NTYyNSA4LjMzNTkzOCA2LjMwNDY4OCAxNC42OTE0MDYgWiAiPjwvcGF0aD48cGF0aCBzdHlsZT0iIGZpbGw6IzRDQUY1MDsiIGQ9Ik0gMjQgNDQgQyAyOS4xNjQwNjMgNDQgMzMuODU5Mzc1IDQyLjAyMzQzOCAzNy40MTAxNTYgMzguODA4NTk0IEwgMzEuMjE4NzUgMzMuNTcwMzEzIEMgMjkuMjEwOTM4IDM1LjA4OTg0NCAyNi43MTQ4NDQgMzYgMjQgMzYgQyAxOC43OTY4NzUgMzYgMTQuMzgyODEzIDMyLjY4MzU5NCAxMi43MTg3NSAyOC4wNTQ2ODggTCA2LjE5NTMxMyAzMy4wNzgxMjUgQyA5LjUwMzkwNiAzOS41NTQ2ODggMTYuMjI2NTYzIDQ0IDI0IDQ0IFogIj48L3BhdGg+PHBhdGggc3R5bGU9IiBmaWxsOiMxOTc2RDI7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzNC41MTE3MTkgMzAuMjM4MjgxIDMzLjA3MDMxMyAzMi4xNjQwNjMgMzEuMjE0ODQ0IDMzLjU3MDMxMyBDIDMxLjIxODc1IDMzLjU3MDMxMyAzMS4yMTg3NSAzMy41NzAzMTMgMzEuMjE4NzUgMzMuNTcwMzEzIEwgMzcuNDEwMTU2IDM4LjgwODU5NCBDIDM2Ljk3MjY1NiAzOS4yMDMxMjUgNDQgMzQgNDQgMjQgQyA0NCAyMi42NjAxNTYgNDMuODYzMjgxIDIxLjM1MTU2MyA0My42MDkzNzUgMjAuMDgyMDMxIFogIj48L3BhdGg+PC9nPjwvc3ZnPg==\" />\r\n                      Sign in with google\r\n                </Button>\r\n                  )}\r\n                  onSuccess={this.responseGoogle}\r\n                  onFailure={this.responseGoogle}\r\n                />\r\n              </div>\r\n              {this.props.message.errorMessage &&\r\n                <MessageSnackBar\r\n                  show={this.props.message.errorMessage === '' ? false : true}\r\n                  message={this.props.message.errorMessage}\r\n                />\r\n              }\r\n              {this.props.message.successMessage &&\r\n                <MessageSnackBar\r\n                  show={this.props.message.successMessage === '' ? false : true}\r\n                  message={this.props.message.successMessage}\r\n                />\r\n              }\r\n            </form>\r\n          </div>\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    message: state.message\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Login);","import React, { Fragment } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nimport './FinalLogin.css';\r\n\r\nimport Header from '../Header/Header';\r\nimport Login from '../Login/Login';\r\nimport { userLogin, userLogOut } from '../../redux/actions/auth';\r\nimport { getBlogsFromDb } from '../../controllers/getBlogs';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\n\r\nclass FinalLogin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true,\r\n      id: ''\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    const id = window.location.search.split('=')[1];\r\n    if (id) this.setState(() => ({ id }));\r\n    // get blogs from server\r\n    getBlogsFromDb().then(res => {\r\n      if (res.tokenStatus === 'invalid' || res.error) { // if error or invalid token status render login page, user is logged out\r\n        this.props.dispatch(userLogOut());\r\n        this.setState(() => ({ verifying: false }));\r\n      } else { // else redirect to dashboard page, user is already logged in\r\n        this.props.dispatch(userLogin());\r\n        this.props.dispatch(addBlogArr(res.blogs))\r\n        this.setState(() => ({ verifying: false }));\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.verifying ?\r\n        (\r\n          <Fragment>\r\n            <Header />\r\n            <LinearProgress />\r\n          </Fragment>\r\n        ) :\r\n        (\r\n          this.props.auth.loggedIn ?\r\n            <Redirect to={this.state.id !== '' ? `/create?id=${this.state.id}` : '/dashboard'} /> :\r\n            (\r\n              <Fragment>\r\n                <Header />\r\n                <Login />\r\n              </Fragment>\r\n            )\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FinalLogin);","export const postSignupData = (formData) => {\r\n    return fetch('https://agro-mart.herokuapp.com/user/register', {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(formData)\r\n    }).then(response => {\r\n        return response.json().then(res => {\r\n            return res;\r\n        });\r\n    }).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        console.error(err);\r\n        return err;\r\n    });\r\n}","import React from 'react';\r\nimport './Register.css';\r\nimport validator from 'validator';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport { TextField, Button, Radio, Typography } from '@material-ui/core';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { connect } from 'react-redux';\r\n\r\nimport MessageSnackBar from '../MessageSnackBar/MessageSnackBar';\r\nimport { postSignupData } from '../../controllers/signupController';\r\nimport secrets from '../../secret';\r\nimport { googleAuth } from '../../controllers/googleAuthController';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\nimport { userLogin } from '../../redux/actions/auth';\r\nimport { errorMessage, clearMessages, successMessage } from '../../redux/actions/message';\r\n\r\nconst regEx = '^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})';\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      errorEmail: false,\r\n      errorPassword: false,\r\n      errorConfirmPassword: false,\r\n      errorName: false,\r\n      errorNameText: 'Name should be atleast three characters long.',\r\n      errorEmailText: 'Email should be valid',\r\n      errorPasswordText: 'Password should be 6 characters long and should include atleast one uppercase letter or numeric character.',\r\n      errorConfirmPasswordText: 'Both passwords should match.',\r\n      redirect: false,\r\n      typePerson: 'farmer',\r\n      position: undefined,\r\n      errorPosition: false,\r\n      errorPositionText: 'Please enable location'\r\n    }\r\n  }\r\n\r\n  handleNameChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ name: temp, errorName: false }));\r\n  }\r\n\r\n  handleEmailChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ email: temp, errorEmail: false }));\r\n  }\r\n\r\n  handleTypeChange = (e) => {\r\n    if (e.target.value === 'customer') {\r\n      this.setState(() => ({ typePerson: 'customer' }));\r\n    } else {\r\n      this.setState(() => ({ typePerson: 'farmer' }));\r\n    }\r\n  }\r\n\r\n  handlePasswordChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ password: temp, errorPassword: false }));\r\n  }\r\n\r\n  handleConfirmPasswordChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ confirmPassword: temp, errorConfirmPassword: false }));\r\n  }\r\n\r\n  handleGeolocationClick = (e) => {\r\n    let that = this;\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(function (position) {\r\n        that.setState({ position: { latitude: position.coords.latitude, longitude: position.coords.longitude } })\r\n      });\r\n    } else {\r\n\r\n    }\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const name = e.target.elements.name.value;\r\n    const email = e.target.elements.email.value;\r\n    const password = e.target.elements.pass0.value;\r\n    const confirmPassword = e.target.elements.pass1.value;\r\n    const personType = this.state.typePerson;\r\n    const position = this.state.position;\r\n    if (name.length < 3) {\r\n      this.setState(() => ({ errorName: true }));\r\n    } else if (!validator.isEmail(email)) {\r\n      this.setState(() => ({ errorEmail: true }));\r\n    } else if (!validator.matches(password, regEx)) {\r\n      this.setState(() => ({ errorPassword: true }));\r\n    } else if (password !== confirmPassword) {\r\n      this.setState(() => ({ errorConfirmPassword: true }));\r\n    } else {\r\n      postSignupData({ username: name, email, password, confirmPassword, userType: personType, position }).then(res => {\r\n        if (res.errorName) {\r\n          this.setState(() => ({ errorName: true, errorNameText: res.errorMessage }));\r\n        } else if (res.errorEmail) {\r\n          this.setState(() => ({ errorEmail: true, errorEmailText: res.errorMessage }));\r\n        } else if (res.errorConfirmPassword) {\r\n          this.setState(() => ({ errorPassword: true, errorPasswordText: res.errorMessage }));\r\n        } else if (res.errorPassword) {\r\n          this.setState(() => ({ errorPassword: true, errorConfirmPasswordText: res.errorMessage }));\r\n        } else if (res.errorPosition) {\r\n          this.setState({ errorPosition: true });\r\n        } else if (res.success) {\r\n          this.props.dispatch(successMessage('User created! You can now login.', res.successMessage));\r\n          this.setState(() => ({ redirect: true }));\r\n        } else {\r\n          this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.errorMessage))\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  responseGoogle = (response) => {\r\n    if (!this.state.position) {\r\n      this.setState({ errorPosition: true });\r\n      this.props.dispatch(errorMessage('We need to know your location in order to show your items to nearby cosumers.'));\r\n      setTimeout(() => {\r\n        this.props.dispatch(clearMessages())\r\n      }, 8000);\r\n    } else if (!response.error) {\r\n      let user = {\r\n        username: response.profileObj.name,\r\n        email: response.profileObj.email,\r\n        accessToken: response.accessToken,\r\n        refreshToken: response.refreshToken,\r\n        profileImage: response.profileObj.imageUrl,\r\n        googleId: response.googleId,\r\n        userType: this.state.typePerson,\r\n        position: this.state.position\r\n      }\r\n      googleAuth(user).then(res => {\r\n        if (!response.error) {\r\n          localStorage.setItem('loginToken', res.jwtToken);\r\n          this.props.dispatch(addBlogArr(res.blogs));\r\n          this.props.dispatch(userLogin());\r\n        } else {\r\n          this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.errorMessage))\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return (\r\n        <Redirect to={'/dashboard'} />\r\n      )\r\n    }\r\n    return (\r\n      this.state.redirect ?\r\n        (\r\n          <Redirect to='/user/login' />\r\n        ) :\r\n        (\r\n          <div className='register-form'>\r\n            <form method='POST' onSubmit={this.handleSubmit}>\r\n\r\n              <div className='name-field'>\r\n                <TextField\r\n                  id=\"name\"\r\n                  label=\"Name\"\r\n                  margin=\"normal\"\r\n                  name='username'\r\n                  onChange={this.handleNameChange}\r\n                  value={this.state.name}\r\n                  error={this.state.errorName}\r\n                  helperText={this.state.errorName ? this.state.errorNameText : null}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              <div className='email-field'>\r\n                <TextField\r\n                  id=\"email\"\r\n                  label=\"Email\"\r\n                  margin=\"normal\"\r\n                  name='email'\r\n                  onChange={this.handleEmailChange}\r\n                  value={this.state.email}\r\n                  error={this.state.errorEmail}\r\n                  helperText={this.state.errorEmail ? this.state.errorEmailText : null}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              <div className='password-field-1'>\r\n                <TextField\r\n                  id=\"password-input-1\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  margin=\"normal\"\r\n                  name='pass0'\r\n                  onChange={this.handlePasswordChange}\r\n                  value={this.state.password}\r\n                  error={this.state.errorPassword}\r\n                  helperText={this.state.errorPassword ? this.state.errorPasswordText : null}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              <div className='password-field-2'>\r\n                <TextField\r\n                  id=\"password-input-2\"\r\n                  label=\"Confirm Password\"\r\n                  type=\"password\"\r\n                  margin=\"normal\"\r\n                  name='pass1'\r\n                  onChange={this.handleConfirmPasswordChange}\r\n                  value={this.state.confirmPassword}\r\n                  error={this.state.errorConfirmPassword}\r\n                  helperText={this.state.errorConfirmPassword ? this.state.errorConfirmPasswordText : false}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              <div className='mandatory-fields-alert'>\r\n                <Typography variant=\"body2\" gutterBottom>\r\n                  Below two fields are mandatory even if you register with google.\r\n                </Typography>\r\n              </div>\r\n\r\n              <div>\r\n                <div>\r\n                  <Radio\r\n                    checked={this.state.typePerson === 'farmer'}\r\n                    onChange={this.handleTypeChange}\r\n                    value=\"farmer\"\r\n                    name=\"radio-button-demo\"\r\n                    aria-label=\"A\"\r\n                  /> Farmer\r\n                </div>\r\n                <div>\r\n                  <Radio\r\n                    checked={this.state.typePerson === 'customer'}\r\n                    onChange={this.handleTypeChange}\r\n                    value=\"customer\"\r\n                    name=\"radio-button-demo\"\r\n                    aria-label=\"A\"\r\n                  /> Customer\r\n                </div>\r\n              </div>\r\n\r\n              <div className='enable-geolocation'>\r\n                <Button size=\"small\" onClick={this.handleGeolocationClick}>\r\n                  <i className=\"fal fa-location\"></i>Location\r\n                </Button>\r\n                &nbsp;&nbsp;\r\n                <TextField\r\n                  placeholder={'Geo-Location'}\r\n                  className='geolocation-input'\r\n                  error={this.state.errorPosition}\r\n                  helperText={this.state.errorPosition ? this.state.errorPositionText : false}\r\n                  value={this.state.position && `${this.state.position.latitude}, ${this.state.position.longitude}`}\r\n                  margin=\"normal\"\r\n                />\r\n              </div>\r\n\r\n              <div className='register-new-user'>\r\n                <Button size=\"small\" variant='outlined' fullWidth type='submit'>\r\n                  Sign up\r\n                </Button>\r\n              </div>\r\n\r\n              <div className='register-form-login-button'>\r\n                <Link to='/user/login'>\r\n                  <Button size=\"small\" variant='outlined' fullWidth>\r\n                    Log In\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n\r\n              <div className='third-party-login'>\r\n                <GoogleLogin\r\n                  clientId={secrets.GOOGLE_CLIENT_ID}\r\n                  buttonText=\"Login\"\r\n                  render={renderProps => (\r\n                    <Button onClick={renderProps.onClick} size=\"small\" variant='outlined' fullWidth>\r\n                      <img alt='google logo' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IgogICAgIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIKICAgICB2aWV3Qm94PSIwIDAgNDggNDgiCiAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDsiPjxnIGlkPSJzdXJmYWNlMSI+PHBhdGggc3R5bGU9IiBmaWxsOiNGRkMxMDc7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzMy42NTIzNDQgMzIuNjU2MjUgMjkuMjIyNjU2IDM2IDI0IDM2IEMgMTcuMzcxMDk0IDM2IDEyIDMwLjYyODkwNiAxMiAyNCBDIDEyIDE3LjM3MTA5NCAxNy4zNzEwOTQgMTIgMjQgMTIgQyAyNy4wNTg1OTQgMTIgMjkuODQzNzUgMTMuMTUyMzQ0IDMxLjk2MDkzOCAxNS4wMzkwNjMgTCAzNy42MTcxODggOS4zODI4MTMgQyAzNC4wNDY4NzUgNi4wNTQ2ODggMjkuMjY5NTMxIDQgMjQgNCBDIDEyLjk1MzEyNSA0IDQgMTIuOTUzMTI1IDQgMjQgQyA0IDM1LjA0Njg3NSAxMi45NTMxMjUgNDQgMjQgNDQgQyAzNS4wNDY4NzUgNDQgNDQgMzUuMDQ2ODc1IDQ0IDI0IEMgNDQgMjIuNjYwMTU2IDQzLjg2MzI4MSAyMS4zNTE1NjMgNDMuNjA5Mzc1IDIwLjA4MjAzMSBaICI+PC9wYXRoPjxwYXRoIHN0eWxlPSIgZmlsbDojRkYzRDAwOyIgZD0iTSA2LjMwNDY4OCAxNC42OTE0MDYgTCAxMi44Nzg5MDYgMTkuNTExNzE5IEMgMTQuNjU2MjUgMTUuMTA5Mzc1IDE4Ljk2MDkzOCAxMiAyNCAxMiBDIDI3LjA1ODU5NCAxMiAyOS44NDM3NSAxMy4xNTIzNDQgMzEuOTYwOTM4IDE1LjAzOTA2MyBMIDM3LjYxNzE4OCA5LjM4MjgxMyBDIDM0LjA0Njg3NSA2LjA1NDY4OCAyOS4yNjk1MzEgNCAyNCA0IEMgMTYuMzE2NDA2IDQgOS42NTYyNSA4LjMzNTkzOCA2LjMwNDY4OCAxNC42OTE0MDYgWiAiPjwvcGF0aD48cGF0aCBzdHlsZT0iIGZpbGw6IzRDQUY1MDsiIGQ9Ik0gMjQgNDQgQyAyOS4xNjQwNjMgNDQgMzMuODU5Mzc1IDQyLjAyMzQzOCAzNy40MTAxNTYgMzguODA4NTk0IEwgMzEuMjE4NzUgMzMuNTcwMzEzIEMgMjkuMjEwOTM4IDM1LjA4OTg0NCAyNi43MTQ4NDQgMzYgMjQgMzYgQyAxOC43OTY4NzUgMzYgMTQuMzgyODEzIDMyLjY4MzU5NCAxMi43MTg3NSAyOC4wNTQ2ODggTCA2LjE5NTMxMyAzMy4wNzgxMjUgQyA5LjUwMzkwNiAzOS41NTQ2ODggMTYuMjI2NTYzIDQ0IDI0IDQ0IFogIj48L3BhdGg+PHBhdGggc3R5bGU9IiBmaWxsOiMxOTc2RDI7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzNC41MTE3MTkgMzAuMjM4MjgxIDMzLjA3MDMxMyAzMi4xNjQwNjMgMzEuMjE0ODQ0IDMzLjU3MDMxMyBDIDMxLjIxODc1IDMzLjU3MDMxMyAzMS4yMTg3NSAzMy41NzAzMTMgMzEuMjE4NzUgMzMuNTcwMzEzIEwgMzcuNDEwMTU2IDM4LjgwODU5NCBDIDM2Ljk3MjY1NiAzOS4yMDMxMjUgNDQgMzQgNDQgMjQgQyA0NCAyMi42NjAxNTYgNDMuODYzMjgxIDIxLjM1MTU2MyA0My42MDkzNzUgMjAuMDgyMDMxIFogIj48L3BhdGg+PC9nPjwvc3ZnPg==\" />\r\n                      Sign up with Google\r\n                    </Button>\r\n                  )}\r\n                  onSuccess={this.responseGoogle}\r\n                  onFailure={this.responseGoogle}\r\n                />\r\n              </div>\r\n\r\n            </form>\r\n\r\n            {this.props.message.errorMessage &&\r\n              <MessageSnackBar\r\n                show={this.props.message.errorMessage === '' ? false : true}\r\n                message={this.props.message.errorMessage}\r\n              />\r\n            }\r\n\r\n          </div>\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    message: state.message\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Register);","import React, { Fragment } from 'react';\r\nimport './FinalRegister.css';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport Header from '../Header/Header';\r\nimport Register from '../Register/Register';\r\nimport { userLogin, userLogOut } from '../../redux/actions/auth';\r\nimport { getBlogsFromDb } from '../../controllers/getBlogs';\r\nimport { LinearProgress } from '@material-ui/core';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\n\r\nclass FinalRegister extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    getBlogsFromDb().then(res => {\r\n      if (res.tokenStatus === 'invalid' || res.error) { // invalid token status or error in response of server\r\n        this.props.dispatch(userLogOut());\r\n        this.setState(() => ({ verifying: false }));\r\n      } else { // valid token and user is already logged in\r\n        this.props.dispatch(userLogin());\r\n        this.props.dispatch(addBlogArr(res.blogs))\r\n        this.setState(() => ({ verifying: false }))\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.verifying ?\r\n        (\r\n          <Fragment>\r\n            <Header />\r\n            <LinearProgress />\r\n          </Fragment>\r\n        ) :\r\n        (\r\n          this.props.auth.loggedIn ?\r\n            (\r\n              <Redirect to='/dashboard' />\r\n            ) :\r\n            (\r\n              <Fragment>\r\n                <Header />\r\n                <Register />\r\n              </Fragment>\r\n            )\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FinalRegister);","import React, { Fragment } from 'react';\r\nimport './Shared.css';\r\nimport { Typography, LinearProgress } from '@material-ui/core';\r\n\r\nimport Header from '../Header/Header';\r\nimport { getSharedBlog } from '../../controllers/shared';\r\n\r\nclass Shared extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      blog: null,\r\n      fetching: true\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    const id = window.location.search.split('=')[1];\r\n    if (id) {\r\n      getSharedBlog(id).then(res => {\r\n        if (res.error === 'does not exist') {\r\n          this.setState(() => ({ error: res.error, fetching: false }));\r\n        } else if (res.error === 'no id found in query') {\r\n          this.setState(() => ({ error: res.error, fetching: false }));\r\n        } else {\r\n          this.setState(() => ({ blog: { ...res.blog }, fetching: false }));\r\n        }\r\n      });\r\n    } else {\r\n      this.setState(() => ({ error: 'no id found in query', fetching: false }));\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        {this.state.fetching ?\r\n          <LinearProgress /> :\r\n          (\r\n            <div className='shared-blog'>\r\n              {this.state.error === 'does not exist' ?\r\n                (\r\n                  <Typography variant=\"headline\" gutterBottom>\r\n                    Blog does not exist or either it is not shared by the owner or this link is not valid.\r\n                  </Typography>\r\n                ) :\r\n                (this.state.error === 'no id found in query' ?\r\n                  (\r\n                    <Typography variant=\"headline\" gutterBottom>\r\n                      No id found in URL. Server responded with null. Please get a valid link.\r\n                  </Typography>\r\n                  ) :\r\n                  (\r\n                    <Fragment>\r\n                      <div className='shared-title'>\r\n                        <Typography variant=\"headline\" gutterBottom>\r\n                          {this.state.blog.title}\r\n                        </Typography>\r\n                      </div>\r\n                      <div className='shared-description'>\r\n                        <Typography variant=\"body2\" gutterBottom>\r\n                          {this.state.blog.description}\r\n                        </Typography>\r\n                      </div>\r\n                    </Fragment>\r\n                  )\r\n                )}\r\n            </div>\r\n          )\r\n        }\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Shared;","import React from 'react'\r\nimport './Error404.css'\r\nimport Button from '@material-ui/core/Button';\r\n\r\nclass Error404 extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className='main-error-container'>\r\n                <div className='error-container'>\r\n                    <p> <span>Error 404!</span> Page Not Found!</p>\r\n                    <p> <span>Sorry!</span> Something doesn't seem quite right. Report this problem here.</p>\r\n                    <div onClick={() => window.history.back()}>\r\n                        <Button color=\"secondary\">\r\n                            Go Back here\r\n                    </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Error404;","import React, { Component } from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport FinalHome from './components/FinalHome/FinalHome';\nimport FinalDashboard from './components/FinalDashboard/FinalDashboard';\nimport FinalCreate from './components/FinalCreate/FinalCreate';\nimport FinalLogin from './components/FinalLogin/FinalLogin';\nimport FinalRegister from './components/FinalRegister/FinalRegister';\nimport Shared from './components/Shared/Shared';\nimport Error404 from './components/Error404/Error404';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n          <Switch>\n            <Route path='/' component={FinalHome} exact={true} />\n            <Route path='/dashboard' component={FinalDashboard} />\n            <Route path='/user/login' component={FinalLogin} />\n            <Route path='/user/register' component={FinalRegister} />\n            <Route path='/create' component={FinalCreate} />\n            <Route path='/public/shared' component={Shared} />\n            <Route path='/error' component={Error404} />\n            {/* Redirect to /error if some error occurs fetching */}\n          </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;","const blogsReducerDefaultState = [];\r\n\r\nexport default (state = blogsReducerDefaultState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_BLOG':\r\n            return [...state, action.blog];\r\n        case 'REMOVE_BLOG':\r\n            return state.filter(blog => blog.id !== action.id);\r\n        case 'EDIT_BLOG':\r\n            return state.map(blog => blog.id === action.id ? {...blog, ...action.updates } : blog);\r\n        case 'ADD_BLOG_ARR':\r\n            return action.blogs;\r\n        case 'SHARED_BLOG':\r\n            return state.map(blog => blog.id === action.id ? {...blog, shared: !blog.shared } : blog);\r\n        case 'ADD_ADDRESS':\r\n            console.log(action.id, action.address, state.map(blog => blog.id === action.id ? {...blog, address: action.address } : blog));\r\n            return state.map(blog => blog.id === action.id ? {...blog, address: action.address } : blog);\r\n        default:\r\n            return state;\r\n    }\r\n};","import moment from 'moment';\r\n\r\nconst filtersReducerDefaultState = {\r\n  text: '',\r\n  sortBy: 'dateCreatedAtDown',\r\n  startDate: null,\r\n  endDate: moment().endOf('day')\r\n}\r\n\r\nexport default (state = filtersReducerDefaultState, action) => {\r\n  switch (action.type) {\r\n      case 'SET_TEXT_FILTER':\r\n          return {...state, text: action.text }\r\n      case 'SET_DATE_FILTER':\r\n          return {...state, sortBy: action.date }\r\n      case 'SET_START_DATE':\r\n          return {...state, startDate: action.startDate }\r\n      case 'SET_END_DATE':\r\n          return {...state, endDate: action.endDate ? action.endDate : moment().endOf('day') }\r\n      default:\r\n          return state;\r\n  }\r\n};\r\n","const authReducerDefaultState = {\r\n    loggedIn: false,\r\n    loggedOut: true,\r\n    signUpMessage: null\r\n}\r\n\r\nexport default (state = authReducerDefaultState, action) => {\r\n    switch (action.type) {\r\n        case 'LOGGED_IN':\r\n            return {...state, loggedIn: true, loggedOut: false };\r\n        case 'LOGGED_OUT':\r\n            return {...state, loggedIn: false, loggedOut: true };\r\n        case 'SIGNUP_SUCCESS':\r\n            return {...state, signUpMessage: 'Singup Successfull! You can now login.' };\r\n        case 'REMOVE_SIGNUP':\r\n            return {...state, signUpMessage: null }\r\n        default:\r\n            return state;\r\n    }\r\n}","const messageReducerDefaultState = {\r\n    successMessage: null,\r\n    errorMessage: null,\r\n    error: null\r\n}\r\n\r\nexport default (state = messageReducerDefaultState, action) => {\r\n    switch (action.type) {\r\n        case 'SUCCESS_MESSAGE':\r\n            return {...state, successMessage: action.successMessage };\r\n        case 'ERROR_MESSAGE':\r\n            return {...state, errorMessage: action.errorMessage, error: action.error };\r\n        case 'CLEAR_ALL':\r\n            return {...state, errorMessage: null, successMessage: null, error: null };\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport configureStore from './redux/store/configureStore';\n\nconst store = configureStore();\n\nif('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('/sw.js').then(function() {\n  });\n}\n\nconst jsx = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nReactDOM.render(jsx, document.getElementById('root'));\n","import { createStore, combineReducers } from 'redux';\r\nimport blogsReducer from '../reducers/blogs';\r\nimport filtersReducer from '../reducers/filters';\r\nimport authReducer from '../reducers/auth';\r\nimport messageReducer from '../reducers/message';\r\n\r\nexport default () => {\r\n    const store = createStore(\r\n        combineReducers({\r\n            blogs: blogsReducer,\r\n            filters: filtersReducer,\r\n            auth: authReducer,\r\n            message: messageReducer\r\n        })\r\n    );\r\n    return store;\r\n}"],"sourceRoot":""}