(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{261:function(e,t,a){e.exports=a(540)},270:function(e,t,a){},272:function(e,t,a){},274:function(e,t,a){},405:function(e,t,a){},407:function(e,t,a){},409:function(e,t,a){},411:function(e,t,a){},414:function(e,t,a){},416:function(e,t,a){},418:function(e,t,a){},464:function(e,t,a){},466:function(e,t,a){},468:function(e,t,a){},470:function(e,t,a){},532:function(e,t,a){},534:function(e,t,a){},536:function(e,t,a){},538:function(e,t,a){},540:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),i=a.n(o),s=a(16),l=(a(270),a(7)),c=a(8),u=a(11),g=a(9),d=a(10),m=(a(272),a(542)),h=a(545),p=a(544),M=(a(274),a(541)),f=a(4),E=function(){return{type:"LOGGED_OUT"}},b=function(){return{type:"LOGGED_IN"}},j=a(188),N=a.n(j),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,a=e.description,n=e.createdAt,r=void 0===n?0:n,o=e.lastModified,i=void 0===o?0:o;return{type:"ADD_BLOG",blog:{id:N()(),description:a,title:t,createdAt:r,lastModified:i}}},y=function(){return{type:"REMOVE_BLOG",id:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id}},I=function(e,t){return{type:"EDIT_BLOG",id:e,updates:t}},O=function(e){return{type:"ADD_BLOG_ARR",blogs:e}},v=function(e){return{type:"SHARED_BLOG",id:e}},T=function(e,t){return{type:"ADD_ADDRESS",address:e,id:t}},w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(){a.props.dispatch(O([])),a.props.dispatch(E()),localStorage.removeItem("loginToken")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(f.a,{position:"static"},r.a.createElement(f.k,null,r.a.createElement(f.l,{variant:"title",color:"inherit"},r.a.createElement(M.a,{to:"/",className:"my-blog-title"},"Agro Mart")),this.props.auth.loggedIn?"/"===window.location.pathname?r.a.createElement(M.a,{to:"/user/login",className:"login-button"},r.a.createElement(f.b,{color:"inherit"},"Login")):r.a.createElement("a",{href:"#",className:"logout-button"},r.a.createElement(f.b,{onClick:this.handleLogout,color:"inherit"},"logout")):r.a.createElement(M.a,{to:"/user/login",className:"login-button"},r.a.createElement(f.b,{color:"inherit"},"Login"))))))}}]),t}(r.a.Component),A=Object(s.b)(function(e){return{auth:e.auth}})(w),S=(a(405),function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{className:"header-image",src:"img/header-image.png",alt:""})),r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"col span-1-of-4 box"},r.a.createElement("h3",null,r.a.createElement("i",{className:"fal fa-clock"}),"\xa0\xa0Up to 365 days/year"),r.a.createElement("p",null,"Neverever you think about your holidays we are always here to guide you and we will make best trip for you anytime, anywhere.")),r.a.createElement("div",{className:"col span-2-of-4 box"},r.a.createElement("h3",null,r.a.createElement("i",{className:"fal fa-lemon"}),"\xa0\xa0100% hygenic food"),r.a.createElement("p",null,"We always keep care about our customer's health so we will definitely give hygenic & best dishes to our customers. ")),r.a.createElement("div",{className:"col span-3-of-4 box"},r.a.createElement("h3",null,r.a.createElement("i",{className:"fal fa-handshake"}),"\xa0\xa0Best Deal"),r.a.createElement("p",null,"Get a best deal from pleasure trip which will always for famliy & friends.")),r.a.createElement("div",{className:"col span-4-of-4 box"},r.a.createElement("h3",null,r.a.createElement("i",{className:"fal fa-credit-card"}),"\xa0\xa0Secure Payments"),r.a.createElement("p",null,"We are using a best security for payments purpose through which our user willn't get any problem."))),r.a.createElement("div",{className:"footer"},r.a.createElement("i",{className:"fab fa-facebook-f"}),r.a.createElement("i",{className:"fab fa-instagram"}),r.a.createElement("i",{className:"fab fa-youtube"}),r.a.createElement("i",{className:"fab fa-twitter"})))}),C=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(A,null),r.a.createElement(S,null))}}]),t}(r.a.Component),z=(a(407),a(543)),k=(a(409),a(190)),x=a.n(k),Q=(a(411),a(26)),P=a.n(Q),L=function(){return{type:"SET_TEXT_FILTER",text:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}},U=function(){return{type:"SET_START_DATE",startDate:arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0}},Y=function(){return{type:"SET_END_DATE",endDate:arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0}},G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).handleStartDateChange=function(e){var t=e.target.value,n=P()(t||0).valueOf();a.props.dispatch(U(n||0))},a.handleEndDateChange=function(e){var t=e.target.value,n=P()(t||0).valueOf();a.props.dispatch(Y(n||0))},a.handleTextChange=function(e){var t=e.target.value;a.props.dispatch(L(t))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){console.log()}},{key:"render",value:function(){return r.a.createElement("div",{className:"form-filter-container"},r.a.createElement(f.j,{id:"search",label:"Search",type:"search",margin:"normal",value:this.props.filters.text,onChange:this.handleTextChange,className:"search-field form-filter-child"}),r.a.createElement("div",{className:"date-form form-filter-child"},r.a.createElement("div",{className:"start-date"},r.a.createElement(f.j,{id:"date",label:"Start Date",type:"date",value:this.props.filters.startDate?P()(this.props.filters.startDate).format("YYYY-MM-DD"):"",InputLabelProps:{shrink:!0},onEmptied:this.handleStartDateChange,onChange:this.handleStartDateChange}))),r.a.createElement("div",{className:"date-form form-filter-child"},r.a.createElement("div",{className:"end-date"},r.a.createElement(f.j,{id:"date",label:"End Date",type:"date",InputLabelProps:{shrink:!0},value:P()(this.props.filters.endDate).format("YYYY-MM-DD"),onEmptied:this.handleEndDateChange,onChange:this.handleEndDateChange}))))}}]),t}(r.a.Component),B=Object(s.b)(function(e){return{filters:e.filters}})(G),R=(a(414),a(416),a(189)),W=a.n(R),F=(a(418),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"error-message"},r.a.createElement(f.h,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.props.show,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.props.message),className:"snackbar-error-message"})))}}]),t}(r.a.Component)),H=function(e,t){return{type:"ERROR_MESSAGE",errorMessage:e,error:t}},Z=function(e){return{type:"SUCCESS_MESSAGE",successMessage:e}},J=function(){return{type:"CLEAR_ALL"}},_=function(e){return fetch("https://agro-mart.herokuapp.com/user/blogs".concat("undefined"===localStorage.getItem("loginToken")||"null"===localStorage.getItem("loginToken")?"":"?token="+localStorage.getItem("loginToken")),{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({blogId:e})}).then(function(e){return e.json().then(function(e){return e}).then(function(e){return e})})},X=function(e){return fetch("https://agro-mart.herokuapp.com/public/shared".concat("undefined"===localStorage.getItem("loginToken")||"null"===localStorage.getItem("loginToken")?"":"?token="+localStorage.getItem("loginToken")),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json().then(function(e){return e}).then(function(e){return e})})},q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(){a.setState(function(){return{value:!0}})},a.handleOpen=function(){a.setState(function(){return{open:!0}})},a.handleClose=function(){a.setState(function(){return{open:!1}})},a.handleLinkClick=function(e){e.target.select(),document.execCommand("copy"),a.props.dispatch(Z("Link copied to clipboard.","link copied to clipboard.")),setTimeout(function(){a.props.dispatch(J())},8e3)},a.handleSharedChange=function(){var e={blogId:a.props.blog.id,title:a.props.blog.title,description:a.props.blog.description,createdAt:a.props.blog.createdAt,lastModified:a.props.blog.lastModified,shared:!a.props.blog.shared};X(e).then(function(e){e.error?alert("Something went wrong please try again after sometime."):e.tokenStatus?a.props.dispatch(E()):a.props.dispatch(v(a.props.blog.id))})},a.handleRemoveBlog=function(){_(a.props.blog.id).then(function(e){e.tokenStatus?a.props.dispatch(E()):e.error?alert("Something went wrong. Please try again later"):"successful"===e.message&&a.props.dispatch(y({id:a.props.blog.id}))})},a.state={value:!1,shared:!1,copied:!1,open:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,this.state.value?r.a.createElement(z.a,{push:!0,to:{pathname:"/create",search:"?id=".concat(this.props.blog.id)}}):r.a.createElement(f.c,{className:"items-grid-item"},r.a.createElement("div",{className:"blog-wrapper"},r.a.createElement("p",{onClick:this.handleChange,className:"blog-title"},this.props.blog.shared?r.a.createElement("i",{className:"fal fa-users"}):r.a.createElement("i",{className:"fal fa-user"}),r.a.createElement("span",null,this.props.blog.title)),r.a.createElement("p",{className:"blog-description",title:this.props.blog.description},r.a.createElement("b",null,"Description"),": ",this.props.blog.description),this.props.blog.address&&r.a.createElement("p",{className:"blog-address",title:this.props.blog.address},r.a.createElement("b",null,"Address"),": ",this.props.blog.address),r.a.createElement("p",{className:"blog-datetime"},"Created At: ",r.a.createElement("span",null,P()(this.props.blog.createdAt).format("Do MMM YYYY, hh:mm a"))),r.a.createElement("p",{className:"blog-datetime"},"Modified On: ",r.a.createElement("span",null,P()(this.props.blog.lastModified).format("Do MMM YYYY, hh:mm a"))),r.a.createElement("div",{className:"blog-buttons"},r.a.createElement("div",{className:"modal-open-button"},r.a.createElement(f.b,{onClick:this.handleOpen,size:"small"},"Share"),r.a.createElement(f.e,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose,className:"modal"},r.a.createElement(f.f,{className:"modal-content"},r.a.createElement(f.l,{variant:"title",id:"modal-title"},"Share?"),r.a.createElement(f.i,{checked:this.props.blog.shared,onChange:this.handleSharedChange,color:"primary"}),this.props.blog.shared?r.a.createElement(f.j,{id:"name",value:"".concat(window.location.origin,"/public/shared?id=").concat(this.props.blog.id),onClick:this.handleLinkClick}):null,r.a.createElement(f.l,{variant:"subheading",id:"simple-modal-description"},"By making it public you understand that it will be available to everyone.")))),r.a.createElement("div",{className:"blog-delete-button"},r.a.createElement(f.b,{onClick:this.handleRemoveBlog,size:"small"},"Delete ",r.a.createElement(W.a,{className:"delete-blog-icon"})))))),r.a.createElement("div",null,this.props.message.successMessage&&r.a.createElement(F,{show:""!==this.props.message.successMessage,message:this.props.message.successMessage})))}}]),t}(r.a.Component),V=Object(s.b)(function(e){return{message:e.message}})(q),K=function(e,t){var a=t.text,n=t.sortBy,r=t.startDate,o=t.endDate;return e.filter(function(e){var t="number"!==typeof r||e.createdAt>=r,n="number"!==typeof o||e.createdAt<=o,i=""===a||e.title.toLowerCase().includes(a.toLowerCase());return t&&n&&i}).sort(function(e,t){return"dateCreatedAtDown"===n?e.createdAt<t.createdAt?1:-1:"dateCreatedAtUp"===n?e.createdAt<t.createdAt?-1:1:"dateLastModifiedDown"===n?e.lastModified<t.lastModified?1:-1:"dateLastModifiedUp"===n?e.lastModified<t.lastModified?-1:1:null})},$=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,this.props.blogs.length>0?r.a.createElement("div",{className:"items-grid"},this.props.blogs.map(function(e){return e.blogId?r.a.createElement(V,{key:e.blogId,blog:e}):r.a.createElement(V,{key:e.id,blog:e})})):null)}}]),t}(r.a.Component),ee=Object(s.b)(function(e){return{blogs:K(e.blogs,e.filters)}})($),te="787154855555-u9ni1h94lt2u312v3rb2pdfuuc04801j.apps.googleusercontent.com",ae="AIzaSyCyzrGZk2XCYhmGbAEqNWqnAvzQfP5bn9U&v",ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).loadAddress=function(){for(var e=function(e){if(a.props.blogs[e].position){var t=a.props.blogs[e].position,n=t.latitude,r=t.longitude;(new window.google.maps.Geocoder).geocode({location:{lat:n,lng:r}},function(t,n){"OK"===n&&t[0]&&a.props.dispatch(T(t[0].formatted_address,a.props.blogs[e].id))})}},t=0;t<a.props.blogs.length;t++)e(t)},a.state={isMapReady:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;!function(e,t){var a=window.document.getElementsByTagName("script")[0],n=document.createElement("script");n.src=e,n.async=!0,n.defer=!0,n.addEventListener("error",function(){t(!0)}),n.onload=function(){t(!1)},a.parentNode.insertBefore(n,a)}("https://maps.googleapis.com/maps/api/js?libraries=places&key=".concat(ae),function(t){t||(e.setState({isMapReady:!0}),e.loadAddress())})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null),r.a.createElement("div",{className:"container"},r.a.createElement(B,null)),r.a.createElement(ee,null),r.a.createElement("div",{className:"top-button"},r.a.createElement(f.b,{onClick:function(){return window.scrollTo(0,0)},variant:"fab",mini:!0,color:"primary","aria-label":"Add Item"},r.a.createElement(M.a,{to:"/create"},r.a.createElement(x.a,null)))))}}]),t}(r.a.Component);var re=Object(s.b)(function(e){return{blogs:K(e.blogs,e.filters),message:e.message}})(ne),oe=function(){return fetch("https://agro-mart.herokuapp.com/user/blogs".concat("undefined"===localStorage.getItem("loginToken")||"null"===localStorage.getItem("loginToken")?"":"?token="+localStorage.getItem("loginToken")),{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json().then(function(e){return e}).then(function(e){return e})})},ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).state={verifying:!0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.auth.loggedIn?this.setState(function(){return{verifying:!1}}):oe().then(function(t){t.error||"invalid"===t.tokenStatus?(e.props.dispatch(E()),e.setState(function(){return{verifying:!1}})):(e.props.dispatch(b()),e.setState(function(){return{verifying:!1}}),e.props.dispatch(O(t.blogs)))})}},{key:"render",value:function(){return this.state.verifying?r.a.createElement(n.Fragment,null,r.a.createElement(A,null),r.a.createElement(f.d,null)):this.props.auth.loggedIn?r.a.createElement(n.Fragment,null,r.a.createElement(A,null),r.a.createElement(re,null)):r.a.createElement(z.a,{to:"/user/login"})}}]),t}(r.a.Component),se=Object(s.b)(function(e){return{auth:e.auth,blogs:e.blogs}})(ie),le=(a(464),a(19)),ce=(a(466),function(e){return fetch("https://agro-mart.herokuapp.com/user/blogs".concat("undefined"===localStorage.getItem("loginToken")||"null"===localStorage.getItem("loginToken")?"":"?token="+localStorage.getItem("loginToken")),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({blogs:e})}).then(function(e){return e.json().then(function(e){return e}).then(function(e){return e})})}),ue=function(e){return fetch("https://agro-mart.herokuapp.com/user/blogs".concat("undefined"===localStorage.getItem("loginToken")||"null"===localStorage.getItem("loginToken")?"":"?token="+localStorage.getItem("loginToken")),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({blogs:e})}).then(function(e){return e.json().then(function(e){return e}).then(function(e){return e})})},ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){var t=e.target.value;"title"===e.target.id?a.setState(function(){return{title:t,modified:!0}}):"description"===e.target.id&&a.setState(function(){return{description:t,modified:!0}})},a.handleClick=function(e){e.preventDefault();var t=e.target.elements.title.value,n=e.target.elements.description.value;if(""!==t&&""!==n)if(a.state.id){var r=I(a.state.id,{title:t,description:n,lastModified:(new Date).getTime()});ue(Object(le.a)({id:r.id},r.updates)).then(function(e){"invalid"===e.tokenStatus?a.props.dispatch(E()):e.updated?(a.props.dispatch(r),a.setState(function(){return{clicked:!0}})):e.error&&(a.props.dispatch(H("Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.",e.error)),setTimeout(function(){a.props.dispatch(J())},8e3))})}else{var o=D({title:t,description:n,createdAt:(new Date).getTime(),lastModified:(new Date).getTime()});ce(o.blog).then(function(e){e.updated?(a.props.dispatch(o),a.setState(function(){return{clicked:!0}})):"invalid"===e.tokenStatus?a.props.dispatch(E()):e.error&&(a.props.dispatch(H("Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.",e.error)),setTimeout(function(){a.props.dispatch(J())},8e3))})}},a.state={id:null,title:"",description:"",createdAt:null,lastModified:null,clicked:!1,modified:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e,t=this,a=window.location.search.split("=")[1];(this.setState(function(){return{id:a||""}}),a)&&(this.props.blogs.map(function(t){return t.id===a&&t&&(e=t),null}),e?this.setState(function(){return Object(le.a)({},e,{id:a})}):(this.props.dispatch(H("Blog does not exists!","Invalid blog id found in url.")),window.history.replaceState("new url",null,"".concat(window.location.origin,"/create")),setTimeout(function(){t.props.dispatch(J())},8e3)))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,this.state.clicked?r.a.createElement(z.a,{push:!0,to:"/dashboard"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleClick,onChange:this.handleChange},r.a.createElement("div",{className:"title"},r.a.createElement(f.j,{id:"title",label:"Title",type:"title",value:this.state.title,margin:"normal",fullWidth:!0,name:"title"})),r.a.createElement("div",{className:"description"},r.a.createElement(f.j,{id:"description",label:"Description",placeholder:"Description of your blog goes here.",multiline:!0,fullWidth:!0,value:this.state.description,rows:1,rowsMax:15,name:"description"})),r.a.createElement("div",{className:"update-blog"},r.a.createElement(f.b,{variant:"contained",type:"submit",size:"small",disabled:!(""!==this.state.title&&""!==this.state.description&&this.state.modified)},this.state.id?"Update Item":"Add Item"))),this.props.message.errorMessage&&r.a.createElement(F,{show:""!==this.props.message.errorMessage,message:this.props.message.errorMessage})))}}]),t}(r.a.Component),de=Object(s.b)(function(e){return{blogs:e.blogs,message:e.message}})(ge),me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).getBlogs=function(){oe().then(function(e){e.error||"invalid"===e.tokenStatus?(a.props.dispatch(E()),a.setState(function(){return{verifying:!1}})):(a.props.dispatch(b()),a.props.dispatch(O(e.blogs)),a.setState(function(){return{verifying:!1}}))})},a.state={verifying:!0,id:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=window.location.search.split("=")[1];e&&this.setState(function(){return{id:e}}),e&&!this.props.auth.loggedIn?this.getBlogs():this.setState(function(){return{verifying:!1}})}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(A,null),this.state.verifying?r.a.createElement(f.d,null):this.props.auth.loggedIn?r.a.createElement(de,null):r.a.createElement(z.a,{to:{pathname:"/user/login",search:""!==this.state.id?"?id=".concat(this.state.id):""}}))}}]),t}(r.a.Component),he=Object(s.b)(function(e){return{auth:e.auth,blogs:e.blogs}})(me),pe=(a(468),a(470),a(57)),Me=a.n(pe),fe=a(79),Ee=a.n(fe),be=function(e){return fetch("https://agro-mart.herokuapp.com/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json().then(function(e){return e})}).then(function(e){return e}).catch(function(e){return console.error(e),e})},je=function(e){return fetch("https://agro-mart.herokuapp.com/user/auth/google",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json().then(function(e){return e}).then(function(e){return e})})},Ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).handleEmailChange=function(e){var t=e.target.value;a.setState(function(){return{email:t,errorEmail:!1}})},a.handlePasswordChange=function(e){var t=e.target.value;a.setState(function(){return{password:t,errorPassword:!1}})},a.handleSubmit=function(e){e.preventDefault();var t=e.target.elements.email.value,n=e.target.elements.password.value;Me.a.isEmail(t)?""===n?a.setState(function(){return{errorPassword:!0,errorPasswordText:"Password is required"}}):be({email:t,password:n}).then(function(e){e.errorPassword?a.setState(function(){return{errorPassword:!0,errorPasswordText:e.errorMessage}}):e.errorEmail?a.setState(function(){return{errorEmail:!0,errorEmailText:e.errorMessage}}):e.error?(a.props.dispatch(H("Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.",e.errorMessage)),setTimeout(function(){a.props.dispatch(J())},8e3)):(localStorage.setItem("loginToken",e.token),a.props.dispatch(O(e.blogs)),a.props.dispatch(b()))}).catch(function(e){console.log(e)}):a.setState(function(){return{errorEmail:!0,errorEmailText:"Please input valid email."}})},a.responseGoogle=function(e){if(!e.error){var t={username:e.profileObj.name,email:e.profileObj.email,accessToken:e.accessToken,refreshToken:e.refreshToken,profileImage:e.profileObj.imageUrl,googleId:e.googleId};je(t).then(function(e){e.errorUserType||e.errorPosition?(a.props.dispatch(H("User does not exists. We need few information to create a new user.",e.errorMessage)),a.setState({redirectSignup:!0}),setTimeout(function(){a.props.dispatch(J())},8e3)):e.error?(a.props.dispatch(H("Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.",e.errorMessage)),setTimeout(function(){a.props.dispatch(J())},8e3)):(localStorage.setItem("loginToken",e.jwtToken),a.props.dispatch(O(e.blogs)),a.props.dispatch(b()))}).catch(function(e){console.log(e)})}},a.state={email:"",password:"",errorEmail:!1,errorPassword:!1,errorEmailText:null,errorPasswordText:null,id:null,redirectSignup:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.message.successMessage&&setTimeout(function(){e.props.dispatch(J())},8e3)}},{key:"render",value:function(){return this.state.redirectSignup?r.a.createElement(z.a,{to:"/user/register"}):r.a.createElement("div",{className:"login-form"},r.a.createElement("form",{method:"POST",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"email-field"},r.a.createElement(f.j,{id:"email",label:"Email",margin:"normal",name:"email",fullWidth:!0,helperText:this.state.errorEmail?this.state.errorEmailText:null,error:!!this.state.errorEmail,onChange:this.handleEmailChange,value:this.state.email})),r.a.createElement("div",{className:"password-field"},r.a.createElement(f.j,{id:"password-input",label:"Password",error:!!this.state.errorPassword,type:"password",margin:"normal",name:"password",onChange:this.handlePasswordChange,helperText:this.state.errorPassword?this.state.errorPasswordText:null,fullWidth:!0,value:this.state.password})),r.a.createElement("div",{className:"form-login-button"},r.a.createElement(f.b,{size:"small",variant:"outlined",fullWidth:!0,type:"submit"},"Login")),r.a.createElement("div",{className:"new-user"},r.a.createElement(M.a,{to:"/user/register"},r.a.createElement(f.b,{size:"small",variant:"outlined",fullWidth:!0},"Sign up"))),r.a.createElement("div",{className:"third-party-login"},r.a.createElement(Ee.a,{clientId:te,buttonText:"Login",render:function(e){return r.a.createElement(f.b,{onClick:e.onClick,size:"small",variant:"outlined",fullWidth:!0},r.a.createElement("img",{alt:"google logo",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IgogICAgIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIKICAgICB2aWV3Qm94PSIwIDAgNDggNDgiCiAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDsiPjxnIGlkPSJzdXJmYWNlMSI+PHBhdGggc3R5bGU9IiBmaWxsOiNGRkMxMDc7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzMy42NTIzNDQgMzIuNjU2MjUgMjkuMjIyNjU2IDM2IDI0IDM2IEMgMTcuMzcxMDk0IDM2IDEyIDMwLjYyODkwNiAxMiAyNCBDIDEyIDE3LjM3MTA5NCAxNy4zNzEwOTQgMTIgMjQgMTIgQyAyNy4wNTg1OTQgMTIgMjkuODQzNzUgMTMuMTUyMzQ0IDMxLjk2MDkzOCAxNS4wMzkwNjMgTCAzNy42MTcxODggOS4zODI4MTMgQyAzNC4wNDY4NzUgNi4wNTQ2ODggMjkuMjY5NTMxIDQgMjQgNCBDIDEyLjk1MzEyNSA0IDQgMTIuOTUzMTI1IDQgMjQgQyA0IDM1LjA0Njg3NSAxMi45NTMxMjUgNDQgMjQgNDQgQyAzNS4wNDY4NzUgNDQgNDQgMzUuMDQ2ODc1IDQ0IDI0IEMgNDQgMjIuNjYwMTU2IDQzLjg2MzI4MSAyMS4zNTE1NjMgNDMuNjA5Mzc1IDIwLjA4MjAzMSBaICI+PC9wYXRoPjxwYXRoIHN0eWxlPSIgZmlsbDojRkYzRDAwOyIgZD0iTSA2LjMwNDY4OCAxNC42OTE0MDYgTCAxMi44Nzg5MDYgMTkuNTExNzE5IEMgMTQuNjU2MjUgMTUuMTA5Mzc1IDE4Ljk2MDkzOCAxMiAyNCAxMiBDIDI3LjA1ODU5NCAxMiAyOS44NDM3NSAxMy4xNTIzNDQgMzEuOTYwOTM4IDE1LjAzOTA2MyBMIDM3LjYxNzE4OCA5LjM4MjgxMyBDIDM0LjA0Njg3NSA2LjA1NDY4OCAyOS4yNjk1MzEgNCAyNCA0IEMgMTYuMzE2NDA2IDQgOS42NTYyNSA4LjMzNTkzOCA2LjMwNDY4OCAxNC42OTE0MDYgWiAiPjwvcGF0aD48cGF0aCBzdHlsZT0iIGZpbGw6IzRDQUY1MDsiIGQ9Ik0gMjQgNDQgQyAyOS4xNjQwNjMgNDQgMzMuODU5Mzc1IDQyLjAyMzQzOCAzNy40MTAxNTYgMzguODA4NTk0IEwgMzEuMjE4NzUgMzMuNTcwMzEzIEMgMjkuMjEwOTM4IDM1LjA4OTg0NCAyNi43MTQ4NDQgMzYgMjQgMzYgQyAxOC43OTY4NzUgMzYgMTQuMzgyODEzIDMyLjY4MzU5NCAxMi43MTg3NSAyOC4wNTQ2ODggTCA2LjE5NTMxMyAzMy4wNzgxMjUgQyA5LjUwMzkwNiAzOS41NTQ2ODggMTYuMjI2NTYzIDQ0IDI0IDQ0IFogIj48L3BhdGg+PHBhdGggc3R5bGU9IiBmaWxsOiMxOTc2RDI7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzNC41MTE3MTkgMzAuMjM4MjgxIDMzLjA3MDMxMyAzMi4xNjQwNjMgMzEuMjE0ODQ0IDMzLjU3MDMxMyBDIDMxLjIxODc1IDMzLjU3MDMxMyAzMS4yMTg3NSAzMy41NzAzMTMgMzEuMjE4NzUgMzMuNTcwMzEzIEwgMzcuNDEwMTU2IDM4LjgwODU5NCBDIDM2Ljk3MjY1NiAzOS4yMDMxMjUgNDQgMzQgNDQgMjQgQyA0NCAyMi42NjAxNTYgNDMuODYzMjgxIDIxLjM1MTU2MyA0My42MDkzNzUgMjAuMDgyMDMxIFogIj48L3BhdGg+PC9nPjwvc3ZnPg=="}),"Sign in with google")},onSuccess:this.responseGoogle,onFailure:this.responseGoogle})),this.props.message.errorMessage&&r.a.createElement(F,{show:""!==this.props.message.errorMessage,message:this.props.message.errorMessage}),this.props.message.successMessage&&r.a.createElement(F,{show:""!==this.props.message.successMessage,message:this.props.message.successMessage})))}}]),t}(r.a.Component),De=Object(s.b)(function(e){return{auth:e.auth,message:e.message}})(Ne),ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).state={verifying:!0,id:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.location.search.split("=")[1];t&&this.setState(function(){return{id:t}}),oe().then(function(t){"invalid"===t.tokenStatus||t.error?(e.props.dispatch(E()),e.setState(function(){return{verifying:!1}})):(e.props.dispatch(b()),e.props.dispatch(O(t.blogs)),e.setState(function(){return{verifying:!1}}))})}},{key:"render",value:function(){return this.state.verifying?r.a.createElement(n.Fragment,null,r.a.createElement(A,null),r.a.createElement(f.d,null)):this.props.auth.loggedIn?r.a.createElement(z.a,{to:""!==this.state.id?"/create?id=".concat(this.state.id):"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement(A,null),r.a.createElement(De,null))}}]),t}(r.a.Component),Ie=Object(s.b)(function(e){return{auth:e.auth}})(ye),Oe=(a(532),a(56)),ve=(a(534),function(e){return fetch("https://agro-mart.herokuapp.com/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json().then(function(e){return e})}).then(function(e){return e}).catch(function(e){return console.error(e),e})}),Te="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",we=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).handleNameChange=function(e){var t=e.target.value;a.setState(function(){return{name:t,errorName:!1}})},a.handleEmailChange=function(e){var t=e.target.value;a.setState(function(){return{email:t,errorEmail:!1}})},a.handleTypeChange=function(e){"customer"===e.target.value?a.setState(function(){return{typePerson:"customer"}}):a.setState(function(){return{typePerson:"farmer"}})},a.handlePasswordChange=function(e){var t=e.target.value;a.setState(function(){return{password:t,errorPassword:!1}})},a.handleConfirmPasswordChange=function(e){var t=e.target.value;a.setState(function(){return{confirmPassword:t,errorConfirmPassword:!1}})},a.handleGeolocationClick=function(e){var t=Object(Oe.a)(Object(Oe.a)(a));navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){t.setState({position:{latitude:e.coords.latitude,longitude:e.coords.longitude}})})},a.handleSubmit=function(e){e.preventDefault();var t=e.target.elements.name.value,n=e.target.elements.email.value,r=e.target.elements.pass0.value,o=e.target.elements.pass1.value,i=a.state.typePerson,s=a.state.position;t.length<3?a.setState(function(){return{errorName:!0}}):Me.a.isEmail(n)?Me.a.matches(r,Te)?r!==o?a.setState(function(){return{errorConfirmPassword:!0}}):ve({username:t,email:n,password:r,confirmPassword:o,userType:i,position:s}).then(function(e){e.errorName?a.setState(function(){return{errorName:!0,errorNameText:e.errorMessage}}):e.errorEmail?a.setState(function(){return{errorEmail:!0,errorEmailText:e.errorMessage}}):e.errorConfirmPassword?a.setState(function(){return{errorPassword:!0,errorPasswordText:e.errorMessage}}):e.errorPassword?a.setState(function(){return{errorPassword:!0,errorConfirmPasswordText:e.errorMessage}}):e.errorPosition?a.setState({errorPosition:!0}):e.success?(a.props.dispatch(Z("User created! You can now login.",e.successMessage)),a.setState(function(){return{redirect:!0}})):(a.props.dispatch(H("Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.",e.errorMessage)),setTimeout(function(){a.props.dispatch(J())},8e3))}):a.setState(function(){return{errorPassword:!0}}):a.setState(function(){return{errorEmail:!0}})},a.responseGoogle=function(e){if(a.state.position){if(!e.error){var t={username:e.profileObj.name,email:e.profileObj.email,accessToken:e.accessToken,refreshToken:e.refreshToken,profileImage:e.profileObj.imageUrl,googleId:e.googleId,userType:a.state.typePerson,position:a.state.position};je(t).then(function(t){e.error?(a.props.dispatch(H("Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.",t.errorMessage)),setTimeout(function(){a.props.dispatch(J())},8e3)):(localStorage.setItem("loginToken",t.jwtToken),a.props.dispatch(O(t.blogs)),a.props.dispatch(b()))})}}else a.setState({errorPosition:!0}),a.props.dispatch(H("We need to know your location in order to show your items to nearby cosumers.")),setTimeout(function(){a.props.dispatch(J())},8e3)},a.state={name:"",email:"",password:"",confirmPassword:"",errorEmail:!1,errorPassword:!1,errorConfirmPassword:!1,errorName:!1,errorNameText:"Name should be atleast three characters long.",errorEmailText:"Email should be valid",errorPasswordText:"Password should be 6 characters long and should include atleast one uppercase letter or numeric character.",errorConfirmPasswordText:"Both passwords should match.",redirect:!1,typePerson:"farmer",position:void 0,errorPosition:!1,errorPositionText:"Please enable location"},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(z.a,{to:"/dashboard"}):this.state.redirect?r.a.createElement(z.a,{to:"/user/login"}):r.a.createElement("div",{className:"register-form"},r.a.createElement("form",{method:"POST",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"name-field"},r.a.createElement(f.j,{id:"name",label:"Name",margin:"normal",name:"username",onChange:this.handleNameChange,value:this.state.name,error:this.state.errorName,helperText:this.state.errorName?this.state.errorNameText:null,fullWidth:!0})),r.a.createElement("div",{className:"email-field"},r.a.createElement(f.j,{id:"email",label:"Email",margin:"normal",name:"email",onChange:this.handleEmailChange,value:this.state.email,error:this.state.errorEmail,helperText:this.state.errorEmail?this.state.errorEmailText:null,fullWidth:!0})),r.a.createElement("div",{className:"password-field-1"},r.a.createElement(f.j,{id:"password-input-1",label:"Password",type:"password",margin:"normal",name:"pass0",onChange:this.handlePasswordChange,value:this.state.password,error:this.state.errorPassword,helperText:this.state.errorPassword?this.state.errorPasswordText:null,fullWidth:!0})),r.a.createElement("div",{className:"password-field-2"},r.a.createElement(f.j,{id:"password-input-2",label:"Confirm Password",type:"password",margin:"normal",name:"pass1",onChange:this.handleConfirmPasswordChange,value:this.state.confirmPassword,error:this.state.errorConfirmPassword,helperText:!!this.state.errorConfirmPassword&&this.state.errorConfirmPasswordText,fullWidth:!0})),r.a.createElement("div",{className:"mandatory-fields-alert"},r.a.createElement(f.l,{variant:"body2",gutterBottom:!0},"Below two fields are mandatory even if you register with google.")),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(f.g,{checked:"farmer"===this.state.typePerson,onChange:this.handleTypeChange,value:"farmer",name:"radio-button-demo","aria-label":"A"})," Farmer"),r.a.createElement("div",null,r.a.createElement(f.g,{checked:"customer"===this.state.typePerson,onChange:this.handleTypeChange,value:"customer",name:"radio-button-demo","aria-label":"A"})," Customer")),r.a.createElement("div",{className:"enable-geolocation"},r.a.createElement(f.b,{size:"small",onClick:this.handleGeolocationClick},r.a.createElement("i",{className:"fal fa-location"}),"Location"),"\xa0\xa0",r.a.createElement(f.j,{placeholder:"Geo-Location",className:"geolocation-input",error:this.state.errorPosition,helperText:!!this.state.errorPosition&&this.state.errorPositionText,value:this.state.position&&"".concat(this.state.position.latitude,", ").concat(this.state.position.longitude),margin:"normal"})),r.a.createElement("div",{className:"register-new-user"},r.a.createElement(f.b,{size:"small",variant:"outlined",fullWidth:!0,type:"submit"},"Sign up")),r.a.createElement("div",{className:"register-form-login-button"},r.a.createElement(M.a,{to:"/user/login"},r.a.createElement(f.b,{size:"small",variant:"outlined",fullWidth:!0},"Log In"))),r.a.createElement("div",{className:"third-party-login"},r.a.createElement(Ee.a,{clientId:te,buttonText:"Login",render:function(e){return r.a.createElement(f.b,{onClick:e.onClick,size:"small",variant:"outlined",fullWidth:!0},r.a.createElement("img",{alt:"google logo",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IgogICAgIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIKICAgICB2aWV3Qm94PSIwIDAgNDggNDgiCiAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDsiPjxnIGlkPSJzdXJmYWNlMSI+PHBhdGggc3R5bGU9IiBmaWxsOiNGRkMxMDc7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzMy42NTIzNDQgMzIuNjU2MjUgMjkuMjIyNjU2IDM2IDI0IDM2IEMgMTcuMzcxMDk0IDM2IDEyIDMwLjYyODkwNiAxMiAyNCBDIDEyIDE3LjM3MTA5NCAxNy4zNzEwOTQgMTIgMjQgMTIgQyAyNy4wNTg1OTQgMTIgMjkuODQzNzUgMTMuMTUyMzQ0IDMxLjk2MDkzOCAxNS4wMzkwNjMgTCAzNy42MTcxODggOS4zODI4MTMgQyAzNC4wNDY4NzUgNi4wNTQ2ODggMjkuMjY5NTMxIDQgMjQgNCBDIDEyLjk1MzEyNSA0IDQgMTIuOTUzMTI1IDQgMjQgQyA0IDM1LjA0Njg3NSAxMi45NTMxMjUgNDQgMjQgNDQgQyAzNS4wNDY4NzUgNDQgNDQgMzUuMDQ2ODc1IDQ0IDI0IEMgNDQgMjIuNjYwMTU2IDQzLjg2MzI4MSAyMS4zNTE1NjMgNDMuNjA5Mzc1IDIwLjA4MjAzMSBaICI+PC9wYXRoPjxwYXRoIHN0eWxlPSIgZmlsbDojRkYzRDAwOyIgZD0iTSA2LjMwNDY4OCAxNC42OTE0MDYgTCAxMi44Nzg5MDYgMTkuNTExNzE5IEMgMTQuNjU2MjUgMTUuMTA5Mzc1IDE4Ljk2MDkzOCAxMiAyNCAxMiBDIDI3LjA1ODU5NCAxMiAyOS44NDM3NSAxMy4xNTIzNDQgMzEuOTYwOTM4IDE1LjAzOTA2MyBMIDM3LjYxNzE4OCA5LjM4MjgxMyBDIDM0LjA0Njg3NSA2LjA1NDY4OCAyOS4yNjk1MzEgNCAyNCA0IEMgMTYuMzE2NDA2IDQgOS42NTYyNSA4LjMzNTkzOCA2LjMwNDY4OCAxNC42OTE0MDYgWiAiPjwvcGF0aD48cGF0aCBzdHlsZT0iIGZpbGw6IzRDQUY1MDsiIGQ9Ik0gMjQgNDQgQyAyOS4xNjQwNjMgNDQgMzMuODU5Mzc1IDQyLjAyMzQzOCAzNy40MTAxNTYgMzguODA4NTk0IEwgMzEuMjE4NzUgMzMuNTcwMzEzIEMgMjkuMjEwOTM4IDM1LjA4OTg0NCAyNi43MTQ4NDQgMzYgMjQgMzYgQyAxOC43OTY4NzUgMzYgMTQuMzgyODEzIDMyLjY4MzU5NCAxMi43MTg3NSAyOC4wNTQ2ODggTCA2LjE5NTMxMyAzMy4wNzgxMjUgQyA5LjUwMzkwNiAzOS41NTQ2ODggMTYuMjI2NTYzIDQ0IDI0IDQ0IFogIj48L3BhdGg+PHBhdGggc3R5bGU9IiBmaWxsOiMxOTc2RDI7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzNC41MTE3MTkgMzAuMjM4MjgxIDMzLjA3MDMxMyAzMi4xNjQwNjMgMzEuMjE0ODQ0IDMzLjU3MDMxMyBDIDMxLjIxODc1IDMzLjU3MDMxMyAzMS4yMTg3NSAzMy41NzAzMTMgMzEuMjE4NzUgMzMuNTcwMzEzIEwgMzcuNDEwMTU2IDM4LjgwODU5NCBDIDM2Ljk3MjY1NiAzOS4yMDMxMjUgNDQgMzQgNDQgMjQgQyA0NCAyMi42NjAxNTYgNDMuODYzMjgxIDIxLjM1MTU2MyA0My42MDkzNzUgMjAuMDgyMDMxIFogIj48L3BhdGg+PC9nPjwvc3ZnPg=="}),"Sign up with Google")},onSuccess:this.responseGoogle,onFailure:this.responseGoogle}))),this.props.message.errorMessage&&r.a.createElement(F,{show:""!==this.props.message.errorMessage,message:this.props.message.errorMessage}))}}]),t}(r.a.Component),Ae=Object(s.b)(function(e){return{message:e.message}})(we),Se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).state={verifying:!0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;oe().then(function(t){"invalid"===t.tokenStatus||t.error?(e.props.dispatch(E()),e.setState(function(){return{verifying:!1}})):(e.props.dispatch(b()),e.props.dispatch(O(t.blogs)),e.setState(function(){return{verifying:!1}}))})}},{key:"render",value:function(){return this.state.verifying?r.a.createElement(n.Fragment,null,r.a.createElement(A,null),r.a.createElement(f.d,null)):this.props.auth.loggedIn?r.a.createElement(z.a,{to:"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement(A,null),r.a.createElement(Ae,null))}}]),t}(r.a.Component),Ce=Object(s.b)(function(e){return{auth:e.auth}})(Se),ze=(a(536),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).state={blog:null,fetching:!0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.location.search.split("=")[1];t?function(e){return fetch("/public/shared/blog?id=".concat(e)).then(function(e){return e.json().then(function(e){return e}).then(function(e){return e})})}(t).then(function(t){"does not exist"===t.error?e.setState(function(){return{error:t.error,fetching:!1}}):"no id found in query"===t.error?e.setState(function(){return{error:t.error,fetching:!1}}):e.setState(function(){return{blog:Object(le.a)({},t.blog),fetching:!1}})}):this.setState(function(){return{error:"no id found in query",fetching:!1}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,null),this.state.fetching?r.a.createElement(f.d,null):r.a.createElement("div",{className:"shared-blog"},"does not exist"===this.state.error?r.a.createElement(f.l,{variant:"headline",gutterBottom:!0},"Blog does not exist or either it is not shared by the owner or this link is not valid."):"no id found in query"===this.state.error?r.a.createElement(f.l,{variant:"headline",gutterBottom:!0},"No id found in URL. Server responded with null. Please get a valid link."):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"shared-title"},r.a.createElement(f.l,{variant:"headline",gutterBottom:!0},this.state.blog.title)),r.a.createElement("div",{className:"shared-description"},r.a.createElement(f.l,{variant:"body2",gutterBottom:!0},this.state.blog.description)))))}}]),t}(r.a.Component)),ke=(a(538),a(76)),xe=a.n(ke),Qe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-error-container"},r.a.createElement("div",{className:"error-container"},r.a.createElement("p",null," ",r.a.createElement("span",null,"Error 404!")," Page Not Found!"),r.a.createElement("p",null," ",r.a.createElement("span",null,"Sorry!")," Something doesn't seem quite right. Report this problem here."),r.a.createElement("div",{onClick:function(){return window.history.back()}},r.a.createElement(xe.a,{color:"secondary"},"Go Back here"))))}}]),t}(r.a.Component),Pe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null,r.a.createElement(h.a,null,r.a.createElement(p.a,{path:"/",component:C,exact:!0}),r.a.createElement(p.a,{path:"/dashboard",component:se}),r.a.createElement(p.a,{path:"/user/login",component:Ie}),r.a.createElement(p.a,{path:"/user/register",component:Ce}),r.a.createElement(p.a,{path:"/create",component:he}),r.a.createElement(p.a,{path:"/public/shared",component:ze}),r.a.createElement(p.a,{path:"/error",component:Qe}))))}}]),t}(n.Component),Le=a(55),Ue=a(191),Ye=[],Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BLOG":return[].concat(Object(Ue.a)(e),[t.blog]);case"REMOVE_BLOG":return e.filter(function(e){return e.id!==t.id});case"EDIT_BLOG":return e.map(function(e){return e.id===t.id?Object(le.a)({},e,t.updates):e});case"ADD_BLOG_ARR":return t.blogs;case"SHARED_BLOG":return e.map(function(e){return e.id===t.id?Object(le.a)({},e,{shared:!e.shared}):e});case"ADD_ADDRESS":return e.map(function(e){return e.id===t.id?Object(le.a)({},e,{address:t.address}):e});default:return e}},Be={text:"",sortBy:"dateCreatedAtDown",startDate:null,endDate:P()().endOf("day")},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEXT_FILTER":return Object(le.a)({},e,{text:t.text});case"SET_DATE_FILTER":return Object(le.a)({},e,{sortBy:t.date});case"SET_START_DATE":return Object(le.a)({},e,{startDate:t.startDate});case"SET_END_DATE":return Object(le.a)({},e,{endDate:t.endDate?t.endDate:P()().endOf("day")});default:return e}},We={loggedIn:!1,loggedOut:!0,signUpMessage:null},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We;switch((arguments.length>1?arguments[1]:void 0).type){case"LOGGED_IN":return Object(le.a)({},e,{loggedIn:!0,loggedOut:!1});case"LOGGED_OUT":return Object(le.a)({},e,{loggedIn:!1,loggedOut:!0});case"SIGNUP_SUCCESS":return Object(le.a)({},e,{signUpMessage:"Singup Successfull! You can now login."});case"REMOVE_SIGNUP":return Object(le.a)({},e,{signUpMessage:null});default:return e}},He={successMessage:null,errorMessage:null,error:null},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS_MESSAGE":return Object(le.a)({},e,{successMessage:t.successMessage});case"ERROR_MESSAGE":return Object(le.a)({},e,{errorMessage:t.errorMessage,error:t.error});case"CLEAR_ALL":return Object(le.a)({},e,{errorMessage:null,successMessage:null,error:null});default:return e}},Je=Object(Le.c)(Object(Le.b)({blogs:Ge,filters:Re,auth:Fe,message:Ze}));"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(){});var _e=r.a.createElement(s.a,{store:Je},r.a.createElement(Pe,null));i.a.render(_e,document.getElementById("root"))}},[[261,2,1]]]);
//# sourceMappingURL=main.4e9c8a24.chunk.js.map