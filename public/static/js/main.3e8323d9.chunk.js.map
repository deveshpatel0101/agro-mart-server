{"version":3,"sources":["redux/actions/auth.js","redux/actions/blogs.js","components/Header/Header.js","components/Home/Home.js","components/FinalHome/FinalHome.js","redux/actions/filters.js","components/BlogsFilters/BlogsFilters.js","components/MessageSnackBar/MessageSnackBar.js","redux/actions/message.js","controllers/removeBlog.js","controllers/shared.js","components/BlogListItem/BlogListItem.js","redux/selectors/getBlogs.js","components/Blogs/Blogs.js","components/Dashboard/Dashboard.js","controllers/getBlogs.js","components/FinalDashboard/FinalDashboard.js","controllers/updateBlogs.js","controllers/editBlogs.js","components/Create/Create.js","components/FinalCreate/FinalCreate.js","controllers/loginController.js","controllers/googleAuthController.js","secret.js","components/Login/Login.js","components/FinalLogin/FinalLogin.js","controllers/signupController.js","components/Register/Register.js","components/FinalRegister/FinalRegister.js","components/Shared/Shared.js","components/Error404/Error404.js","App.js","redux/reducers/blogs.js","redux/reducers/filters.js","redux/reducers/auth.js","redux/reducers/message.js","index.js","redux/store/configureStore.js"],"names":["userLogOut","type","userLogin","addBlog","_ref","arguments","length","undefined","title","description","_ref$createdAt","createdAt","_ref$lastModified","lastModified","blog","id","uuid","removeBlog","editBlog","updates","addBlogArr","blogArr","blogs","sharedBlog","Header","handleLogout","_this","props","dispatch","localStorage","removeItem","react_default","a","createElement","index_es","position","variant","color","Link","to","className","this","auth","loggedIn","window","location","pathname","href","onClick","React","Component","connect","state","Home","src","alt","FinalHome","react","components_Header_Header","components_Home_Home","setTextFilter","text","setStartDate","startDate","setEndDate","endDate","BlogsFilter","handleStartDateChange","e","target","value","startDateTimeStamp","moment","valueOf","handleEndDateChange","endDateTimeStamp","handleTextChange","textField","console","log","label","margin","filters","onChange","format","InputLabelProps","shrink","onEmptied","MessageSnackBar","anchorOrigin","vertical","horizontal","open","show","ContentProps","aria-describedby","message","errorMessage","err","error","successMessage","clearMessages","removeBlogFromDb","blogId","fetch","concat","getItem","method","headers","Content-Type","body","JSON","stringify","then","res","json","result","response","postSharedBlog","BlogListItem","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","setState","handleOpen","handleClose","handleLinkClick","document","execCommand","setTimeout","handleSharedChange","shareBlog","shared","alert","tokenStatus","handleRemoveBlog","copied","Redirect","push","search","size","aria-labelledby","onClose","checked","origin","Delete_default","components_MessageSnackBar_MessageSnackBar","getBlogs","sortBy","filter","startDateMatch","endDateMatch","textMatch","toLowerCase","includes","sort","b","Blogs","map","components_BlogListItem_BlogListItem","key","Dashboard","BlogsFilters_BlogsFilters","components_Blogs_Blogs","scrollTo","mini","aria-label","Add_default","getBlogsFromDb","FinalDashboard","verifying","_this2","components_Dashboard_Dashboard","updateBlogs","editBlogs","Create","temp","modified","handleClick","preventDefault","elements","newBlog","Date","getTime","objectSpread","updated","clicked","correctBlog","split","history","replaceState","onSubmit","fullWidth","name","placeholder","multiline","rows","rowsMax","disabled","FinalCreate","components_Create_Create","postLoginData","formData","catch","googleAuth","data","secret","Login","handleEmailChange","email","errorEmail","handlePasswordChange","password","errorPassword","handleSubmit","validator","isEmail","errorPasswordText","errorEmailText","setItem","token","responseGoogle","user","username","profileObj","accessToken","refreshToken","profileImage","imageUrl","googleId","jwtToken","redirect","helperText","google_login_default","clientId","secrets","buttonText","render","renderProps","onSuccess","onFailure","FinalLogin","components_Login_Login","postSignupData","regEx","Register","handleNameChange","errorName","handleTypeChange","typePerson","handleConfirmPasswordChange","confirmPassword","errorConfirmPassword","pass0","pass1","matches","errorNameText","errorConfirmPasswordText","success","FinalRegister","components_Register_Register","Shared","fetching","finalResult","getSharedBlog","gutterBottom","Error404","back","Button_default","App","BrowserRouter","Switch","Route","path","component","exact","blogsReducerDefaultState","action","toConsumableArray","filtersReducerDefaultState","endOf","date","authReducerDefaultState","loggedOut","signUpMessage","messageReducerDefaultState","store","createStore","combineReducers","blogsReducer","filtersReducer","authReducer","messageReducer","navigator","serviceWorker","register","jsx","es","src_App_0","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.3e8323d9.chunk.js","sourcesContent":["export const userLogOut = () => ({\r\n    type: 'LOGGED_OUT'\r\n});\r\n\r\nexport const userLogin = () => ({\r\n    type: 'LOGGED_IN'\r\n});\r\n\r\nexport const signUp = () => ({\r\n    type: 'SINGUP_SUCCESS'\r\n});\r\n\r\nexport const removeSignUp = () => ({\r\n    type: 'REMOVE_SIGNUP'\r\n});","import uuid from 'uuid';\r\n\r\nexport const addBlog = ({ title, description, createdAt = 0, lastModified = 0 } = {}) => ({\r\n    type: 'ADD_BLOG',\r\n    blog: {\r\n        id: uuid(),\r\n        description,\r\n        title,\r\n        createdAt,\r\n        lastModified\r\n    }\r\n});\r\n\r\nexport const removeBlog = ({ id } = {}) => ({\r\n    type: 'REMOVE_BLOG',\r\n    id\r\n});\r\n\r\nexport const editBlog = (id, updates) => ({\r\n    type: 'EDIT_BLOG',\r\n    id,\r\n    updates\r\n});\r\n\r\nexport const addBlogArr = (blogArr) => ({\r\n    type: 'ADD_BLOG_ARR',\r\n    blogs: blogArr\r\n});\r\n\r\nexport const sharedBlog = (id) => ({\r\n    type: 'SHARED_BLOG',\r\n    id\r\n});","import React from 'react';\r\nimport './Header.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppBar, Toolbar, Typography, Button } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { userLogOut } from '../../redux/actions/auth';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\n\r\nclass Header extends React.Component {\r\n\r\n  handleLogout = () => {\r\n    // if logout button click remove, login token from local storage\r\n    this.props.dispatch(addBlogArr([]));\r\n    this.props.dispatch(userLogOut());\r\n    localStorage.removeItem('loginToken');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <AppBar position='static'>\r\n            <Toolbar>\r\n              <Typography variant='title' color='inherit'>\r\n                <Link to=\"/\" className='my-blog-title'>\r\n                  Agro Mart\r\n                </Link>\r\n              </Typography>\r\n              {this.props.auth.loggedIn ?\r\n                (\r\n                  window.location.pathname === '/' ?\r\n                    (\r\n                      <Link to=\"/user/login\" className='login-button'>\r\n                        <Button color='inherit'>Login</Button>\r\n                      </Link>\r\n                    ) :\r\n                    (\r\n                      <a href=\"#\" className='logout-button'>\r\n                        <Button onClick={this.handleLogout} color='inherit'>logout</Button>\r\n                      </a>\r\n                    )\r\n                )\r\n                :\r\n                (\r\n                  <Link to=\"/user/login\" className='login-button'>\r\n                    <Button color='inherit'>Login</Button>\r\n                  </Link>\r\n                )\r\n              }\r\n            </Toolbar>\r\n          </AppBar>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import React from 'react';\r\nimport './Home.css';\r\n\r\nconst Home = () => (\r\n  <div>\r\n    <div>\r\n      <img className=\"header-image\" src=\"img/header-image.png\" alt=\"\" />\r\n    </div>\r\n    <div className=\"details\">\r\n      <div className=\"col span-1-of-4 box\">\r\n        <h3><i className=\"fal fa-clock\"></i>&nbsp;&nbsp;Up to 365 days/year</h3>\r\n        <p>Neverever you think about your holidays we are always here to guide you and we will make best trip for you anytime, anywhere.</p>\r\n      </div>\r\n      <div className=\"col span-2-of-4 box\">\r\n        <h3><i className=\"fal fa-lemon\"></i>&nbsp;&nbsp;100% hygenic food</h3>\r\n        <p>We always keep care about our customer's health so we will definitely give hygenic & best dishes to our customers. </p>\r\n      </div>\r\n      <div className=\"col span-3-of-4 box\">\r\n        <h3><i className=\"fal fa-handshake\"></i>&nbsp;&nbsp;Best Deal</h3>\r\n        <p>Get a best deal from pleasure trip which will always for famliy & friends.</p>\r\n      </div>\r\n      <div className=\"col span-4-of-4 box\">\r\n        <h3><i className=\"fal fa-credit-card\"></i>&nbsp;&nbsp;Secure Payments</h3>\r\n        <p>We are using a best security for payments purpose through which our user willn't get any problem.</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"footer\">\r\n      <i className=\"fab fa-facebook-f\"></i>\r\n      <i className=\"fab fa-instagram\"></i>\r\n      <i className=\"fab fa-youtube\"></i>\r\n      <i className=\"fab fa-twitter\"></i>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Home;","import React, { Fragment } from 'react';\r\nimport Header from '../Header/Header';\r\nimport Home from '../Home/Home';\r\n\r\nclass FinalHome extends React.Component {\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <Header />\r\n        <Home />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FinalHome;","export const setTextFilter = (text = '') => ({\r\n    type: 'SET_TEXT_FILTER',\r\n    text\r\n});\r\n\r\nexport const sortByDate = (date) => ({\r\n    type: 'SET_DATE_FILTER',\r\n    date\r\n});\r\n\r\nexport const setStartDate = (startDate = undefined) => ({\r\n    type: 'SET_START_DATE',\r\n    startDate\r\n});\r\n\r\nexport const setEndDate = (endDate = undefined) => ({\r\n    type: 'SET_END_DATE',\r\n    endDate\r\n});","import React from 'react';\r\nimport './BlogsFilters.css';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\nimport { TextField, Button } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { setTextFilter, setStartDate, setEndDate } from '../../redux/actions/filters';\r\n\r\nclass BlogsFilter extends React.Component {\r\n\r\n  handleStartDateChange = (e) => {\r\n    const startDate = e.target.value;\r\n      // converting date string to timestamp\r\n      const startDateTimeStamp = moment(startDate ? startDate : 0).valueOf();\r\n      // dispatching setStartDate to filter blogs\r\n      this.props.dispatch(setStartDate(startDateTimeStamp ? startDateTimeStamp : 0));\r\n  }\r\n\r\n  handleEndDateChange = (e) => {\r\n    const endDate = e.target.value;\r\n      // converting date string to timestamp\r\n      const endDateTimeStamp = moment(endDate ? endDate : 0).valueOf();\r\n      // dispatching setEndDate to filter blogs\r\n      this.props.dispatch(setEndDate(endDateTimeStamp ? endDateTimeStamp : 0))\r\n  }\r\n\r\n  handleTextChange = (e) => {\r\n    const textField = e.target.value;\r\n    // get value from text field and set it as text filter in filters state\r\n    this.props.dispatch(setTextFilter(textField));\r\n  }\r\n\r\n  componentWillMount() {\r\n    console.log();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='form-filter-container'>\r\n        <TextField\r\n          id=\"search\"\r\n          label=\"Search\"\r\n          type=\"search\"\r\n          margin=\"normal\"\r\n          value={this.props.filters.text}\r\n          onChange={this.handleTextChange}\r\n          className='search-field form-filter-child'\r\n        />\r\n\r\n        <div className='date-form form-filter-child'>\r\n          <div className='start-date'>\r\n            <TextField\r\n              id=\"date\"\r\n              label=\"Start Date\"\r\n              type=\"date\"\r\n              value={this.props.filters.startDate ? moment(this.props.filters.startDate).format('YYYY-MM-DD') : ''}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onEmptied={this.handleStartDateChange}\r\n              onChange={this.handleStartDateChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className='date-form form-filter-child'>\r\n          <div className='end-date'>\r\n            <TextField\r\n              id=\"date\"\r\n              label=\"End Date\"\r\n              type=\"date\"\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              value={moment(this.props.filters.endDate).format('YYYY-MM-DD')}\r\n              onEmptied={this.handleEndDateChange}\r\n              onChange={this.handleEndDateChange}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    filters: state.filters\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BlogsFilter);","import React from 'react';\r\nimport './MessageSnackBar.css';\r\nimport { Snackbar } from '@material-ui/core';\r\n\r\nclass MessageSnackBar extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className='error-message'>\r\n          <Snackbar\r\n            anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\r\n            open={this.props.show}\r\n            ContentProps={{\r\n              'aria-describedby': 'message-id',\r\n            }}\r\n            message={<span id=\"message-id\">{this.props.message}</span>}\r\n            className='snackbar-error-message'\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MessageSnackBar;","export const errorMessage = (errorMessage, err) => ({\r\n    type: 'ERROR_MESSAGE',\r\n    errorMessage,\r\n    error: err\r\n});\r\n\r\nexport const successMessage = (successMessage) => ({\r\n    type: 'SUCCESS_MESSAGE',\r\n    successMessage\r\n});\r\n\r\nexport const clearMessages = () => ({\r\n    type: 'CLEAR_ALL'\r\n})","export const removeBlogFromDb = (blogId) => {\r\n    return fetch(`https://devesh-blog.herokuapp.com/user/blogs${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'delete',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ blogId: blogId })\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","export const postSharedBlog = (sharedBlog) => {\r\n    return fetch(`https://devesh-blog.herokuapp.com/public/shared${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'post',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(sharedBlog)\r\n    }).then(response => {\r\n        return response.json().then(result => {\r\n            return result;\r\n        }).then(res => {\r\n            return res;\r\n        });\r\n    });\r\n}\r\n\r\nexport const getSharedBlog = (id) => {\r\n    return fetch(`/public/shared/blog?id=${id}`).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(finalResult => {\r\n            return finalResult;\r\n        });\r\n    });\r\n}","import React, { Fragment } from 'react';\r\nimport './BlogListItem.css';\r\nimport { Card, Typography, Button, Modal, Paper, Switch, TextField } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport moment from 'moment';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport MessageSnackBar from '../MessageSnackBar/MessageSnackBar';\r\nimport { sharedBlog, removeBlog } from '../../redux/actions/blogs';\r\nimport { successMessage, clearMessages } from '../../redux/actions/message';\r\nimport { userLogOut } from '../../redux/actions/auth';\r\nimport { removeBlogFromDb } from '../../controllers/removeBlog';\r\nimport { postSharedBlog } from '../../controllers/shared';\r\n\r\n// TODO: redirect to login and bring user back to where he was\r\n// Remove the bug of fontawesome icons not being loaded\r\nclass BlogListItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: false,\r\n      shared: false,\r\n      copied: false,\r\n      open: false\r\n    }\r\n  }\r\n\r\n  handleChange = () => {\r\n    this.setState(() => ({ value: true }));\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState(() => ({ open: true }));\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState(() => ({ open: false }));\r\n  }\r\n\r\n  handleLinkClick = (e) => {\r\n    document.execCommand('copy');\r\n    this.props.dispatch(successMessage('Link copied to clipboard.', 'link copied to clipboard.'))\r\n    setTimeout(() => {\r\n      this.props.dispatch(clearMessages());\r\n    }, 8000);\r\n  }\r\n\r\n  handleSharedChange = () => {\r\n    let shareBlog = {\r\n      blogId: this.props.blog.id,\r\n      title: this.props.blog.title,\r\n      description: this.props.blog.description,\r\n      createdAt: this.props.blog.createdAt,\r\n      lastModified: this.props.blog.lastModified,\r\n      shared: !(this.props.blog.shared)\r\n    }\r\n\r\n    postSharedBlog(shareBlog).then(res => {\r\n      if (res.error) {\r\n        alert('Something went wrong please try again after sometime.');\r\n      } else if (res.tokenStatus) {\r\n        this.props.dispatch(userLogOut());\r\n      } else {\r\n        this.props.dispatch(sharedBlog(this.props.blog.id));\r\n      }\r\n    });\r\n  }\r\n\r\n  handleRemoveBlog = () => {\r\n    removeBlogFromDb(this.props.blog.id).then(res => {\r\n      if (res.tokenStatus) {\r\n        this.props.dispatch(userLogOut());\r\n      } else if (res.error) {\r\n        alert('Something went wrong. Please try again later');\r\n      } else if (res.message === 'successful') {\r\n        this.props.dispatch(removeBlog({ id: this.props.blog.id }));\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {/* To redirect user when click event occurs on specific blog item in list */}\r\n        {this.state.value ?\r\n          (\r\n            <Redirect push to={{ pathname: '/create', search: `?id=${this.props.blog.id}` }} />\r\n          ) :\r\n          (\r\n            <Card className='items-grid-item'>\r\n              <div className='blog-wrapper'>\r\n                <p onClick={this.handleChange} className='blog-title'>\r\n                  {this.props.blog.shared ? <i className=\"fal fa-users\"></i> : <i className=\"fal fa-user\"></i>}\r\n                  <span>{this.props.blog.title}</span>\r\n                </p>\r\n                <p className='blog-description'>Description: {this.props.blog.description}</p>\r\n                <p className='blog-datetime'>\r\n                  Created At: <span>{moment(this.props.blog.createdAt).format('Do MMM YYYY, hh:mm a')}</span>\r\n                </p>\r\n                <p className='blog-datetime'>\r\n                  Modified On: <span>{moment(this.props.blog.lastModified).format('Do MMM YYYY, hh:mm a')}</span>\r\n                </p>\r\n                <div className='blog-buttons'>\r\n                  <div className='modal-open-button'>\r\n                    <Button onClick={this.handleOpen} size='small'>Share</Button>\r\n                    <Modal\r\n                      aria-labelledby=\"simple-modal-title\"\r\n                      aria-describedby=\"simple-modal-description\"\r\n                      open={this.state.open}\r\n                      onClose={this.handleClose}\r\n                      className='modal'\r\n                    >\r\n                      <Paper className='modal-content'>\r\n                        <Typography variant=\"title\" id=\"modal-title\">\r\n                          Share?\r\n                        </Typography>\r\n                        <Switch\r\n                          checked={this.props.blog.shared}\r\n                          onChange={this.handleSharedChange}\r\n                          color=\"primary\"\r\n                        />\r\n                        {this.props.blog.shared ?\r\n                          (\r\n                            <TextField\r\n                              id=\"name\"\r\n                              value={`${window.location.origin}/public/shared?id=${this.props.blog.id}`}\r\n                              onClick={this.handleLinkClick}\r\n                            />\r\n                          ) :\r\n                          null\r\n                        }\r\n                        <Typography variant=\"subheading\" id=\"simple-modal-description\">\r\n                          By making it public you understand that it will be available to everyone.\r\n                        </Typography>\r\n                      </Paper>\r\n                    </Modal>\r\n                  </div>\r\n                  <div className='blog-delete-button'>\r\n                    <Button onClick={this.handleRemoveBlog} size='small'>\r\n                      Delete <DeleteIcon className='delete-blog-icon' />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          )\r\n        }\r\n        <div >\r\n          {this.props.message.successMessage &&\r\n            <MessageSnackBar\r\n              show={this.props.message.successMessage === '' ? false : true}\r\n              message={this.props.message.successMessage}\r\n            />\r\n          }\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    message: state.message\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(BlogListItem);","export default (blogs, { text, sortBy, startDate, endDate }) => {\r\n  return blogs.filter(blog => {\r\n      const startDateMatch = typeof(startDate) !== 'number' || blog.createdAt >= startDate;\r\n      const endDateMatch = typeof(endDate) !== 'number' || blog.createdAt <= endDate;\r\n      const textMatch = (text === '' ? true :  blog.title.toLowerCase().includes(text.toLowerCase()));\r\n      return startDateMatch && endDateMatch && textMatch;\r\n  }).sort((a, b) => {\r\n      if (sortBy === 'dateCreatedAtDown') {\r\n          return a.createdAt < b.createdAt ? 1 : -1;\r\n      } else if (sortBy === 'dateCreatedAtUp') {\r\n          return a.createdAt < b.createdAt ? -1 : 1;\r\n      } else if (sortBy === 'dateLastModifiedDown') {\r\n          return a.lastModified < b.lastModified ? 1 : -1;\r\n      } else if (sortBy === 'dateLastModifiedUp') {\r\n        return a.lastModified < b.lastModified ? -1 : 1;\r\n    }\r\n      return null;\r\n  });\r\n}","import React, { Fragment } from 'react';\r\nimport './Blogs.css';\r\nimport { connect } from 'react-redux';\r\n\r\nimport BlogListItem from '../BlogListItem/BlogListItem';\r\nimport getBlogs from '../../redux/selectors/getBlogs';\r\n\r\nclass Blogs extends React.Component {\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {/* Only to show table if there is atleast one blog in list */}\r\n        {this.props.blogs.length > 0 ?\r\n          (\r\n            <div className='items-grid'>\r\n              {this.props.blogs.map(blog => <BlogListItem key={blog.id} blog={blog} />)}\r\n            </div>\r\n          )\r\n          : null}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: getBlogs(state.blogs, state.filters)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Blogs);","import React from 'react';\r\nimport './Dashboard.css'\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/Add';\r\n\r\nimport Filters from '../BlogsFilters/BlogsFilters'\r\nimport Blogs from '../Blogs/Blogs';\r\n\r\nclass Dashboard extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className='container'>\r\n          <Filters />\r\n        </div>\r\n        <Blogs />\r\n        <div className='top-button'>\r\n          <Button onClick={() => (window.scrollTo(0, 0))} variant=\"fab\" mini color=\"primary\" aria-label=\"Add Item\">\r\n            <Link to='/create'><ExpandMoreIcon /></Link>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    message: state.message\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Dashboard);","export const getBlogsFromDb = () => {\r\n    return fetch(`https://devesh-blog.herokuapp.com/user/blogs${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'get',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","import React, { Fragment } from 'react';\r\nimport './FinalDashboard.css';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nimport Header from '../Header/Header';\r\nimport Dashboard from '../Dashboard/Dashboard';\r\nimport { getBlogsFromDb } from '../../controllers/getBlogs';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\nimport { userLogin, userLogOut } from '../../redux/actions/auth';\r\n\r\nclass FinalDashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (!this.props.auth.loggedIn) {\r\n      // get blogs from server\r\n      getBlogsFromDb().then(res => {\r\n        if (res.error || res.tokenStatus === 'invalid') { // if token invalid dispatch userlogout action\r\n          this.props.dispatch(userLogOut());\r\n          this.setState(() => ({ verifying: false }));\r\n        } else { // else token was valid and dispatch userlogin action\r\n          this.props.dispatch(userLogin());\r\n          this.setState(() => ({ verifying: false }));\r\n          this.props.dispatch(addBlogArr(res.blogs));\r\n        }\r\n      });\r\n    } else {\r\n      this.setState(() => ({ verifying: false }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.verifying ?\r\n        (\r\n          <Fragment>\r\n            <Header />\r\n            <LinearProgress />\r\n          </Fragment>\r\n        ) :\r\n        (this.props.auth.loggedIn ?\r\n          (\r\n            <Fragment>\r\n              <Header />\r\n              <Dashboard />\r\n            </Fragment>\r\n          ) :\r\n          (\r\n            <Redirect to='/user/login' />\r\n          )\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    blogs: state.blogs\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FinalDashboard);","export const updateBlogs = (blogs) => {\r\n    return fetch(`https://devesh-blog.herokuapp.com/user/blogs${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'post',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ blogs: blogs })\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","export const editBlogs = (blogs) => {\r\n    return fetch(`https://devesh-blog.herokuapp.com/user/blogs${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'put',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ blogs: blogs })\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","import React, { Fragment } from 'react';\r\nimport './Create.css';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { TextField, Button } from '@material-ui/core';\r\n\r\nimport MessageSnackBar from '../MessageSnackBar/MessageSnackBar';\r\nimport { errorMessage, clearMessages } from '../../redux/actions/message';\r\nimport { addBlog, editBlog } from '../../redux/actions/blogs';\r\nimport { userLogOut } from '../../redux/actions/auth';\r\nimport { updateBlogs } from '../../controllers/updateBlogs';\r\nimport { editBlogs } from '../../controllers/editBlogs';\r\n\r\nclass Create extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: null,\r\n      title: '',\r\n      description: '',\r\n      createdAt: null,\r\n      lastModified: null,\r\n      clicked: false,\r\n      modified: false\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    // sets title and description value in local state depending upon what is changed - title/desciption\r\n    // sets modified to true to use it when blog is in edit mode i.e blog is being modified.\r\n    const temp = e.target.value;\r\n    if (e.target.id === 'title') this.setState(() => ({ title: temp, modified: true }));\r\n    else if (e.target.id === 'description') this.setState(() => ({ description: temp, modified: true }));\r\n  }\r\n\r\n  handleClick = (e) => {\r\n    e.preventDefault();\r\n    const title = e.target.elements.title.value;\r\n    const description = e.target.elements.description.value;\r\n\r\n    //check if title and description fields are empty. if so keep submit button disabled.\r\n    if (title !== '' && description !== '') { // blog is being modified then send api call to server and then dispatch editBlog action only if server responds with status okay\r\n      if (this.state.id) { // blog is being modified\r\n        let newBlog = editBlog(this.state.id, { title, description, lastModified: new Date().getTime() });\r\n        // send call to server with necessary values\r\n        editBlogs({ id: newBlog.id, ...newBlog.updates }).then(res => {\r\n          // if tokenStatus status in response was invalid dispatch logout action\r\n          if (res.tokenStatus === 'invalid') {\r\n            this.props.dispatch(userLogOut());\r\n          } else if (res.updated) { // if response was true i.e request was successfully satisfied\r\n            this.props.dispatch(newBlog);\r\n            this.setState(() => ({ clicked: true }));\r\n          } else if (res.error) { // if error was found in response then send alert to user\r\n            this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.error));\r\n            setTimeout(() => {\r\n              this.props.dispatch(clearMessages());\r\n            }, 8000);\r\n          }\r\n        });\r\n      } else { // new blog is being created, under new state\r\n        let newBlog = addBlog({ title, description, createdAt: new Date().getTime(), lastModified: new Date().getTime() });\r\n        // send call to server with necessary values\r\n        updateBlogs(newBlog.blog).then(res => {\r\n          // if response was true i.e request was successfully satisfied\r\n          if (res.updated) {\r\n            this.props.dispatch(newBlog);\r\n            // set click value to true if form is correctly updated so as to redirect user to home page\r\n            this.setState(() => ({ clicked: true }));\r\n          } else if (res.tokenStatus === 'invalid') { // if tokenStatus status in response was invalid dispatch logout action\r\n            this.props.dispatch(userLogOut());\r\n          } else if (res.error) { // if error was found in response then send alert to user\r\n            this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.error));\r\n            setTimeout(() => {\r\n              this.props.dispatch(clearMessages());\r\n            }, 8000);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    // find `id` if it exist in url\r\n    const id = window.location.search.split('=')[1];\r\n    this.setState(() => ({ id: (id ? id : '') }));\r\n    if (id) {\r\n      let correctBlog;\r\n      // fetching correctBlog that matches in blogs array\r\n      this.props.blogs.map((blog) => {\r\n        if (blog.id === id && blog) {\r\n          correctBlog = blog;\r\n        }\r\n        return null;\r\n      });\r\n      if (correctBlog) { // if correct blog exist set its values in state along with id \r\n        this.setState(() => ({ ...correctBlog, id }));\r\n      } else {\r\n        this.props.dispatch(errorMessage('Blog does not exists!', 'Invalid blog id found in url.'));\r\n        window.history.replaceState('new url', null, `${window.location.origin}/create`);\r\n        setTimeout(() => {\r\n          this.props.dispatch(clearMessages());\r\n        }, 8000);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n\r\n        {/* if form submitted then click will be true, so `redirect` to home page*/}\r\n        {this.state.clicked ?\r\n          (\r\n            <Redirect push to='/dashboard' />\r\n          ) :\r\n          (\r\n            <div className='container'>\r\n              <form onSubmit={this.handleClick} onChange={this.handleChange}>\r\n                <div className='title'>\r\n                  <TextField\r\n                    id=\"title\"\r\n                    label=\"Title\"\r\n                    type=\"title\"\r\n                    value={this.state.title}\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    name='title'\r\n                  />\r\n                </div>\r\n                <div className='description'>\r\n                  <TextField\r\n                    id='description'\r\n                    label=\"Description\"\r\n                    placeholder='Description of your blog goes here.'\r\n                    multiline={true}\r\n                    fullWidth={true}\r\n                    value={this.state.description}\r\n                    rows={1}\r\n                    rowsMax={15}\r\n                    name='description'\r\n                  />\r\n                </div>\r\n                <div className='update-blog'>\r\n                  {/* disable the button depending upon the values of title, description and modified */}\r\n                  <Button variant=\"contained\" type='submit' size=\"small\" disabled={!(this.state.title !== '' && this.state.description !== '' && this.state.modified)}>\r\n                    {this.state.id ? 'Update Item' : 'Add Item'}\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n              {this.props.message.errorMessage &&\r\n                <MessageSnackBar\r\n                  show={this.props.message.errorMessage === '' ? false : true}\r\n                  message={this.props.message.errorMessage}\r\n                />\r\n              }\r\n            </div>\r\n          )}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: state.blogs,\r\n    message: state.message\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Create);","import React, { Fragment } from 'react';\r\nimport './FinalCreate.css';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nimport Header from '../Header/Header';\r\nimport Create from '../Create/Create';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\nimport { getBlogsFromDb } from '../../controllers/getBlogs';\r\nimport { userLogOut, userLogin } from '../../redux/actions/auth';\r\n\r\nclass FinalCreate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true,\r\n      id: ''\r\n    }\r\n  }\r\n\r\n  getBlogs = () => {\r\n    getBlogsFromDb().then(res => {\r\n      if (res.error || res.tokenStatus === 'invalid') { // if token invalid dispatch userlogout action\r\n        this.props.dispatch(userLogOut());\r\n        this.setState(() => ({ verifying: false }));\r\n      } else { // else dispatch userlogin action\r\n        this.props.dispatch(userLogin());\r\n        this.props.dispatch(addBlogArr(res.blogs));\r\n        this.setState(() => ({ verifying: false }));\r\n      }\r\n    });\r\n  }\r\n\r\n  componentWillMount() {\r\n    // if id field exist in url, if so set id in local state\r\n    const id = window.location.search.split('=')[1];\r\n    if (id) this.setState(() => ({ id }));\r\n    // if id exists and blogs length is not zero get all user blogs from server\r\n    if (id && !this.props.auth.loggedIn) { // page was refreshed\r\n      this.getBlogs();\r\n    } else { // user was redirected to create route to create new blog\r\n      this.setState(() => ({ verifying: false }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <Header />\r\n        {this.state.verifying ? (<LinearProgress />) : (this.props.auth.loggedIn ? (<Create />) : (<Redirect to={{ pathname: '/user/login', search: this.state.id !== '' ? `?id=${this.state.id}` : '' }} />))}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    blogs: state.blogs\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FinalCreate);","export const postLoginData = (formData) => {\r\n    return fetch('https://devesh-blog.herokuapp.com/user/login', {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(formData)\r\n    }).then(response => {\r\n        return response.json().then(res => {\r\n            return res;\r\n        });\r\n    }).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        console.error(err);\r\n        return err;\r\n    });\r\n}","export const googleAuth = (data) => {\r\n    return fetch(`https://devesh-blog.herokuapp.com/user/auth/google`, {\r\n        method: 'post',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(data)\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","export default {\r\n    \"GOOGLE_CLIENT_ID\": \"787154855555-u9ni1h94lt2u312v3rb2pdfuuc04801j.apps.googleusercontent.com\"\r\n}","import React from 'react';\r\nimport './Login.css';\r\nimport validator from 'validator';\r\nimport { TextField, Button } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport GoogleLogin from 'react-google-login';\r\n\r\nimport MessageSnackBar from '../MessageSnackBar/MessageSnackBar';\r\nimport { postLoginData } from '../../controllers/loginController';\r\nimport { googleAuth } from '../../controllers/googleAuthController';\r\nimport { userLogin } from '../../redux/actions/auth';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\nimport { clearMessages, errorMessage } from '../../redux/actions/message';\r\nimport secrets from '../../secret';\r\n\r\n// TODO: redirect to login and bring user back to where he was\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      errorEmail: false,\r\n      errorPassword: false,\r\n      errorEmailText: null,\r\n      errorPasswordText: null,\r\n      id: null,\r\n      redirect: false\r\n    }\r\n  }\r\n\r\n  handleEmailChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ email: temp, errorEmail: false }));\r\n  }\r\n\r\n  handlePasswordChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ password: temp, errorPassword: false }));\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    // will show errors depending on values of text fields and if everything is perfect dispatch user login\r\n    e.preventDefault();\r\n    const email = e.target.elements.email.value;\r\n    const password = e.target.elements.password.value;\r\n    if (!validator.isEmail(email)) {\r\n      this.setState(() => ({ errorEmail: true, errorEmailText: 'Please input valid email.' }));\r\n    } else if (password === '') {\r\n      this.setState(() => ({ errorPassword: true, errorPasswordText: 'Password is required' }));\r\n    } else {\r\n      // send login data to server\r\n      postLoginData({ email, password }).then(res => {\r\n        if (res.errorPassword) {\r\n          this.setState(() => ({ errorPassword: true, errorPasswordText: res.errorMessage }));\r\n        } else if (res.errorEmail) {\r\n          this.setState(() => ({ errorEmail: true, errorEmailText: res.errorMessage }));\r\n        } else if (res.error) {\r\n          this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.errorMessage))\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        } else { // successful login\r\n          localStorage.setItem('loginToken', res.token);\r\n          this.props.dispatch(addBlogArr(res.blogs))\r\n          this.props.dispatch(userLogin());\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  responseGoogle = (response) => {\r\n    if (!response.error) {\r\n      let user = {\r\n        username: response.profileObj.name,\r\n        email: response.profileObj.email,\r\n        accessToken: response.accessToken,\r\n        refreshToken: response.refreshToken,\r\n        profileImage: response.profileObj.imageUrl,\r\n        googleId: response.googleId\r\n      }\r\n      googleAuth(user).then(res => {\r\n        if (!res.error) {\r\n          localStorage.setItem('loginToken', res.jwtToken);\r\n          this.props.dispatch(addBlogArr(res.blogs));\r\n          this.props.dispatch(userLogin());\r\n        } else {\r\n          this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.errorMessage))\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n      })\r\n    }\r\n  }\r\n\r\n  // check if user was redirected from register page by creating new account\r\n  // if so then check successMessage\r\n  componentWillMount() {\r\n    if (this.props.message.successMessage) {\r\n      setTimeout(() => {\r\n        this.props.dispatch(clearMessages());\r\n      }, 8000);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='login-form'>\r\n        <form method='POST' onSubmit={this.handleSubmit}>\r\n\r\n          <div className='email-field'>\r\n            <TextField\r\n              id=\"email\"\r\n              label=\"Email\"\r\n              margin=\"normal\"\r\n              name='email'\r\n              fullWidth\r\n              helperText={this.state.errorEmail ? this.state.errorEmailText : null}\r\n              error={this.state.errorEmail ? true : false}\r\n              onChange={this.handleEmailChange}\r\n              value={this.state.email}\r\n            />\r\n          </div>\r\n\r\n          <div className='password-field'>\r\n            <TextField\r\n              id=\"password-input\"\r\n              label=\"Password\"\r\n              error={this.state.errorPassword ? true : false}\r\n              type=\"password\"\r\n              margin=\"normal\"\r\n              name='password'\r\n              onChange={this.handlePasswordChange}\r\n              helperText={this.state.errorPassword ? this.state.errorPasswordText : null}\r\n              fullWidth\r\n              value={this.state.password}\r\n            />\r\n          </div>\r\n\r\n          <div className='form-login-button'>\r\n            <Button size=\"small\" variant='outlined' fullWidth type='submit'>\r\n              Login\r\n            </Button>\r\n          </div>\r\n\r\n          <div className='new-user'>\r\n            <Link to='/user/register'>\r\n              <Button size=\"small\" variant='outlined' fullWidth>\r\n                Sign up\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n\r\n          <div className='third-party-login'>\r\n            <GoogleLogin\r\n              clientId={secrets.GOOGLE_CLIENT_ID}\r\n              buttonText=\"Login\"\r\n              render={renderProps => (\r\n                <Button onClick={renderProps.onClick} size=\"small\" variant='outlined' fullWidth>\r\n                  <img alt='google logo' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IgogICAgIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIKICAgICB2aWV3Qm94PSIwIDAgNDggNDgiCiAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDsiPjxnIGlkPSJzdXJmYWNlMSI+PHBhdGggc3R5bGU9IiBmaWxsOiNGRkMxMDc7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzMy42NTIzNDQgMzIuNjU2MjUgMjkuMjIyNjU2IDM2IDI0IDM2IEMgMTcuMzcxMDk0IDM2IDEyIDMwLjYyODkwNiAxMiAyNCBDIDEyIDE3LjM3MTA5NCAxNy4zNzEwOTQgMTIgMjQgMTIgQyAyNy4wNTg1OTQgMTIgMjkuODQzNzUgMTMuMTUyMzQ0IDMxLjk2MDkzOCAxNS4wMzkwNjMgTCAzNy42MTcxODggOS4zODI4MTMgQyAzNC4wNDY4NzUgNi4wNTQ2ODggMjkuMjY5NTMxIDQgMjQgNCBDIDEyLjk1MzEyNSA0IDQgMTIuOTUzMTI1IDQgMjQgQyA0IDM1LjA0Njg3NSAxMi45NTMxMjUgNDQgMjQgNDQgQyAzNS4wNDY4NzUgNDQgNDQgMzUuMDQ2ODc1IDQ0IDI0IEMgNDQgMjIuNjYwMTU2IDQzLjg2MzI4MSAyMS4zNTE1NjMgNDMuNjA5Mzc1IDIwLjA4MjAzMSBaICI+PC9wYXRoPjxwYXRoIHN0eWxlPSIgZmlsbDojRkYzRDAwOyIgZD0iTSA2LjMwNDY4OCAxNC42OTE0MDYgTCAxMi44Nzg5MDYgMTkuNTExNzE5IEMgMTQuNjU2MjUgMTUuMTA5Mzc1IDE4Ljk2MDkzOCAxMiAyNCAxMiBDIDI3LjA1ODU5NCAxMiAyOS44NDM3NSAxMy4xNTIzNDQgMzEuOTYwOTM4IDE1LjAzOTA2MyBMIDM3LjYxNzE4OCA5LjM4MjgxMyBDIDM0LjA0Njg3NSA2LjA1NDY4OCAyOS4yNjk1MzEgNCAyNCA0IEMgMTYuMzE2NDA2IDQgOS42NTYyNSA4LjMzNTkzOCA2LjMwNDY4OCAxNC42OTE0MDYgWiAiPjwvcGF0aD48cGF0aCBzdHlsZT0iIGZpbGw6IzRDQUY1MDsiIGQ9Ik0gMjQgNDQgQyAyOS4xNjQwNjMgNDQgMzMuODU5Mzc1IDQyLjAyMzQzOCAzNy40MTAxNTYgMzguODA4NTk0IEwgMzEuMjE4NzUgMzMuNTcwMzEzIEMgMjkuMjEwOTM4IDM1LjA4OTg0NCAyNi43MTQ4NDQgMzYgMjQgMzYgQyAxOC43OTY4NzUgMzYgMTQuMzgyODEzIDMyLjY4MzU5NCAxMi43MTg3NSAyOC4wNTQ2ODggTCA2LjE5NTMxMyAzMy4wNzgxMjUgQyA5LjUwMzkwNiAzOS41NTQ2ODggMTYuMjI2NTYzIDQ0IDI0IDQ0IFogIj48L3BhdGg+PHBhdGggc3R5bGU9IiBmaWxsOiMxOTc2RDI7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzNC41MTE3MTkgMzAuMjM4MjgxIDMzLjA3MDMxMyAzMi4xNjQwNjMgMzEuMjE0ODQ0IDMzLjU3MDMxMyBDIDMxLjIxODc1IDMzLjU3MDMxMyAzMS4yMTg3NSAzMy41NzAzMTMgMzEuMjE4NzUgMzMuNTcwMzEzIEwgMzcuNDEwMTU2IDM4LjgwODU5NCBDIDM2Ljk3MjY1NiAzOS4yMDMxMjUgNDQgMzQgNDQgMjQgQyA0NCAyMi42NjAxNTYgNDMuODYzMjgxIDIxLjM1MTU2MyA0My42MDkzNzUgMjAuMDgyMDMxIFogIj48L3BhdGg+PC9nPjwvc3ZnPg==\" />\r\n                  Sign in with google\r\n                </Button>\r\n              )}\r\n              onSuccess={this.responseGoogle}\r\n              onFailure={this.responseGoogle}\r\n            />\r\n          </div>\r\n          {this.props.message.errorMessage &&\r\n            <MessageSnackBar\r\n              show={this.props.message.errorMessage === '' ? false : true}\r\n              message={this.props.message.errorMessage}\r\n            />\r\n          }\r\n          {this.props.message.successMessage &&\r\n            <MessageSnackBar\r\n              show={this.props.message.successMessage === '' ? false : true}\r\n              message={this.props.message.successMessage}\r\n            />\r\n          }\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    message: state.message\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Login);","import React, { Fragment } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nimport './FinalLogin.css';\r\n\r\nimport Header from '../Header/Header';\r\nimport Login from '../Login/Login';\r\nimport { userLogin, userLogOut } from '../../redux/actions/auth';\r\nimport { getBlogsFromDb } from '../../controllers/getBlogs';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\n\r\nclass FinalLogin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true,\r\n      id: ''\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    const id = window.location.search.split('=')[1];\r\n    if (id) this.setState(() => ({ id }));\r\n    // get blogs from server\r\n    getBlogsFromDb().then(res => {\r\n      if (res.tokenStatus === 'invalid' || res.error) { // if error or invalid token status render login page, user is logged out\r\n        this.props.dispatch(userLogOut());\r\n        this.setState(() => ({ verifying: false }));\r\n      } else { // else redirect to dashboard page, user is already logged in\r\n        this.props.dispatch(userLogin());\r\n        this.props.dispatch(addBlogArr(res.blogs))\r\n        this.setState(() => ({ verifying: false }));\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.verifying ?\r\n        (\r\n          <Fragment>\r\n            <Header />\r\n            <LinearProgress />\r\n          </Fragment>\r\n        ) :\r\n        (\r\n          this.props.auth.loggedIn ?\r\n            <Redirect to={this.state.id !== '' ? `/create?id=${this.state.id}` : '/dashboard'} /> :\r\n            (\r\n              <Fragment>\r\n                <Header />\r\n                <Login />\r\n              </Fragment>\r\n            )\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FinalLogin);","export const postSignupData = (formData) => {\r\n    return fetch('https://devesh-blog.herokuapp.com/user/register', {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(formData)\r\n    }).then(response => {\r\n        return response.json().then(res => {\r\n            return res;\r\n        });\r\n    }).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        console.error(err);\r\n        return err;\r\n    });\r\n}","import React from 'react';\r\nimport './Register.css';\r\nimport validator from 'validator';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport { TextField, Button, Radio } from '@material-ui/core';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { connect } from 'react-redux';\r\n\r\nimport MessageSnackBar from '../MessageSnackBar/MessageSnackBar';\r\nimport { postSignupData } from '../../controllers/signupController';\r\nimport secrets from '../../secret';\r\nimport { googleAuth } from '../../controllers/googleAuthController';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\nimport { userLogin } from '../../redux/actions/auth';\r\nimport { errorMessage, clearMessages, successMessage } from '../../redux/actions/message';\r\n\r\nconst regEx = '^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})';\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      errorEmail: false,\r\n      errorPassword: false,\r\n      errorConfirmPassword: false,\r\n      errorName: false,\r\n      errorNameText: 'Name should be atleast three characters long.',\r\n      errorEmailText: 'Email should be valid',\r\n      errorPasswordText: 'Password should be 6 characters long and should include atleast one uppercase letter or numeric character.',\r\n      errorConfirmPasswordText: 'Both passwords should match.',\r\n      redirect: false,\r\n      typePerson: 'farmer'\r\n    }\r\n  }\r\n\r\n  handleNameChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ name: temp, errorName: false }));\r\n  }\r\n  handleEmailChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ email: temp, errorEmail: false }));\r\n  }\r\n\r\n  handleTypeChange = (e) => {\r\n    if (e.target.value === 'customer') {\r\n      this.setState(() => ({ typePerson: 'customer' }));\r\n    } else {\r\n      this.setState(() => ({ typePerson: 'farmer' }));\r\n    }\r\n  }\r\n\r\n  handlePasswordChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ password: temp, errorPassword: false }));\r\n  }\r\n\r\n  handleConfirmPasswordChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ confirmPassword: temp, errorConfirmPassword: false }));\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const name = e.target.elements.name.value;\r\n    const email = e.target.elements.email.value;\r\n    const password = e.target.elements.pass0.value;\r\n    const confirmPassword = e.target.elements.pass1.value;\r\n    if (name.length < 3) {\r\n      this.setState(() => ({ errorName: true }));\r\n    } else if (!validator.isEmail(email)) {\r\n      this.setState(() => ({ errorEmail: true }));\r\n    } else if (!validator.matches(password, regEx)) {\r\n      this.setState(() => ({ errorPassword: true }));\r\n    } else if (password !== confirmPassword) {\r\n      this.setState(() => ({ errorConfirmPassword: true }));\r\n    } else {\r\n      console.log(email)\r\n      postSignupData({ username: name, email, password, confirmPassword }).then(res => {\r\n        if (res.errorName) {\r\n          this.setState(() => ({ errorName: true, errorNameText: res.errorMessage }));\r\n        } else if (res.errorEmail) {\r\n          this.setState(() => ({ errorEmail: true, errorEmailText: res.errorMessage }));\r\n        } else if (res.errorConfirmPassword) {\r\n          this.setState(() => ({ errorPassword: true, errorPasswordText: res.errorMessage }));\r\n        } else if (res.errorPassword) {\r\n          this.setState(() => ({ errorPassword: true, errorConfirmPasswordText: res.errorMessage }));\r\n        } else if (res.success) {\r\n          this.props.dispatch(successMessage('User created! You can now login.', res.successMessage));\r\n          this.setState(() => ({ redirect: true }));\r\n        } else {\r\n          console.log('happened', res.errorMessage);\r\n          this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.errorMessage))\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  responseGoogle = (response) => {\r\n    if (!response.error) {\r\n      let user = {\r\n        username: response.profileObj.name,\r\n        email: response.profileObj.email,\r\n        accessToken: response.accessToken,\r\n        refreshToken: response.refreshToken,\r\n        profileImage: response.profileObj.imageUrl,\r\n        googleId: response.googleId\r\n      }\r\n      googleAuth(user).then(res => {\r\n        if (!response.error) {\r\n          localStorage.setItem('loginToken', res.jwtToken);\r\n          this.props.dispatch(addBlogArr(res.blogs));\r\n          this.props.dispatch(userLogin());\r\n        } else {\r\n          this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.errorMessage))\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return (\r\n        <Redirect to={'/dashboard'} />\r\n      )\r\n    }\r\n    return (\r\n      this.state.redirect ?\r\n        (\r\n          <Redirect to='/user/login' />\r\n        ) :\r\n        (\r\n          <div className='register-form'>\r\n            <form method='POST' onSubmit={this.handleSubmit}>\r\n\r\n              <div className='name-field'>\r\n                <TextField\r\n                  id=\"name\"\r\n                  label=\"Name\"\r\n                  margin=\"normal\"\r\n                  name='username'\r\n                  onChange={this.handleNameChange}\r\n                  value={this.state.name}\r\n                  error={this.state.errorName}\r\n                  helperText={this.state.errorName ? this.state.errorNameText : null}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              <div className='email-field'>\r\n                <TextField\r\n                  id=\"email\"\r\n                  label=\"Email\"\r\n                  margin=\"normal\"\r\n                  name='email'\r\n                  onChange={this.handleEmailChange}\r\n                  value={this.state.email}\r\n                  error={this.state.errorEmail}\r\n                  helperText={this.state.errorEmail ? this.state.errorEmailText : null}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              <div className='password-field-1'>\r\n                <TextField\r\n                  id=\"password-input-1\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  margin=\"normal\"\r\n                  name='pass0'\r\n                  onChange={this.handlePasswordChange}\r\n                  value={this.state.password}\r\n                  error={this.state.errorPassword}\r\n                  helperText={this.state.errorPassword ? this.state.errorPasswordText : null}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              <div className='password-field-2'>\r\n                <TextField\r\n                  id=\"password-input-2\"\r\n                  label=\"Confirm Password\"\r\n                  type=\"password\"\r\n                  margin=\"normal\"\r\n                  name='pass1'\r\n                  onChange={this.handleConfirmPasswordChange}\r\n                  value={this.state.confirmPassword}\r\n                  error={this.state.errorConfirmPassword}\r\n                  helperText={this.state.errorConfirmPassword ? this.state.errorConfirmPasswordText : false}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <div>\r\n                  <Radio\r\n                    checked={this.state.typePerson === 'farmer'}\r\n                    onChange={this.handleTypeChange}\r\n                    value=\"farmer\"\r\n                    name=\"radio-button-demo\"\r\n                    aria-label=\"A\"\r\n                  /> Farmer\r\n                </div>\r\n                <div>\r\n                  <Radio\r\n                    checked={this.state.typePerson === 'customer'}\r\n                    onChange={this.handleTypeChange}\r\n                    value=\"customer\"\r\n                    name=\"radio-button-demo\"\r\n                    aria-label=\"A\"\r\n                  /> Customer\r\n                </div>\r\n              </div>\r\n\r\n              <div className='register-new-user'>\r\n                <Button size=\"small\" variant='outlined' fullWidth type='submit'>\r\n                  Sign up\r\n                </Button>\r\n              </div>\r\n\r\n              <div className='register-form-login-button'>\r\n                <Link to='/user/login'>\r\n                  <Button size=\"small\" variant='outlined' fullWidth>\r\n                    Log In\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n\r\n              <div className='third-party-login'>\r\n                <GoogleLogin\r\n                  clientId={secrets.GOOGLE_CLIENT_ID}\r\n                  buttonText=\"Login\"\r\n                  render={renderProps => (\r\n                    <Button onClick={renderProps.onClick} size=\"small\" variant='outlined' fullWidth>\r\n                      <img alt='google logo' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IgogICAgIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIKICAgICB2aWV3Qm94PSIwIDAgNDggNDgiCiAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDsiPjxnIGlkPSJzdXJmYWNlMSI+PHBhdGggc3R5bGU9IiBmaWxsOiNGRkMxMDc7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzMy42NTIzNDQgMzIuNjU2MjUgMjkuMjIyNjU2IDM2IDI0IDM2IEMgMTcuMzcxMDk0IDM2IDEyIDMwLjYyODkwNiAxMiAyNCBDIDEyIDE3LjM3MTA5NCAxNy4zNzEwOTQgMTIgMjQgMTIgQyAyNy4wNTg1OTQgMTIgMjkuODQzNzUgMTMuMTUyMzQ0IDMxLjk2MDkzOCAxNS4wMzkwNjMgTCAzNy42MTcxODggOS4zODI4MTMgQyAzNC4wNDY4NzUgNi4wNTQ2ODggMjkuMjY5NTMxIDQgMjQgNCBDIDEyLjk1MzEyNSA0IDQgMTIuOTUzMTI1IDQgMjQgQyA0IDM1LjA0Njg3NSAxMi45NTMxMjUgNDQgMjQgNDQgQyAzNS4wNDY4NzUgNDQgNDQgMzUuMDQ2ODc1IDQ0IDI0IEMgNDQgMjIuNjYwMTU2IDQzLjg2MzI4MSAyMS4zNTE1NjMgNDMuNjA5Mzc1IDIwLjA4MjAzMSBaICI+PC9wYXRoPjxwYXRoIHN0eWxlPSIgZmlsbDojRkYzRDAwOyIgZD0iTSA2LjMwNDY4OCAxNC42OTE0MDYgTCAxMi44Nzg5MDYgMTkuNTExNzE5IEMgMTQuNjU2MjUgMTUuMTA5Mzc1IDE4Ljk2MDkzOCAxMiAyNCAxMiBDIDI3LjA1ODU5NCAxMiAyOS44NDM3NSAxMy4xNTIzNDQgMzEuOTYwOTM4IDE1LjAzOTA2MyBMIDM3LjYxNzE4OCA5LjM4MjgxMyBDIDM0LjA0Njg3NSA2LjA1NDY4OCAyOS4yNjk1MzEgNCAyNCA0IEMgMTYuMzE2NDA2IDQgOS42NTYyNSA4LjMzNTkzOCA2LjMwNDY4OCAxNC42OTE0MDYgWiAiPjwvcGF0aD48cGF0aCBzdHlsZT0iIGZpbGw6IzRDQUY1MDsiIGQ9Ik0gMjQgNDQgQyAyOS4xNjQwNjMgNDQgMzMuODU5Mzc1IDQyLjAyMzQzOCAzNy40MTAxNTYgMzguODA4NTk0IEwgMzEuMjE4NzUgMzMuNTcwMzEzIEMgMjkuMjEwOTM4IDM1LjA4OTg0NCAyNi43MTQ4NDQgMzYgMjQgMzYgQyAxOC43OTY4NzUgMzYgMTQuMzgyODEzIDMyLjY4MzU5NCAxMi43MTg3NSAyOC4wNTQ2ODggTCA2LjE5NTMxMyAzMy4wNzgxMjUgQyA5LjUwMzkwNiAzOS41NTQ2ODggMTYuMjI2NTYzIDQ0IDI0IDQ0IFogIj48L3BhdGg+PHBhdGggc3R5bGU9IiBmaWxsOiMxOTc2RDI7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzNC41MTE3MTkgMzAuMjM4MjgxIDMzLjA3MDMxMyAzMi4xNjQwNjMgMzEuMjE0ODQ0IDMzLjU3MDMxMyBDIDMxLjIxODc1IDMzLjU3MDMxMyAzMS4yMTg3NSAzMy41NzAzMTMgMzEuMjE4NzUgMzMuNTcwMzEzIEwgMzcuNDEwMTU2IDM4LjgwODU5NCBDIDM2Ljk3MjY1NiAzOS4yMDMxMjUgNDQgMzQgNDQgMjQgQyA0NCAyMi42NjAxNTYgNDMuODYzMjgxIDIxLjM1MTU2MyA0My42MDkzNzUgMjAuMDgyMDMxIFogIj48L3BhdGg+PC9nPjwvc3ZnPg==\" />\r\n                      Sign up with Google\r\n                    </Button>\r\n                  )}\r\n                  onSuccess={this.responseGoogle}\r\n                  onFailure={this.responseGoogle}\r\n                />\r\n              </div>\r\n\r\n            </form>\r\n\r\n            {this.props.message.errorMessage &&\r\n              <MessageSnackBar\r\n                show={this.props.message.errorMessage === '' ? false : true}\r\n                message={this.props.message.errorMessage}\r\n              />\r\n            }\r\n\r\n          </div>\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    message: state.message\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Register);","import React, { Fragment } from 'react';\r\nimport './FinalRegister.css';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport Header from '../Header/Header';\r\nimport Register from '../Register/Register';\r\nimport { userLogin, userLogOut } from '../../redux/actions/auth';\r\nimport { getBlogsFromDb } from '../../controllers/getBlogs';\r\nimport { LinearProgress } from '@material-ui/core';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\n\r\nclass FinalRegister extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    getBlogsFromDb().then(res => {\r\n      if (res.tokenStatus === 'invalid' || res.error) { // invalid token status or error in response of server\r\n        this.props.dispatch(userLogOut());\r\n        this.setState(() => ({ verifying: false }));\r\n      } else { // valid token and user is already logged in\r\n        this.props.dispatch(userLogin());\r\n        this.props.dispatch(addBlogArr(res.blogs))\r\n        this.setState(() => ({ verifying: false }))\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.verifying ?\r\n        (\r\n          <Fragment>\r\n            <Header />\r\n            <LinearProgress />\r\n          </Fragment>\r\n        ) :\r\n        (\r\n          this.props.auth.loggedIn ?\r\n            (\r\n              <Redirect to='/dashboard' />\r\n            ) :\r\n            (\r\n              <Fragment>\r\n                <Header />\r\n                <Register />\r\n              </Fragment>\r\n            )\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FinalRegister);","import React, { Fragment } from 'react';\r\nimport './Shared.css';\r\nimport { Typography, LinearProgress } from '@material-ui/core';\r\n\r\nimport Header from '../Header/Header';\r\nimport { getSharedBlog } from '../../controllers/shared';\r\n\r\nclass Shared extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      blog: null,\r\n      fetching: true\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    const id = window.location.search.split('=')[1];\r\n    if (id) {\r\n      getSharedBlog(id).then(res => {\r\n        if (res.error === 'does not exist') {\r\n          this.setState(() => ({ error: res.error, fetching: false }));\r\n        } else if (res.error === 'no id found in query') {\r\n          this.setState(() => ({ error: res.error, fetching: false }));\r\n        } else {\r\n          this.setState(() => ({ blog: { ...res.blog }, fetching: false }));\r\n        }\r\n      });\r\n    } else {\r\n      this.setState(() => ({ error: 'no id found in query', fetching: false }));\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        {this.state.fetching ?\r\n          <LinearProgress /> :\r\n          (\r\n            <div className='shared-blog'>\r\n              {this.state.error === 'does not exist' ?\r\n                (\r\n                  <Typography variant=\"headline\" gutterBottom>\r\n                    Blog does not exist or either it is not shared by the owner or this link is not valid.\r\n                  </Typography>\r\n                ) :\r\n                (this.state.error === 'no id found in query' ?\r\n                  (\r\n                    <Typography variant=\"headline\" gutterBottom>\r\n                      No id found in URL. Server responded with null. Please get a valid link.\r\n                  </Typography>\r\n                  ) :\r\n                  (\r\n                    <Fragment>\r\n                      <div className='shared-title'>\r\n                        <Typography variant=\"headline\" gutterBottom>\r\n                          {this.state.blog.title}\r\n                        </Typography>\r\n                      </div>\r\n                      <div className='shared-description'>\r\n                        <Typography variant=\"body2\" gutterBottom>\r\n                          {this.state.blog.description}\r\n                        </Typography>\r\n                      </div>\r\n                    </Fragment>\r\n                  )\r\n                )}\r\n            </div>\r\n          )\r\n        }\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Shared;","import React from 'react'\r\nimport './Error404.css'\r\nimport Button from '@material-ui/core/Button';\r\n\r\nclass Error404 extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className='main-error-container'>\r\n                <div className='error-container'>\r\n                    <p> <span>Error 404!</span> Page Not Found!</p>\r\n                    <p> <span>Sorry!</span> Something doesn't seem quite right. Report this problem here.</p>\r\n                    <div onClick={() => window.history.back()}>\r\n                        <Button color=\"secondary\">\r\n                            Go Back here\r\n                    </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Error404;","import React, { Component } from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport FinalHome from './components/FinalHome/FinalHome';\nimport FinalDashboard from './components/FinalDashboard/FinalDashboard';\nimport FinalCreate from './components/FinalCreate/FinalCreate';\nimport FinalLogin from './components/FinalLogin/FinalLogin';\nimport FinalRegister from './components/FinalRegister/FinalRegister';\nimport Shared from './components/Shared/Shared';\nimport Error404 from './components/Error404/Error404';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n          <Switch>\n            <Route path='/' component={FinalHome} exact={true} />\n            <Route path='/dashboard' component={FinalDashboard} />\n            <Route path='/user/login' component={FinalLogin} />\n            <Route path='/user/register' component={FinalRegister} />\n            <Route path='/create' component={FinalCreate} />\n            <Route path='/public/shared' component={Shared} />\n            <Route path='/error' component={Error404} />\n            {/* Redirect to /error if some error occurs fetching */}\n          </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;","const blogsReducerDefaultState = [];\r\n\r\nexport default (state = blogsReducerDefaultState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_BLOG':\r\n            return [...state, action.blog];\r\n        case 'REMOVE_BLOG':\r\n            return state.filter(blog => blog.id !== action.id);\r\n        case 'EDIT_BLOG':\r\n            return state.map(blog => blog.id === action.id ? {...blog, ...action.updates } : blog);\r\n        case 'ADD_BLOG_ARR':\r\n            return action.blogs;\r\n        case 'SHARED_BLOG': \r\n            return state.map(blog => blog.id === action.id ? {...blog, shared: !blog.shared} : blog);\r\n        default:\r\n            return state;\r\n    }\r\n};","import moment from 'moment';\r\n\r\nconst filtersReducerDefaultState = {\r\n  text: '',\r\n  sortBy: 'dateCreatedAtDown',\r\n  startDate: null,\r\n  endDate: moment().endOf('day')\r\n}\r\n\r\nexport default (state = filtersReducerDefaultState, action) => {\r\n  switch (action.type) {\r\n      case 'SET_TEXT_FILTER':\r\n          return {...state, text: action.text }\r\n      case 'SET_DATE_FILTER':\r\n          return {...state, sortBy: action.date }\r\n      case 'SET_START_DATE':\r\n          return {...state, startDate: action.startDate }\r\n      case 'SET_END_DATE':\r\n          return {...state, endDate: action.endDate ? action.endDate : moment().endOf('day') }\r\n      default:\r\n          return state;\r\n  }\r\n};\r\n","const authReducerDefaultState = {\r\n    loggedIn: false,\r\n    loggedOut: true,\r\n    signUpMessage: null\r\n}\r\n\r\nexport default (state = authReducerDefaultState, action) => {\r\n    switch (action.type) {\r\n        case 'LOGGED_IN':\r\n            return {...state, loggedIn: true, loggedOut: false };\r\n        case 'LOGGED_OUT':\r\n            return {...state, loggedIn: false, loggedOut: true };\r\n        case 'SIGNUP_SUCCESS':\r\n            return {...state, signUpMessage: 'Singup Successfull! You can now login.' };\r\n        case 'REMOVE_SIGNUP':\r\n            return {...state, signUpMessage: null }\r\n        default:\r\n            return state;\r\n    }\r\n}","const messageReducerDefaultState = {\r\n    successMessage: null,\r\n    errorMessage: null,\r\n    error: null\r\n}\r\n\r\nexport default (state = messageReducerDefaultState, action) => {\r\n    switch (action.type) {\r\n        case 'SUCCESS_MESSAGE':\r\n            return {...state, successMessage: action.successMessage };\r\n        case 'ERROR_MESSAGE':\r\n            return {...state, errorMessage: action.errorMessage, error: action.error };\r\n        case 'CLEAR_ALL':\r\n            return {...state, errorMessage: null, successMessage: null, error: null };\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport configureStore from './redux/store/configureStore';\n\nconst store = configureStore();\n\nif('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('/sw.js').then(function() {\n    console.log(\"service worker registered!\");\n  });\n}\n\nconst jsx = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nReactDOM.render(jsx, document.getElementById('root'));\n","import { createStore, combineReducers } from 'redux';\r\nimport blogsReducer from '../reducers/blogs';\r\nimport filtersReducer from '../reducers/filters';\r\nimport authReducer from '../reducers/auth';\r\nimport messageReducer from '../reducers/message';\r\n\r\nexport default () => {\r\n    const store = createStore(\r\n        combineReducers({\r\n            blogs: blogsReducer,\r\n            filters: filtersReducer,\r\n            auth: authReducer,\r\n            message: messageReducer\r\n        })\r\n    );\r\n    return store;\r\n}"],"sourceRoot":""}