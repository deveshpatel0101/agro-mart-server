{"version":3,"sources":["redux/actions/auth.js","redux/actions/blogs.js","components/Header/Header.js","components/Home/Home.js","components/FinalHome/FinalHome.js","redux/actions/filters.js","components/BlogsFilters/BlogsFilters.js","components/MessageSnackBar/MessageSnackBar.js","redux/actions/message.js","controllers/removeBlog.js","controllers/shared.js","components/BlogListItem/BlogListItem.js","redux/selectors/getBlogs.js","components/Blogs/Blogs.js","components/Dashboard/Dashboard.js","controllers/getBlogs.js","components/FinalDashboard/FinalDashboard.js","controllers/updateBlogs.js","controllers/editBlogs.js","components/Create/Create.js","components/FinalCreate/FinalCreate.js","controllers/loginController.js","controllers/googleAuthController.js","secret.js","components/Login/Login.js","components/FinalLogin/FinalLogin.js","controllers/signupController.js","components/Register/Register.js","components/FinalRegister/FinalRegister.js","components/Shared/Shared.js","components/Error404/Error404.js","App.js","redux/reducers/blogs.js","redux/reducers/filters.js","redux/reducers/auth.js","redux/reducers/message.js","index.js","redux/store/configureStore.js"],"names":["userLogOut","type","userLogin","addBlog","_ref","arguments","length","undefined","title","description","_ref$createdAt","createdAt","_ref$lastModified","lastModified","blog","id","uuid","removeBlog","editBlog","updates","addBlogArr","blogArr","blogs","sharedBlog","Header","handleLogout","_this","props","dispatch","localStorage","removeItem","react_default","a","createElement","index_es","position","variant","color","Link","to","className","this","auth","loggedIn","window","location","pathname","href","onClick","React","Component","connect","state","Home","src","alt","FinalHome","react","components_Header_Header","components_Home_Home","setTextFilter","text","setStartDate","startDate","setEndDate","endDate","BlogsFilter","handleStartDateChange","e","target","value","startDateTimeStamp","moment","valueOf","handleEndDateChange","endDateTimeStamp","handleTextChange","textField","console","log","label","margin","filters","onChange","format","InputLabelProps","shrink","onEmptied","MessageSnackBar","anchorOrigin","vertical","horizontal","open","show","ContentProps","aria-describedby","message","errorMessage","err","error","successMessage","clearMessages","removeBlogFromDb","blogId","fetch","concat","getItem","method","headers","Content-Type","body","JSON","stringify","then","res","json","result","response","postSharedBlog","BlogListItem","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","setState","handleOpen","handleClose","handleLinkClick","select","document","execCommand","setTimeout","handleSharedChange","shareBlog","shared","alert","tokenStatus","handleRemoveBlog","copied","Redirect","push","search","size","aria-labelledby","onClose","checked","origin","Delete_default","components_MessageSnackBar_MessageSnackBar","getBlogs","sortBy","filter","startDateMatch","endDateMatch","textMatch","toLowerCase","includes","sort","b","Blogs","map","components_BlogListItem_BlogListItem","key","Dashboard","BlogsFilters_BlogsFilters","components_Blogs_Blogs","scrollTo","mini","aria-label","Add_default","getBlogsFromDb","FinalDashboard","verifying","_this2","components_Dashboard_Dashboard","updateBlogs","editBlogs","Create","temp","modified","handleClick","preventDefault","elements","newBlog","Date","getTime","objectSpread","updated","clicked","correctBlog","split","history","replaceState","onSubmit","fullWidth","name","placeholder","multiline","rows","rowsMax","disabled","FinalCreate","components_Create_Create","postLoginData","formData","catch","googleAuth","data","secret","Login","handleEmailChange","email","errorEmail","handlePasswordChange","password","errorPassword","handleSubmit","validator","isEmail","errorPasswordText","errorEmailText","setItem","token","responseGoogle","user","username","profileObj","accessToken","refreshToken","profileImage","imageUrl","googleId","errorUserType","errorPosition","redirectSignup","jwtToken","helperText","google_login_default","clientId","secrets","buttonText","render","renderProps","onSuccess","onFailure","FinalLogin","components_Login_Login","postSignupData","regEx","Register","handleNameChange","errorName","handleTypeChange","typePerson","handleConfirmPasswordChange","confirmPassword","errorConfirmPassword","handleGeolocationClick","that","assertThisInitialized","navigator","geolocation","getCurrentPosition","latitude","coords","longitude","pass0","pass1","personType","matches","userType","errorNameText","errorConfirmPasswordText","success","redirect","errorPositionText","gutterBottom","FinalRegister","components_Register_Register","Shared","fetching","finalResult","getSharedBlog","Error404","back","Button_default","App","BrowserRouter","Switch","Route","path","component","exact","blogsReducerDefaultState","action","toConsumableArray","filtersReducerDefaultState","endOf","date","authReducerDefaultState","loggedOut","signUpMessage","messageReducerDefaultState","store","createStore","combineReducers","blogsReducer","filtersReducer","authReducer","messageReducer","serviceWorker","register","jsx","es","src_App_0","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.e3ca26b0.chunk.js","sourcesContent":["export const userLogOut = () => ({\r\n    type: 'LOGGED_OUT'\r\n});\r\n\r\nexport const userLogin = () => ({\r\n    type: 'LOGGED_IN'\r\n});\r\n\r\nexport const signUp = () => ({\r\n    type: 'SINGUP_SUCCESS'\r\n});\r\n\r\nexport const removeSignUp = () => ({\r\n    type: 'REMOVE_SIGNUP'\r\n});","import uuid from 'uuid';\r\n\r\nexport const addBlog = ({ title, description, createdAt = 0, lastModified = 0 } = {}) => ({\r\n    type: 'ADD_BLOG',\r\n    blog: {\r\n        id: uuid(),\r\n        description,\r\n        title,\r\n        createdAt,\r\n        lastModified\r\n    }\r\n});\r\n\r\nexport const removeBlog = ({ id } = {}) => ({\r\n    type: 'REMOVE_BLOG',\r\n    id\r\n});\r\n\r\nexport const editBlog = (id, updates) => ({\r\n    type: 'EDIT_BLOG',\r\n    id,\r\n    updates\r\n});\r\n\r\nexport const addBlogArr = (blogArr) => ({\r\n    type: 'ADD_BLOG_ARR',\r\n    blogs: blogArr\r\n});\r\n\r\nexport const sharedBlog = (id) => ({\r\n    type: 'SHARED_BLOG',\r\n    id\r\n});","import React from 'react';\r\nimport './Header.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppBar, Toolbar, Typography, Button } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { userLogOut } from '../../redux/actions/auth';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\n\r\nclass Header extends React.Component {\r\n\r\n  handleLogout = () => {\r\n    // if logout button click remove, login token from local storage\r\n    this.props.dispatch(addBlogArr([]));\r\n    this.props.dispatch(userLogOut());\r\n    localStorage.removeItem('loginToken');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <AppBar position='static'>\r\n            <Toolbar>\r\n              <Typography variant='title' color='inherit'>\r\n                <Link to=\"/\" className='my-blog-title'>\r\n                  Agro Mart\r\n                </Link>\r\n              </Typography>\r\n              {this.props.auth.loggedIn ?\r\n                (\r\n                  window.location.pathname === '/' ?\r\n                    (\r\n                      <Link to=\"/user/login\" className='login-button'>\r\n                        <Button color='inherit'>Login</Button>\r\n                      </Link>\r\n                    ) :\r\n                    (\r\n                      <a href=\"#\" className='logout-button'>\r\n                        <Button onClick={this.handleLogout} color='inherit'>logout</Button>\r\n                      </a>\r\n                    )\r\n                )\r\n                :\r\n                (\r\n                  <Link to=\"/user/login\" className='login-button'>\r\n                    <Button color='inherit'>Login</Button>\r\n                  </Link>\r\n                )\r\n              }\r\n            </Toolbar>\r\n          </AppBar>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import React from 'react';\r\nimport './Home.css';\r\n\r\nconst Home = () => (\r\n  <div>\r\n    <div>\r\n      <img className=\"header-image\" src=\"img/header-image.png\" alt=\"\" />\r\n    </div>\r\n    <div className=\"details\">\r\n      <div className=\"col span-1-of-4 box\">\r\n        <h3><i className=\"fal fa-clock\"></i>&nbsp;&nbsp;Up to 365 days/year</h3>\r\n        <p>Neverever you think about your holidays we are always here to guide you and we will make best trip for you anytime, anywhere.</p>\r\n      </div>\r\n      <div className=\"col span-2-of-4 box\">\r\n        <h3><i className=\"fal fa-lemon\"></i>&nbsp;&nbsp;100% hygenic food</h3>\r\n        <p>We always keep care about our customer's health so we will definitely give hygenic & best dishes to our customers. </p>\r\n      </div>\r\n      <div className=\"col span-3-of-4 box\">\r\n        <h3><i className=\"fal fa-handshake\"></i>&nbsp;&nbsp;Best Deal</h3>\r\n        <p>Get a best deal from pleasure trip which will always for famliy & friends.</p>\r\n      </div>\r\n      <div className=\"col span-4-of-4 box\">\r\n        <h3><i className=\"fal fa-credit-card\"></i>&nbsp;&nbsp;Secure Payments</h3>\r\n        <p>We are using a best security for payments purpose through which our user willn't get any problem.</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"footer\">\r\n      <i className=\"fab fa-facebook-f\"></i>\r\n      <i className=\"fab fa-instagram\"></i>\r\n      <i className=\"fab fa-youtube\"></i>\r\n      <i className=\"fab fa-twitter\"></i>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Home;","import React, { Fragment } from 'react';\r\nimport Header from '../Header/Header';\r\nimport Home from '../Home/Home';\r\n\r\nclass FinalHome extends React.Component {\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <Header />\r\n        <Home />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FinalHome;","export const setTextFilter = (text = '') => ({\r\n    type: 'SET_TEXT_FILTER',\r\n    text\r\n});\r\n\r\nexport const sortByDate = (date) => ({\r\n    type: 'SET_DATE_FILTER',\r\n    date\r\n});\r\n\r\nexport const setStartDate = (startDate = undefined) => ({\r\n    type: 'SET_START_DATE',\r\n    startDate\r\n});\r\n\r\nexport const setEndDate = (endDate = undefined) => ({\r\n    type: 'SET_END_DATE',\r\n    endDate\r\n});","import React from 'react';\r\nimport './BlogsFilters.css';\r\nimport moment from 'moment';\r\nimport { TextField } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { setTextFilter, setStartDate, setEndDate } from '../../redux/actions/filters';\r\n\r\nclass BlogsFilter extends React.Component {\r\n\r\n  handleStartDateChange = (e) => {\r\n    const startDate = e.target.value;\r\n      // converting date string to timestamp\r\n      const startDateTimeStamp = moment(startDate ? startDate : 0).valueOf();\r\n      // dispatching setStartDate to filter blogs\r\n      this.props.dispatch(setStartDate(startDateTimeStamp ? startDateTimeStamp : 0));\r\n  }\r\n\r\n  handleEndDateChange = (e) => {\r\n    const endDate = e.target.value;\r\n      // converting date string to timestamp\r\n      const endDateTimeStamp = moment(endDate ? endDate : 0).valueOf();\r\n      // dispatching setEndDate to filter blogs\r\n      this.props.dispatch(setEndDate(endDateTimeStamp ? endDateTimeStamp : 0))\r\n  }\r\n\r\n  handleTextChange = (e) => {\r\n    const textField = e.target.value;\r\n    // get value from text field and set it as text filter in filters state\r\n    this.props.dispatch(setTextFilter(textField));\r\n  }\r\n\r\n  componentWillMount() {\r\n    console.log();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='form-filter-container'>\r\n        <TextField\r\n          id=\"search\"\r\n          label=\"Search\"\r\n          type=\"search\"\r\n          margin=\"normal\"\r\n          value={this.props.filters.text}\r\n          onChange={this.handleTextChange}\r\n          className='search-field form-filter-child'\r\n        />\r\n\r\n        <div className='date-form form-filter-child'>\r\n          <div className='start-date'>\r\n            <TextField\r\n              id=\"date\"\r\n              label=\"Start Date\"\r\n              type=\"date\"\r\n              value={this.props.filters.startDate ? moment(this.props.filters.startDate).format('YYYY-MM-DD') : ''}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onEmptied={this.handleStartDateChange}\r\n              onChange={this.handleStartDateChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className='date-form form-filter-child'>\r\n          <div className='end-date'>\r\n            <TextField\r\n              id=\"date\"\r\n              label=\"End Date\"\r\n              type=\"date\"\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              value={moment(this.props.filters.endDate).format('YYYY-MM-DD')}\r\n              onEmptied={this.handleEndDateChange}\r\n              onChange={this.handleEndDateChange}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    filters: state.filters\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BlogsFilter);","import React from 'react';\r\nimport './MessageSnackBar.css';\r\nimport { Snackbar } from '@material-ui/core';\r\n\r\nclass MessageSnackBar extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className='error-message'>\r\n          <Snackbar\r\n            anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\r\n            open={this.props.show}\r\n            ContentProps={{\r\n              'aria-describedby': 'message-id',\r\n            }}\r\n            message={<span id=\"message-id\">{this.props.message}</span>}\r\n            className='snackbar-error-message'\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MessageSnackBar;","export const errorMessage = (errorMessage, err) => ({\r\n    type: 'ERROR_MESSAGE',\r\n    errorMessage,\r\n    error: err\r\n});\r\n\r\nexport const successMessage = (successMessage) => ({\r\n    type: 'SUCCESS_MESSAGE',\r\n    successMessage\r\n});\r\n\r\nexport const clearMessages = () => ({\r\n    type: 'CLEAR_ALL'\r\n})","export const removeBlogFromDb = (blogId) => {\r\n    return fetch(`https://agro-mart.herokuapp.com/user/blogs${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'delete',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ blogId: blogId })\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","export const postSharedBlog = (sharedBlog) => {\r\n    return fetch(`https://agro-mart.herokuapp.com/public/shared${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'post',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(sharedBlog)\r\n    }).then(response => {\r\n        return response.json().then(result => {\r\n            return result;\r\n        }).then(res => {\r\n            return res;\r\n        });\r\n    });\r\n}\r\n\r\nexport const getSharedBlog = (id) => {\r\n    return fetch(`/public/shared/blog?id=${id}`).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(finalResult => {\r\n            return finalResult;\r\n        });\r\n    });\r\n}","import React, { Fragment } from 'react';\r\nimport './BlogListItem.css';\r\nimport { Card, Typography, Button, Modal, Paper, Switch, TextField } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport moment from 'moment';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport MessageSnackBar from '../MessageSnackBar/MessageSnackBar';\r\nimport { sharedBlog, removeBlog } from '../../redux/actions/blogs';\r\nimport { successMessage, clearMessages } from '../../redux/actions/message';\r\nimport { userLogOut } from '../../redux/actions/auth';\r\nimport { removeBlogFromDb } from '../../controllers/removeBlog';\r\nimport { postSharedBlog } from '../../controllers/shared';\r\n\r\n// TODO: redirect to login and bring user back to where he was\r\n// Remove the bug of fontawesome icons not being loaded\r\nclass BlogListItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: false,\r\n      shared: false,\r\n      copied: false,\r\n      open: false\r\n    }\r\n  }\r\n\r\n  handleChange = () => {\r\n    this.setState(() => ({ value: true }));\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState(() => ({ open: true }));\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState(() => ({ open: false }));\r\n  }\r\n\r\n  handleLinkClick = (e) => {\r\n    e.target.select();\r\n    document.execCommand('copy');\r\n    this.props.dispatch(successMessage('Link copied to clipboard.', 'link copied to clipboard.'))\r\n    setTimeout(() => {\r\n      this.props.dispatch(clearMessages());\r\n    }, 8000);\r\n  }\r\n\r\n  handleSharedChange = () => {\r\n    let shareBlog = {\r\n      blogId: this.props.blog.id,\r\n      title: this.props.blog.title,\r\n      description: this.props.blog.description,\r\n      createdAt: this.props.blog.createdAt,\r\n      lastModified: this.props.blog.lastModified,\r\n      shared: !(this.props.blog.shared)\r\n    }\r\n\r\n    postSharedBlog(shareBlog).then(res => {\r\n      if (res.error) {\r\n        alert('Something went wrong please try again after sometime.');\r\n      } else if (res.tokenStatus) {\r\n        this.props.dispatch(userLogOut());\r\n      } else {\r\n        this.props.dispatch(sharedBlog(this.props.blog.id));\r\n      }\r\n    });\r\n  }\r\n\r\n  handleRemoveBlog = () => {\r\n    removeBlogFromDb(this.props.blog.id).then(res => {\r\n      if (res.tokenStatus) {\r\n        this.props.dispatch(userLogOut());\r\n      } else if (res.error) {\r\n        alert('Something went wrong. Please try again later');\r\n      } else if (res.message === 'successful') {\r\n        this.props.dispatch(removeBlog({ id: this.props.blog.id }));\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {/* To redirect user when click event occurs on specific blog item in list */}\r\n        {this.state.value ?\r\n          (\r\n            <Redirect push to={{ pathname: '/create', search: `?id=${this.props.blog.id}` }} />\r\n          ) :\r\n          (\r\n            <Card className='items-grid-item'>\r\n              <div className='blog-wrapper'>\r\n                <p onClick={this.handleChange} className='blog-title'>\r\n                  {this.props.blog.shared ? <i className=\"fal fa-users\"></i> : <i className=\"fal fa-user\"></i>}\r\n                  <span>{this.props.blog.title}</span>\r\n                </p>\r\n                <p className='blog-description'>Description: {this.props.blog.description}</p>\r\n                <p className='blog-datetime'>\r\n                  Created At: <span>{moment(this.props.blog.createdAt).format('Do MMM YYYY, hh:mm a')}</span>\r\n                </p>\r\n                <p className='blog-datetime'>\r\n                  Modified On: <span>{moment(this.props.blog.lastModified).format('Do MMM YYYY, hh:mm a')}</span>\r\n                </p>\r\n                <div className='blog-buttons'>\r\n                  <div className='modal-open-button'>\r\n                    <Button onClick={this.handleOpen} size='small'>Share</Button>\r\n                    <Modal\r\n                      aria-labelledby=\"simple-modal-title\"\r\n                      aria-describedby=\"simple-modal-description\"\r\n                      open={this.state.open}\r\n                      onClose={this.handleClose}\r\n                      className='modal'\r\n                    >\r\n                      <Paper className='modal-content'>\r\n                        <Typography variant=\"title\" id=\"modal-title\">\r\n                          Share?\r\n                        </Typography>\r\n                        <Switch\r\n                          checked={this.props.blog.shared}\r\n                          onChange={this.handleSharedChange}\r\n                          color=\"primary\"\r\n                        />\r\n                        {this.props.blog.shared ?\r\n                          (\r\n                            <TextField\r\n                              id=\"name\"\r\n                              value={`${window.location.origin}/public/shared?id=${this.props.blog.id}`}\r\n                              onClick={this.handleLinkClick}\r\n                            />\r\n                          ) :\r\n                          null\r\n                        }\r\n                        <Typography variant=\"subheading\" id=\"simple-modal-description\">\r\n                          By making it public you understand that it will be available to everyone.\r\n                        </Typography>\r\n                      </Paper>\r\n                    </Modal>\r\n                  </div>\r\n                  <div className='blog-delete-button'>\r\n                    <Button onClick={this.handleRemoveBlog} size='small'>\r\n                      Delete <DeleteIcon className='delete-blog-icon' />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          )\r\n        }\r\n        <div >\r\n          {this.props.message.successMessage &&\r\n            <MessageSnackBar\r\n              show={this.props.message.successMessage === '' ? false : true}\r\n              message={this.props.message.successMessage}\r\n            />\r\n          }\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    message: state.message\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(BlogListItem);","export default (blogs, { text, sortBy, startDate, endDate }) => {\r\n  return blogs.filter(blog => {\r\n      const startDateMatch = typeof(startDate) !== 'number' || blog.createdAt >= startDate;\r\n      const endDateMatch = typeof(endDate) !== 'number' || blog.createdAt <= endDate;\r\n      const textMatch = (text === '' ? true :  blog.title.toLowerCase().includes(text.toLowerCase()));\r\n      return startDateMatch && endDateMatch && textMatch;\r\n  }).sort((a, b) => {\r\n      if (sortBy === 'dateCreatedAtDown') {\r\n          return a.createdAt < b.createdAt ? 1 : -1;\r\n      } else if (sortBy === 'dateCreatedAtUp') {\r\n          return a.createdAt < b.createdAt ? -1 : 1;\r\n      } else if (sortBy === 'dateLastModifiedDown') {\r\n          return a.lastModified < b.lastModified ? 1 : -1;\r\n      } else if (sortBy === 'dateLastModifiedUp') {\r\n        return a.lastModified < b.lastModified ? -1 : 1;\r\n    }\r\n      return null;\r\n  });\r\n}","import React, { Fragment } from 'react';\r\nimport './Blogs.css';\r\nimport { connect } from 'react-redux';\r\n\r\nimport BlogListItem from '../BlogListItem/BlogListItem';\r\nimport getBlogs from '../../redux/selectors/getBlogs';\r\n\r\nclass Blogs extends React.Component {\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {/* Only to show table if there is atleast one blog in list */}\r\n        {this.props.blogs.length > 0 ?\r\n          (\r\n            <div className='items-grid'>\r\n              {this.props.blogs.map(blog => <BlogListItem key={blog.id} blog={blog} />)}\r\n            </div>\r\n          )\r\n          : null}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: getBlogs(state.blogs, state.filters)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Blogs);","import React from 'react';\r\nimport './Dashboard.css'\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/Add';\r\n\r\nimport Filters from '../BlogsFilters/BlogsFilters'\r\nimport Blogs from '../Blogs/Blogs';\r\n\r\nclass Dashboard extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className='container'>\r\n          <Filters />\r\n        </div>\r\n        <Blogs />\r\n        <div className='top-button'>\r\n          <Button onClick={() => (window.scrollTo(0, 0))} variant=\"fab\" mini color=\"primary\" aria-label=\"Add Item\">\r\n            <Link to='/create'><ExpandMoreIcon /></Link>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    message: state.message\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Dashboard);","export const getBlogsFromDb = () => {\r\n    return fetch(`https://agro-mart.herokuapp.com/user/blogs${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'get',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","import React, { Fragment } from 'react';\r\nimport './FinalDashboard.css';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nimport Header from '../Header/Header';\r\nimport Dashboard from '../Dashboard/Dashboard';\r\nimport { getBlogsFromDb } from '../../controllers/getBlogs';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\nimport { userLogin, userLogOut } from '../../redux/actions/auth';\r\n\r\nclass FinalDashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (!this.props.auth.loggedIn) {\r\n      // get blogs from server\r\n      getBlogsFromDb().then(res => {\r\n        if (res.error || res.tokenStatus === 'invalid') { // if token invalid dispatch userlogout action\r\n          this.props.dispatch(userLogOut());\r\n          this.setState(() => ({ verifying: false }));\r\n        } else { // else token was valid and dispatch userlogin action\r\n          this.props.dispatch(userLogin());\r\n          this.setState(() => ({ verifying: false }));\r\n          this.props.dispatch(addBlogArr(res.blogs));\r\n        }\r\n      });\r\n    } else {\r\n      this.setState(() => ({ verifying: false }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.verifying ?\r\n        (\r\n          <Fragment>\r\n            <Header />\r\n            <LinearProgress />\r\n          </Fragment>\r\n        ) :\r\n        (this.props.auth.loggedIn ?\r\n          (\r\n            <Fragment>\r\n              <Header />\r\n              <Dashboard />\r\n            </Fragment>\r\n          ) :\r\n          (\r\n            <Redirect to='/user/login' />\r\n          )\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    blogs: state.blogs\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FinalDashboard);","export const updateBlogs = (blogs) => {\r\n    return fetch(`https://agro-mart.herokuapp.com/user/blogs${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'post',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ blogs: blogs })\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","export const editBlogs = (blogs) => {\r\n    return fetch(`https://agro-mart.herokuapp.com/user/blogs${localStorage.getItem('loginToken') === 'undefined' || localStorage.getItem('loginToken') === 'null' ? '': '?token='+localStorage.getItem('loginToken')}`, {\r\n        method: 'put',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ blogs: blogs })\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","import React, { Fragment } from 'react';\r\nimport './Create.css';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { TextField, Button } from '@material-ui/core';\r\n\r\nimport MessageSnackBar from '../MessageSnackBar/MessageSnackBar';\r\nimport { errorMessage, clearMessages } from '../../redux/actions/message';\r\nimport { addBlog, editBlog } from '../../redux/actions/blogs';\r\nimport { userLogOut } from '../../redux/actions/auth';\r\nimport { updateBlogs } from '../../controllers/updateBlogs';\r\nimport { editBlogs } from '../../controllers/editBlogs';\r\n\r\nclass Create extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: null,\r\n      title: '',\r\n      description: '',\r\n      createdAt: null,\r\n      lastModified: null,\r\n      clicked: false,\r\n      modified: false\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    // sets title and description value in local state depending upon what is changed - title/desciption\r\n    // sets modified to true to use it when blog is in edit mode i.e blog is being modified.\r\n    const temp = e.target.value;\r\n    if (e.target.id === 'title') this.setState(() => ({ title: temp, modified: true }));\r\n    else if (e.target.id === 'description') this.setState(() => ({ description: temp, modified: true }));\r\n  }\r\n\r\n  handleClick = (e) => {\r\n    e.preventDefault();\r\n    const title = e.target.elements.title.value;\r\n    const description = e.target.elements.description.value;\r\n\r\n    //check if title and description fields are empty. if so keep submit button disabled.\r\n    if (title !== '' && description !== '') { // blog is being modified then send api call to server and then dispatch editBlog action only if server responds with status okay\r\n      if (this.state.id) { // blog is being modified\r\n        let newBlog = editBlog(this.state.id, { title, description, lastModified: new Date().getTime() });\r\n        // send call to server with necessary values\r\n        editBlogs({ id: newBlog.id, ...newBlog.updates }).then(res => {\r\n          // if tokenStatus status in response was invalid dispatch logout action\r\n          if (res.tokenStatus === 'invalid') {\r\n            this.props.dispatch(userLogOut());\r\n          } else if (res.updated) { // if response was true i.e request was successfully satisfied\r\n            this.props.dispatch(newBlog);\r\n            this.setState(() => ({ clicked: true }));\r\n          } else if (res.error) { // if error was found in response then send alert to user\r\n            this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.error));\r\n            setTimeout(() => {\r\n              this.props.dispatch(clearMessages());\r\n            }, 8000);\r\n          }\r\n        });\r\n      } else { // new blog is being created, under new state\r\n        let newBlog = addBlog({ title, description, createdAt: new Date().getTime(), lastModified: new Date().getTime() });\r\n        // send call to server with necessary values\r\n        updateBlogs(newBlog.blog).then(res => {\r\n          // if response was true i.e request was successfully satisfied\r\n          if (res.updated) {\r\n            this.props.dispatch(newBlog);\r\n            // set click value to true if form is correctly updated so as to redirect user to home page\r\n            this.setState(() => ({ clicked: true }));\r\n          } else if (res.tokenStatus === 'invalid') { // if tokenStatus status in response was invalid dispatch logout action\r\n            this.props.dispatch(userLogOut());\r\n          } else if (res.error) { // if error was found in response then send alert to user\r\n            this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.error));\r\n            setTimeout(() => {\r\n              this.props.dispatch(clearMessages());\r\n            }, 8000);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    // find `id` if it exist in url\r\n    const id = window.location.search.split('=')[1];\r\n    this.setState(() => ({ id: (id ? id : '') }));\r\n    if (id) {\r\n      let correctBlog;\r\n      // fetching correctBlog that matches in blogs array\r\n      this.props.blogs.map((blog) => {\r\n        if (blog.id === id && blog) {\r\n          correctBlog = blog;\r\n        }\r\n        return null;\r\n      });\r\n      if (correctBlog) { // if correct blog exist set its values in state along with id \r\n        this.setState(() => ({ ...correctBlog, id }));\r\n      } else {\r\n        this.props.dispatch(errorMessage('Blog does not exists!', 'Invalid blog id found in url.'));\r\n        window.history.replaceState('new url', null, `${window.location.origin}/create`);\r\n        setTimeout(() => {\r\n          this.props.dispatch(clearMessages());\r\n        }, 8000);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n\r\n        {/* if form submitted then click will be true, so `redirect` to home page*/}\r\n        {this.state.clicked ?\r\n          (\r\n            <Redirect push to='/dashboard' />\r\n          ) :\r\n          (\r\n            <div className='container'>\r\n              <form onSubmit={this.handleClick} onChange={this.handleChange}>\r\n                <div className='title'>\r\n                  <TextField\r\n                    id=\"title\"\r\n                    label=\"Title\"\r\n                    type=\"title\"\r\n                    value={this.state.title}\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    name='title'\r\n                  />\r\n                </div>\r\n                <div className='description'>\r\n                  <TextField\r\n                    id='description'\r\n                    label=\"Description\"\r\n                    placeholder='Description of your blog goes here.'\r\n                    multiline={true}\r\n                    fullWidth={true}\r\n                    value={this.state.description}\r\n                    rows={1}\r\n                    rowsMax={15}\r\n                    name='description'\r\n                  />\r\n                </div>\r\n                <div className='update-blog'>\r\n                  {/* disable the button depending upon the values of title, description and modified */}\r\n                  <Button variant=\"contained\" type='submit' size=\"small\" disabled={!(this.state.title !== '' && this.state.description !== '' && this.state.modified)}>\r\n                    {this.state.id ? 'Update Item' : 'Add Item'}\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n              {this.props.message.errorMessage &&\r\n                <MessageSnackBar\r\n                  show={this.props.message.errorMessage === '' ? false : true}\r\n                  message={this.props.message.errorMessage}\r\n                />\r\n              }\r\n            </div>\r\n          )}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    blogs: state.blogs,\r\n    message: state.message\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Create);","import React, { Fragment } from 'react';\r\nimport './FinalCreate.css';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nimport Header from '../Header/Header';\r\nimport Create from '../Create/Create';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\nimport { getBlogsFromDb } from '../../controllers/getBlogs';\r\nimport { userLogOut, userLogin } from '../../redux/actions/auth';\r\n\r\nclass FinalCreate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true,\r\n      id: ''\r\n    }\r\n  }\r\n\r\n  getBlogs = () => {\r\n    getBlogsFromDb().then(res => {\r\n      if (res.error || res.tokenStatus === 'invalid') { // if token invalid dispatch userlogout action\r\n        this.props.dispatch(userLogOut());\r\n        this.setState(() => ({ verifying: false }));\r\n      } else { // else dispatch userlogin action\r\n        this.props.dispatch(userLogin());\r\n        this.props.dispatch(addBlogArr(res.blogs));\r\n        this.setState(() => ({ verifying: false }));\r\n      }\r\n    });\r\n  }\r\n\r\n  componentWillMount() {\r\n    // if id field exist in url, if so set id in local state\r\n    const id = window.location.search.split('=')[1];\r\n    if (id) this.setState(() => ({ id }));\r\n    // if id exists and blogs length is not zero get all user blogs from server\r\n    if (id && !this.props.auth.loggedIn) { // page was refreshed\r\n      this.getBlogs();\r\n    } else { // user was redirected to create route to create new blog\r\n      this.setState(() => ({ verifying: false }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <Header />\r\n        {this.state.verifying ? (<LinearProgress />) : (this.props.auth.loggedIn ? (<Create />) : (<Redirect to={{ pathname: '/user/login', search: this.state.id !== '' ? `?id=${this.state.id}` : '' }} />))}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    blogs: state.blogs\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FinalCreate);","export const postLoginData = (formData) => {\r\n    return fetch('https://agro-mart.herokuapp.com/user/login', {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(formData)\r\n    }).then(response => {\r\n        return response.json().then(res => {\r\n            return res;\r\n        });\r\n    }).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        console.error(err);\r\n        return err;\r\n    });\r\n}","export const googleAuth = (data) => {\r\n    return fetch(`https://agro-mart.herokuapp.com/user/auth/google`, {\r\n        method: 'post',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(data)\r\n    }).then(res => {\r\n        return res.json().then(result => {\r\n            return result;\r\n        }).then(response => {\r\n            return response;\r\n        });\r\n    });\r\n}","export default {\r\n    \"GOOGLE_CLIENT_ID\": \"787154855555-u9ni1h94lt2u312v3rb2pdfuuc04801j.apps.googleusercontent.com\"\r\n}","import React from 'react';\r\nimport './Login.css';\r\nimport validator from 'validator';\r\nimport { TextField, Button } from '@material-ui/core';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport GoogleLogin from 'react-google-login';\r\n\r\nimport MessageSnackBar from '../MessageSnackBar/MessageSnackBar';\r\nimport { postLoginData } from '../../controllers/loginController';\r\nimport { googleAuth } from '../../controllers/googleAuthController';\r\nimport { userLogin } from '../../redux/actions/auth';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\nimport { clearMessages, errorMessage } from '../../redux/actions/message';\r\nimport secrets from '../../secret';\r\n\r\n// TODO: redirect to login and bring user back to where he was\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      errorEmail: false,\r\n      errorPassword: false,\r\n      errorEmailText: null,\r\n      errorPasswordText: null,\r\n      id: null,\r\n      redirectSignup: false\r\n    }\r\n  }\r\n\r\n  handleEmailChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ email: temp, errorEmail: false }));\r\n  }\r\n\r\n  handlePasswordChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ password: temp, errorPassword: false }));\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    // will show errors depending on values of text fields and if everything is perfect dispatch user login\r\n    e.preventDefault();\r\n    const email = e.target.elements.email.value;\r\n    const password = e.target.elements.password.value;\r\n    if (!validator.isEmail(email)) {\r\n      this.setState(() => ({ errorEmail: true, errorEmailText: 'Please input valid email.' }));\r\n    } else if (password === '') {\r\n      this.setState(() => ({ errorPassword: true, errorPasswordText: 'Password is required' }));\r\n    } else {\r\n      // send login data to server\r\n      postLoginData({ email, password }).then(res => {\r\n        if (res.errorPassword) {\r\n          this.setState(() => ({ errorPassword: true, errorPasswordText: res.errorMessage }));\r\n        } else if (res.errorEmail) {\r\n          this.setState(() => ({ errorEmail: true, errorEmailText: res.errorMessage }));\r\n        } else if (res.error) {\r\n          this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.errorMessage))\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        } else { // successful login\r\n          localStorage.setItem('loginToken', res.token);\r\n          this.props.dispatch(addBlogArr(res.blogs))\r\n          this.props.dispatch(userLogin());\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  responseGoogle = (response) => {\r\n    if (!response.error) {\r\n      let user = {\r\n        username: response.profileObj.name,\r\n        email: response.profileObj.email,\r\n        accessToken: response.accessToken,\r\n        refreshToken: response.refreshToken,\r\n        profileImage: response.profileObj.imageUrl,\r\n        googleId: response.googleId\r\n      }\r\n      googleAuth(user).then(res => {\r\n        if (res.errorUserType || res.errorPosition) {\r\n          this.props.dispatch(errorMessage('User does not exists. We need few information to create a new user.', res.errorMessage))\r\n          this.setState({ redirectSignup: true });\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        } else if (!res.error) {\r\n          localStorage.setItem('loginToken', res.jwtToken);\r\n          this.props.dispatch(addBlogArr(res.blogs));\r\n          this.props.dispatch(userLogin());\r\n        } else {\r\n          this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.errorMessage))\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n      })\r\n    }\r\n  }\r\n\r\n  // check if user was redirected from register page by creating new account\r\n  // if so then check successMessage\r\n  componentWillMount() {\r\n    if (this.props.message.successMessage) {\r\n      setTimeout(() => {\r\n        this.props.dispatch(clearMessages());\r\n      }, 8000);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.redirectSignup ?\r\n        (<Redirect to='/user/register' />\r\n        ) :\r\n        (\r\n          <div className='login-form'>\r\n            <form method='POST' onSubmit={this.handleSubmit}>\r\n\r\n              <div className='email-field'>\r\n                <TextField\r\n                  id=\"email\"\r\n                  label=\"Email\"\r\n                  margin=\"normal\"\r\n                  name='email'\r\n                  fullWidth\r\n                  helperText={this.state.errorEmail ? this.state.errorEmailText : null}\r\n                  error={this.state.errorEmail ? true : false}\r\n                  onChange={this.handleEmailChange}\r\n                  value={this.state.email}\r\n                />\r\n              </div>\r\n\r\n              <div className='password-field'>\r\n                <TextField\r\n                  id=\"password-input\"\r\n                  label=\"Password\"\r\n                  error={this.state.errorPassword ? true : false}\r\n                  type=\"password\"\r\n                  margin=\"normal\"\r\n                  name='password'\r\n                  onChange={this.handlePasswordChange}\r\n                  helperText={this.state.errorPassword ? this.state.errorPasswordText : null}\r\n                  fullWidth\r\n                  value={this.state.password}\r\n                />\r\n              </div>\r\n\r\n              <div className='form-login-button'>\r\n                <Button size=\"small\" variant='outlined' fullWidth type='submit'>\r\n                  Login\r\n            </Button>\r\n              </div>\r\n\r\n              <div className='new-user'>\r\n                <Link to='/user/register'>\r\n                  <Button size=\"small\" variant='outlined' fullWidth>\r\n                    Sign up\r\n              </Button>\r\n                </Link>\r\n              </div>\r\n\r\n              <div className='third-party-login'>\r\n                <GoogleLogin\r\n                  clientId={secrets.GOOGLE_CLIENT_ID}\r\n                  buttonText=\"Login\"\r\n                  render={renderProps => (\r\n                    <Button onClick={renderProps.onClick} size=\"small\" variant='outlined' fullWidth>\r\n                      <img alt='google logo' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IgogICAgIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIKICAgICB2aWV3Qm94PSIwIDAgNDggNDgiCiAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDsiPjxnIGlkPSJzdXJmYWNlMSI+PHBhdGggc3R5bGU9IiBmaWxsOiNGRkMxMDc7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzMy42NTIzNDQgMzIuNjU2MjUgMjkuMjIyNjU2IDM2IDI0IDM2IEMgMTcuMzcxMDk0IDM2IDEyIDMwLjYyODkwNiAxMiAyNCBDIDEyIDE3LjM3MTA5NCAxNy4zNzEwOTQgMTIgMjQgMTIgQyAyNy4wNTg1OTQgMTIgMjkuODQzNzUgMTMuMTUyMzQ0IDMxLjk2MDkzOCAxNS4wMzkwNjMgTCAzNy42MTcxODggOS4zODI4MTMgQyAzNC4wNDY4NzUgNi4wNTQ2ODggMjkuMjY5NTMxIDQgMjQgNCBDIDEyLjk1MzEyNSA0IDQgMTIuOTUzMTI1IDQgMjQgQyA0IDM1LjA0Njg3NSAxMi45NTMxMjUgNDQgMjQgNDQgQyAzNS4wNDY4NzUgNDQgNDQgMzUuMDQ2ODc1IDQ0IDI0IEMgNDQgMjIuNjYwMTU2IDQzLjg2MzI4MSAyMS4zNTE1NjMgNDMuNjA5Mzc1IDIwLjA4MjAzMSBaICI+PC9wYXRoPjxwYXRoIHN0eWxlPSIgZmlsbDojRkYzRDAwOyIgZD0iTSA2LjMwNDY4OCAxNC42OTE0MDYgTCAxMi44Nzg5MDYgMTkuNTExNzE5IEMgMTQuNjU2MjUgMTUuMTA5Mzc1IDE4Ljk2MDkzOCAxMiAyNCAxMiBDIDI3LjA1ODU5NCAxMiAyOS44NDM3NSAxMy4xNTIzNDQgMzEuOTYwOTM4IDE1LjAzOTA2MyBMIDM3LjYxNzE4OCA5LjM4MjgxMyBDIDM0LjA0Njg3NSA2LjA1NDY4OCAyOS4yNjk1MzEgNCAyNCA0IEMgMTYuMzE2NDA2IDQgOS42NTYyNSA4LjMzNTkzOCA2LjMwNDY4OCAxNC42OTE0MDYgWiAiPjwvcGF0aD48cGF0aCBzdHlsZT0iIGZpbGw6IzRDQUY1MDsiIGQ9Ik0gMjQgNDQgQyAyOS4xNjQwNjMgNDQgMzMuODU5Mzc1IDQyLjAyMzQzOCAzNy40MTAxNTYgMzguODA4NTk0IEwgMzEuMjE4NzUgMzMuNTcwMzEzIEMgMjkuMjEwOTM4IDM1LjA4OTg0NCAyNi43MTQ4NDQgMzYgMjQgMzYgQyAxOC43OTY4NzUgMzYgMTQuMzgyODEzIDMyLjY4MzU5NCAxMi43MTg3NSAyOC4wNTQ2ODggTCA2LjE5NTMxMyAzMy4wNzgxMjUgQyA5LjUwMzkwNiAzOS41NTQ2ODggMTYuMjI2NTYzIDQ0IDI0IDQ0IFogIj48L3BhdGg+PHBhdGggc3R5bGU9IiBmaWxsOiMxOTc2RDI7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzNC41MTE3MTkgMzAuMjM4MjgxIDMzLjA3MDMxMyAzMi4xNjQwNjMgMzEuMjE0ODQ0IDMzLjU3MDMxMyBDIDMxLjIxODc1IDMzLjU3MDMxMyAzMS4yMTg3NSAzMy41NzAzMTMgMzEuMjE4NzUgMzMuNTcwMzEzIEwgMzcuNDEwMTU2IDM4LjgwODU5NCBDIDM2Ljk3MjY1NiAzOS4yMDMxMjUgNDQgMzQgNDQgMjQgQyA0NCAyMi42NjAxNTYgNDMuODYzMjgxIDIxLjM1MTU2MyA0My42MDkzNzUgMjAuMDgyMDMxIFogIj48L3BhdGg+PC9nPjwvc3ZnPg==\" />\r\n                      Sign in with google\r\n                </Button>\r\n                  )}\r\n                  onSuccess={this.responseGoogle}\r\n                  onFailure={this.responseGoogle}\r\n                />\r\n              </div>\r\n              {this.props.message.errorMessage &&\r\n                <MessageSnackBar\r\n                  show={this.props.message.errorMessage === '' ? false : true}\r\n                  message={this.props.message.errorMessage}\r\n                />\r\n              }\r\n              {this.props.message.successMessage &&\r\n                <MessageSnackBar\r\n                  show={this.props.message.successMessage === '' ? false : true}\r\n                  message={this.props.message.successMessage}\r\n                />\r\n              }\r\n            </form>\r\n          </div>\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    message: state.message\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Login);","import React, { Fragment } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nimport './FinalLogin.css';\r\n\r\nimport Header from '../Header/Header';\r\nimport Login from '../Login/Login';\r\nimport { userLogin, userLogOut } from '../../redux/actions/auth';\r\nimport { getBlogsFromDb } from '../../controllers/getBlogs';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\n\r\nclass FinalLogin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true,\r\n      id: ''\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    const id = window.location.search.split('=')[1];\r\n    if (id) this.setState(() => ({ id }));\r\n    // get blogs from server\r\n    getBlogsFromDb().then(res => {\r\n      if (res.tokenStatus === 'invalid' || res.error) { // if error or invalid token status render login page, user is logged out\r\n        this.props.dispatch(userLogOut());\r\n        this.setState(() => ({ verifying: false }));\r\n      } else { // else redirect to dashboard page, user is already logged in\r\n        this.props.dispatch(userLogin());\r\n        this.props.dispatch(addBlogArr(res.blogs))\r\n        this.setState(() => ({ verifying: false }));\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.verifying ?\r\n        (\r\n          <Fragment>\r\n            <Header />\r\n            <LinearProgress />\r\n          </Fragment>\r\n        ) :\r\n        (\r\n          this.props.auth.loggedIn ?\r\n            <Redirect to={this.state.id !== '' ? `/create?id=${this.state.id}` : '/dashboard'} /> :\r\n            (\r\n              <Fragment>\r\n                <Header />\r\n                <Login />\r\n              </Fragment>\r\n            )\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FinalLogin);","export const postSignupData = (formData) => {\r\n    return fetch('https://agro-mart.herokuapp.com/user/register', {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(formData)\r\n    }).then(response => {\r\n        return response.json().then(res => {\r\n            return res;\r\n        });\r\n    }).then(res => {\r\n        return res;\r\n    }).catch(err => {\r\n        console.error(err);\r\n        return err;\r\n    });\r\n}","import React from 'react';\r\nimport './Register.css';\r\nimport validator from 'validator';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport { TextField, Button, Radio, Typography } from '@material-ui/core';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { connect } from 'react-redux';\r\n\r\nimport MessageSnackBar from '../MessageSnackBar/MessageSnackBar';\r\nimport { postSignupData } from '../../controllers/signupController';\r\nimport secrets from '../../secret';\r\nimport { googleAuth } from '../../controllers/googleAuthController';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\nimport { userLogin } from '../../redux/actions/auth';\r\nimport { errorMessage, clearMessages, successMessage } from '../../redux/actions/message';\r\n\r\nconst regEx = '^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})';\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      errorEmail: false,\r\n      errorPassword: false,\r\n      errorConfirmPassword: false,\r\n      errorName: false,\r\n      errorNameText: 'Name should be atleast three characters long.',\r\n      errorEmailText: 'Email should be valid',\r\n      errorPasswordText: 'Password should be 6 characters long and should include atleast one uppercase letter or numeric character.',\r\n      errorConfirmPasswordText: 'Both passwords should match.',\r\n      redirect: false,\r\n      typePerson: 'farmer',\r\n      position: undefined,\r\n      errorPosition: false,\r\n      errorPositionText: 'Please enable location'\r\n    }\r\n  }\r\n\r\n  handleNameChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ name: temp, errorName: false }));\r\n  }\r\n  handleEmailChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ email: temp, errorEmail: false }));\r\n  }\r\n\r\n  handleTypeChange = (e) => {\r\n    if (e.target.value === 'customer') {\r\n      this.setState(() => ({ typePerson: 'customer' }));\r\n    } else {\r\n      this.setState(() => ({ typePerson: 'farmer' }));\r\n    }\r\n  }\r\n\r\n  handlePasswordChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ password: temp, errorPassword: false }));\r\n  }\r\n\r\n  handleConfirmPasswordChange = (e) => {\r\n    const temp = e.target.value;\r\n    this.setState(() => ({ confirmPassword: temp, errorConfirmPassword: false }));\r\n  }\r\n\r\n  handleGeolocationClick = (e) => {\r\n    let that = this;\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(function (position) {\r\n        that.setState({ position: { latitude: position.coords.latitude, longitude: position.coords.longitude } })\r\n      });\r\n    } else {\r\n\r\n    }\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const name = e.target.elements.name.value;\r\n    const email = e.target.elements.email.value;\r\n    const password = e.target.elements.pass0.value;\r\n    const confirmPassword = e.target.elements.pass1.value;\r\n    const personType = this.state.typePerson;\r\n    const position = this.state.position;\r\n    if (name.length < 3) {\r\n      this.setState(() => ({ errorName: true }));\r\n    } else if (!validator.isEmail(email)) {\r\n      this.setState(() => ({ errorEmail: true }));\r\n    } else if (!validator.matches(password, regEx)) {\r\n      this.setState(() => ({ errorPassword: true }));\r\n    } else if (password !== confirmPassword) {\r\n      this.setState(() => ({ errorConfirmPassword: true }));\r\n    } else {\r\n      postSignupData({ username: name, email, password, confirmPassword, userType: personType, position }).then(res => {\r\n        if (res.errorName) {\r\n          this.setState(() => ({ errorName: true, errorNameText: res.errorMessage }));\r\n        } else if (res.errorEmail) {\r\n          this.setState(() => ({ errorEmail: true, errorEmailText: res.errorMessage }));\r\n        } else if (res.errorConfirmPassword) {\r\n          this.setState(() => ({ errorPassword: true, errorPasswordText: res.errorMessage }));\r\n        } else if (res.errorPassword) {\r\n          this.setState(() => ({ errorPassword: true, errorConfirmPasswordText: res.errorMessage }));\r\n        } else if (res.errorPosition) {\r\n          this.setState({ errorPosition: true });\r\n        } else if (res.success) {\r\n          this.props.dispatch(successMessage('User created! You can now login.', res.successMessage));\r\n          this.setState(() => ({ redirect: true }));\r\n        } else {\r\n          this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.errorMessage))\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  responseGoogle = (response) => {\r\n    if (!this.state.position) {\r\n      this.setState({ errorPosition: true });\r\n      this.props.dispatch(errorMessage('We need to know your location in order to show your items to nearby cosumers.'));\r\n      setTimeout(() => {\r\n        this.props.dispatch(clearMessages())\r\n      }, 8000);\r\n    } else if (!response.error) {\r\n      let user = {\r\n        username: response.profileObj.name,\r\n        email: response.profileObj.email,\r\n        accessToken: response.accessToken,\r\n        refreshToken: response.refreshToken,\r\n        profileImage: response.profileObj.imageUrl,\r\n        googleId: response.googleId,\r\n        userType: this.state.typePerson,\r\n        position: this.state.position\r\n      }\r\n      googleAuth(user).then(res => {\r\n        if (!response.error) {\r\n          localStorage.setItem('loginToken', res.jwtToken);\r\n          this.props.dispatch(addBlogArr(res.blogs));\r\n          this.props.dispatch(userLogin());\r\n        } else {\r\n          this.props.dispatch(errorMessage('Oops! Something went wrong. This might be an API error. Report the error here or try refreshing the page.', res.errorMessage))\r\n          setTimeout(() => {\r\n            this.props.dispatch(clearMessages())\r\n          }, 8000);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return (\r\n        <Redirect to={'/dashboard'} />\r\n      )\r\n    }\r\n    return (\r\n      this.state.redirect ?\r\n        (\r\n          <Redirect to='/user/login' />\r\n        ) :\r\n        (\r\n          <div className='register-form'>\r\n            <form method='POST' onSubmit={this.handleSubmit}>\r\n\r\n              <div className='name-field'>\r\n                <TextField\r\n                  id=\"name\"\r\n                  label=\"Name\"\r\n                  margin=\"normal\"\r\n                  name='username'\r\n                  onChange={this.handleNameChange}\r\n                  value={this.state.name}\r\n                  error={this.state.errorName}\r\n                  helperText={this.state.errorName ? this.state.errorNameText : null}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              <div className='email-field'>\r\n                <TextField\r\n                  id=\"email\"\r\n                  label=\"Email\"\r\n                  margin=\"normal\"\r\n                  name='email'\r\n                  onChange={this.handleEmailChange}\r\n                  value={this.state.email}\r\n                  error={this.state.errorEmail}\r\n                  helperText={this.state.errorEmail ? this.state.errorEmailText : null}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              <div className='password-field-1'>\r\n                <TextField\r\n                  id=\"password-input-1\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  margin=\"normal\"\r\n                  name='pass0'\r\n                  onChange={this.handlePasswordChange}\r\n                  value={this.state.password}\r\n                  error={this.state.errorPassword}\r\n                  helperText={this.state.errorPassword ? this.state.errorPasswordText : null}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              <div className='password-field-2'>\r\n                <TextField\r\n                  id=\"password-input-2\"\r\n                  label=\"Confirm Password\"\r\n                  type=\"password\"\r\n                  margin=\"normal\"\r\n                  name='pass1'\r\n                  onChange={this.handleConfirmPasswordChange}\r\n                  value={this.state.confirmPassword}\r\n                  error={this.state.errorConfirmPassword}\r\n                  helperText={this.state.errorConfirmPassword ? this.state.errorConfirmPasswordText : false}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              <div className='mandatory-fields-alert'>\r\n                <Typography variant=\"body2\" gutterBottom>\r\n                  Below two fields are mandatory even if you register with google.\r\n                </Typography>\r\n              </div>\r\n\r\n              <div>\r\n                <div>\r\n                  <Radio\r\n                    checked={this.state.typePerson === 'farmer'}\r\n                    onChange={this.handleTypeChange}\r\n                    value=\"farmer\"\r\n                    name=\"radio-button-demo\"\r\n                    aria-label=\"A\"\r\n                  /> Farmer\r\n                </div>\r\n                <div>\r\n                  <Radio\r\n                    checked={this.state.typePerson === 'customer'}\r\n                    onChange={this.handleTypeChange}\r\n                    value=\"customer\"\r\n                    name=\"radio-button-demo\"\r\n                    aria-label=\"A\"\r\n                  /> Customer\r\n                </div>\r\n              </div>\r\n\r\n              <div className='enable-geolocation'>\r\n                <Button size=\"small\" onClick={this.handleGeolocationClick}>\r\n                  <i className=\"fal fa-location\"></i>Location\r\n                </Button>\r\n                &nbsp;&nbsp;\r\n                <TextField\r\n                  placeholder={'Geo-Location'}\r\n                  className='geolocation-input'\r\n                  error={this.state.errorPosition}\r\n                  helperText={this.state.errorPosition ? this.state.errorPositionText : false}\r\n                  value={this.state.position && `${this.state.position.latitude}, ${this.state.position.longitude}`}\r\n                  margin=\"normal\"\r\n                />\r\n              </div>\r\n\r\n              <div className='register-new-user'>\r\n                <Button size=\"small\" variant='outlined' fullWidth type='submit'>\r\n                  Sign up\r\n                </Button>\r\n              </div>\r\n\r\n              <div className='register-form-login-button'>\r\n                <Link to='/user/login'>\r\n                  <Button size=\"small\" variant='outlined' fullWidth>\r\n                    Log In\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n\r\n              <div className='third-party-login'>\r\n                <GoogleLogin\r\n                  clientId={secrets.GOOGLE_CLIENT_ID}\r\n                  buttonText=\"Login\"\r\n                  render={renderProps => (\r\n                    <Button onClick={renderProps.onClick} size=\"small\" variant='outlined' fullWidth>\r\n                      <img alt='google logo' src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IgogICAgIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIKICAgICB2aWV3Qm94PSIwIDAgNDggNDgiCiAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDsiPjxnIGlkPSJzdXJmYWNlMSI+PHBhdGggc3R5bGU9IiBmaWxsOiNGRkMxMDc7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzMy42NTIzNDQgMzIuNjU2MjUgMjkuMjIyNjU2IDM2IDI0IDM2IEMgMTcuMzcxMDk0IDM2IDEyIDMwLjYyODkwNiAxMiAyNCBDIDEyIDE3LjM3MTA5NCAxNy4zNzEwOTQgMTIgMjQgMTIgQyAyNy4wNTg1OTQgMTIgMjkuODQzNzUgMTMuMTUyMzQ0IDMxLjk2MDkzOCAxNS4wMzkwNjMgTCAzNy42MTcxODggOS4zODI4MTMgQyAzNC4wNDY4NzUgNi4wNTQ2ODggMjkuMjY5NTMxIDQgMjQgNCBDIDEyLjk1MzEyNSA0IDQgMTIuOTUzMTI1IDQgMjQgQyA0IDM1LjA0Njg3NSAxMi45NTMxMjUgNDQgMjQgNDQgQyAzNS4wNDY4NzUgNDQgNDQgMzUuMDQ2ODc1IDQ0IDI0IEMgNDQgMjIuNjYwMTU2IDQzLjg2MzI4MSAyMS4zNTE1NjMgNDMuNjA5Mzc1IDIwLjA4MjAzMSBaICI+PC9wYXRoPjxwYXRoIHN0eWxlPSIgZmlsbDojRkYzRDAwOyIgZD0iTSA2LjMwNDY4OCAxNC42OTE0MDYgTCAxMi44Nzg5MDYgMTkuNTExNzE5IEMgMTQuNjU2MjUgMTUuMTA5Mzc1IDE4Ljk2MDkzOCAxMiAyNCAxMiBDIDI3LjA1ODU5NCAxMiAyOS44NDM3NSAxMy4xNTIzNDQgMzEuOTYwOTM4IDE1LjAzOTA2MyBMIDM3LjYxNzE4OCA5LjM4MjgxMyBDIDM0LjA0Njg3NSA2LjA1NDY4OCAyOS4yNjk1MzEgNCAyNCA0IEMgMTYuMzE2NDA2IDQgOS42NTYyNSA4LjMzNTkzOCA2LjMwNDY4OCAxNC42OTE0MDYgWiAiPjwvcGF0aD48cGF0aCBzdHlsZT0iIGZpbGw6IzRDQUY1MDsiIGQ9Ik0gMjQgNDQgQyAyOS4xNjQwNjMgNDQgMzMuODU5Mzc1IDQyLjAyMzQzOCAzNy40MTAxNTYgMzguODA4NTk0IEwgMzEuMjE4NzUgMzMuNTcwMzEzIEMgMjkuMjEwOTM4IDM1LjA4OTg0NCAyNi43MTQ4NDQgMzYgMjQgMzYgQyAxOC43OTY4NzUgMzYgMTQuMzgyODEzIDMyLjY4MzU5NCAxMi43MTg3NSAyOC4wNTQ2ODggTCA2LjE5NTMxMyAzMy4wNzgxMjUgQyA5LjUwMzkwNiAzOS41NTQ2ODggMTYuMjI2NTYzIDQ0IDI0IDQ0IFogIj48L3BhdGg+PHBhdGggc3R5bGU9IiBmaWxsOiMxOTc2RDI7IiBkPSJNIDQzLjYwOTM3NSAyMC4wODIwMzEgTCA0MiAyMC4wODIwMzEgTCA0MiAyMCBMIDI0IDIwIEwgMjQgMjggTCAzNS4zMDQ2ODggMjggQyAzNC41MTE3MTkgMzAuMjM4MjgxIDMzLjA3MDMxMyAzMi4xNjQwNjMgMzEuMjE0ODQ0IDMzLjU3MDMxMyBDIDMxLjIxODc1IDMzLjU3MDMxMyAzMS4yMTg3NSAzMy41NzAzMTMgMzEuMjE4NzUgMzMuNTcwMzEzIEwgMzcuNDEwMTU2IDM4LjgwODU5NCBDIDM2Ljk3MjY1NiAzOS4yMDMxMjUgNDQgMzQgNDQgMjQgQyA0NCAyMi42NjAxNTYgNDMuODYzMjgxIDIxLjM1MTU2MyA0My42MDkzNzUgMjAuMDgyMDMxIFogIj48L3BhdGg+PC9nPjwvc3ZnPg==\" />\r\n                      Sign up with Google\r\n                    </Button>\r\n                  )}\r\n                  onSuccess={this.responseGoogle}\r\n                  onFailure={this.responseGoogle}\r\n                />\r\n              </div>\r\n\r\n            </form>\r\n\r\n            {this.props.message.errorMessage &&\r\n              <MessageSnackBar\r\n                show={this.props.message.errorMessage === '' ? false : true}\r\n                message={this.props.message.errorMessage}\r\n              />\r\n            }\r\n\r\n          </div>\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    message: state.message\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Register);","import React, { Fragment } from 'react';\r\nimport './FinalRegister.css';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport Header from '../Header/Header';\r\nimport Register from '../Register/Register';\r\nimport { userLogin, userLogOut } from '../../redux/actions/auth';\r\nimport { getBlogsFromDb } from '../../controllers/getBlogs';\r\nimport { LinearProgress } from '@material-ui/core';\r\nimport { addBlogArr } from '../../redux/actions/blogs';\r\n\r\nclass FinalRegister extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      verifying: true\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    getBlogsFromDb().then(res => {\r\n      if (res.tokenStatus === 'invalid' || res.error) { // invalid token status or error in response of server\r\n        this.props.dispatch(userLogOut());\r\n        this.setState(() => ({ verifying: false }));\r\n      } else { // valid token and user is already logged in\r\n        this.props.dispatch(userLogin());\r\n        this.props.dispatch(addBlogArr(res.blogs))\r\n        this.setState(() => ({ verifying: false }))\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.verifying ?\r\n        (\r\n          <Fragment>\r\n            <Header />\r\n            <LinearProgress />\r\n          </Fragment>\r\n        ) :\r\n        (\r\n          this.props.auth.loggedIn ?\r\n            (\r\n              <Redirect to='/dashboard' />\r\n            ) :\r\n            (\r\n              <Fragment>\r\n                <Header />\r\n                <Register />\r\n              </Fragment>\r\n            )\r\n        )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FinalRegister);","import React, { Fragment } from 'react';\r\nimport './Shared.css';\r\nimport { Typography, LinearProgress } from '@material-ui/core';\r\n\r\nimport Header from '../Header/Header';\r\nimport { getSharedBlog } from '../../controllers/shared';\r\n\r\nclass Shared extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      blog: null,\r\n      fetching: true\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    const id = window.location.search.split('=')[1];\r\n    if (id) {\r\n      getSharedBlog(id).then(res => {\r\n        if (res.error === 'does not exist') {\r\n          this.setState(() => ({ error: res.error, fetching: false }));\r\n        } else if (res.error === 'no id found in query') {\r\n          this.setState(() => ({ error: res.error, fetching: false }));\r\n        } else {\r\n          this.setState(() => ({ blog: { ...res.blog }, fetching: false }));\r\n        }\r\n      });\r\n    } else {\r\n      this.setState(() => ({ error: 'no id found in query', fetching: false }));\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        {this.state.fetching ?\r\n          <LinearProgress /> :\r\n          (\r\n            <div className='shared-blog'>\r\n              {this.state.error === 'does not exist' ?\r\n                (\r\n                  <Typography variant=\"headline\" gutterBottom>\r\n                    Blog does not exist or either it is not shared by the owner or this link is not valid.\r\n                  </Typography>\r\n                ) :\r\n                (this.state.error === 'no id found in query' ?\r\n                  (\r\n                    <Typography variant=\"headline\" gutterBottom>\r\n                      No id found in URL. Server responded with null. Please get a valid link.\r\n                  </Typography>\r\n                  ) :\r\n                  (\r\n                    <Fragment>\r\n                      <div className='shared-title'>\r\n                        <Typography variant=\"headline\" gutterBottom>\r\n                          {this.state.blog.title}\r\n                        </Typography>\r\n                      </div>\r\n                      <div className='shared-description'>\r\n                        <Typography variant=\"body2\" gutterBottom>\r\n                          {this.state.blog.description}\r\n                        </Typography>\r\n                      </div>\r\n                    </Fragment>\r\n                  )\r\n                )}\r\n            </div>\r\n          )\r\n        }\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Shared;","import React from 'react'\r\nimport './Error404.css'\r\nimport Button from '@material-ui/core/Button';\r\n\r\nclass Error404 extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className='main-error-container'>\r\n                <div className='error-container'>\r\n                    <p> <span>Error 404!</span> Page Not Found!</p>\r\n                    <p> <span>Sorry!</span> Something doesn't seem quite right. Report this problem here.</p>\r\n                    <div onClick={() => window.history.back()}>\r\n                        <Button color=\"secondary\">\r\n                            Go Back here\r\n                    </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Error404;","import React, { Component } from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport FinalHome from './components/FinalHome/FinalHome';\nimport FinalDashboard from './components/FinalDashboard/FinalDashboard';\nimport FinalCreate from './components/FinalCreate/FinalCreate';\nimport FinalLogin from './components/FinalLogin/FinalLogin';\nimport FinalRegister from './components/FinalRegister/FinalRegister';\nimport Shared from './components/Shared/Shared';\nimport Error404 from './components/Error404/Error404';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n          <Switch>\n            <Route path='/' component={FinalHome} exact={true} />\n            <Route path='/dashboard' component={FinalDashboard} />\n            <Route path='/user/login' component={FinalLogin} />\n            <Route path='/user/register' component={FinalRegister} />\n            <Route path='/create' component={FinalCreate} />\n            <Route path='/public/shared' component={Shared} />\n            <Route path='/error' component={Error404} />\n            {/* Redirect to /error if some error occurs fetching */}\n          </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;","const blogsReducerDefaultState = [];\r\n\r\nexport default (state = blogsReducerDefaultState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_BLOG':\r\n            return [...state, action.blog];\r\n        case 'REMOVE_BLOG':\r\n            return state.filter(blog => blog.id !== action.id);\r\n        case 'EDIT_BLOG':\r\n            return state.map(blog => blog.id === action.id ? {...blog, ...action.updates } : blog);\r\n        case 'ADD_BLOG_ARR':\r\n            return action.blogs;\r\n        case 'SHARED_BLOG': \r\n            return state.map(blog => blog.id === action.id ? {...blog, shared: !blog.shared} : blog);\r\n        default:\r\n            return state;\r\n    }\r\n};","import moment from 'moment';\r\n\r\nconst filtersReducerDefaultState = {\r\n  text: '',\r\n  sortBy: 'dateCreatedAtDown',\r\n  startDate: null,\r\n  endDate: moment().endOf('day')\r\n}\r\n\r\nexport default (state = filtersReducerDefaultState, action) => {\r\n  switch (action.type) {\r\n      case 'SET_TEXT_FILTER':\r\n          return {...state, text: action.text }\r\n      case 'SET_DATE_FILTER':\r\n          return {...state, sortBy: action.date }\r\n      case 'SET_START_DATE':\r\n          return {...state, startDate: action.startDate }\r\n      case 'SET_END_DATE':\r\n          return {...state, endDate: action.endDate ? action.endDate : moment().endOf('day') }\r\n      default:\r\n          return state;\r\n  }\r\n};\r\n","const authReducerDefaultState = {\r\n    loggedIn: false,\r\n    loggedOut: true,\r\n    signUpMessage: null\r\n}\r\n\r\nexport default (state = authReducerDefaultState, action) => {\r\n    switch (action.type) {\r\n        case 'LOGGED_IN':\r\n            return {...state, loggedIn: true, loggedOut: false };\r\n        case 'LOGGED_OUT':\r\n            return {...state, loggedIn: false, loggedOut: true };\r\n        case 'SIGNUP_SUCCESS':\r\n            return {...state, signUpMessage: 'Singup Successfull! You can now login.' };\r\n        case 'REMOVE_SIGNUP':\r\n            return {...state, signUpMessage: null }\r\n        default:\r\n            return state;\r\n    }\r\n}","const messageReducerDefaultState = {\r\n    successMessage: null,\r\n    errorMessage: null,\r\n    error: null\r\n}\r\n\r\nexport default (state = messageReducerDefaultState, action) => {\r\n    switch (action.type) {\r\n        case 'SUCCESS_MESSAGE':\r\n            return {...state, successMessage: action.successMessage };\r\n        case 'ERROR_MESSAGE':\r\n            return {...state, errorMessage: action.errorMessage, error: action.error };\r\n        case 'CLEAR_ALL':\r\n            return {...state, errorMessage: null, successMessage: null, error: null };\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport configureStore from './redux/store/configureStore';\n\nconst store = configureStore();\n\nif('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('/sw.js').then(function() {\n    console.log(\"service worker registered!\");\n  });\n}\n\nconst jsx = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nReactDOM.render(jsx, document.getElementById('root'));\n","import { createStore, combineReducers } from 'redux';\r\nimport blogsReducer from '../reducers/blogs';\r\nimport filtersReducer from '../reducers/filters';\r\nimport authReducer from '../reducers/auth';\r\nimport messageReducer from '../reducers/message';\r\n\r\nexport default () => {\r\n    const store = createStore(\r\n        combineReducers({\r\n            blogs: blogsReducer,\r\n            filters: filtersReducer,\r\n            auth: authReducer,\r\n            message: messageReducer\r\n        })\r\n    );\r\n    return store;\r\n}"],"sourceRoot":""}